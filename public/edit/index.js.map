{"version":3,"file":"index.js","sources":["../../node_modules/@kenzap/k-cloud/index.js","../../src/_/_helpers.js","../../src/_/_cnt_page_edit_settings.js","../../src/_/_controls-v3.js","../../src/_/_cnt_page_edit.js","../../src/edit/index.js"],"sourcesContent":["/**\n * @name initHeader\n * @description Initiates Kenzap Cloud extension header and related scripts. Verifies user sessions, handles SSO, does cloud space navigation, initializes i18n localization. \n * @param {object} response\n */\nexport const initHeader = (response) => {\n\n    // cache header from backend\n    if(response.header) localStorage.setItem('header', response.header);\n\n    // cache CDN link\n    if(response.cdn) localStorage.setItem('cdn', response.cdn);\n  \n    // load header to html if not present\n    if(!document.querySelector(\"#k-script\")){\n  \n        let child = document.createElement('div');\n        child.innerHTML = localStorage.getItem('header');\n        child = child.firstChild;\n        document.body.prepend(child);\n  \n        // run header scripts\n        Function(document.querySelector(\"#k-script\").innerHTML).call('test');\n    }\n  \n    // load locales if present\n    if(response.locale) window.i18n.init(response.locale); \n}\n\n/*\n * Translates string based on preloaded i18n locale values.\n * \n * @param text {String} text to translate\n * @param p {String} list of parameters, to be replaced with %1$, %2$..\n * @returns {String} - text\n */\nexport const __init = (locale) => {\n\n    if(typeof locale !== 'object' || locale === null) return;\n\n    if(typeof window.i18n === 'undefined') window.i18n = {};\n\n    if(typeof window.i18n.state === 'undefined') window.i18n.state = { locale: {} };\n   \n    window.i18n.state.locale = locale;\n}\n\n/*\n * Translates string based on preloaded i18n locale values.\n * \n * @param text {String} text to translate\n * @param p {String} list of parameters, to be replaced with %1$, %2$..\n * @returns {String} - text\n */\nexport const __ = (text, ...p) => {\n\n    let match = (input, pa) => {\n\n        pa.forEach((p, i) => { input = input.replace('%'+(i+1)+'$', p); }); \n        \n        return input;\n    }\n\n    if(typeof window.i18n === 'undefined') return match(text, p);\n    if(window.i18n.state.locale.values[text] === undefined) return match(text, p);\n\n\n\n    return match(window.i18n.state.locale.values[text], p);\n}\n\n/*\n * Translates string based on preloaded i18n locale values.\n * \n * @param text {String} text to translate\n * @param cb {Function} callback function to escape text variable\n * @param p {String} list of parameters, to be replaced with %1$, %2$..\n * @returns {String} - text\n */\nconst __esc = (text, cb, ...p) => {\n\n    let match = (input, pa) => {\n\n        pa.forEach((p, i) => { input = input.replace('%'+(i+1)+'$', p); }); \n        \n        return input;\n    }\n\n    if(typeof window.i18n === 'undefined') return match(text, p);\n    if(window.i18n.state.locale.values[text] === undefined) return match(text, p);\n\n    return match(cb(window.i18n.state.locale.values[text]), p);\n}\n\n/*\n * Converts special characters `&`, `<`, `>`, `\"`, `'` to HTML entities.\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const attr = (text) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    return text.replace(/[&<>'\"]/g, tag => (\n        {\n            '&': '&amp;',\n            '<': '&lt;',\n            '>': '&gt;',\n            \"'\": '&apos;',\n            '\"': '&quot;'\n        } [tag]));\n}\n\n/*\n * Converts special characters `&`, `<`, `>`, `\"`, `'` to HTML entities and does translation\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const __attr = (text, ...p) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    let cb = (text) => {\n\n        return text.replace(/[<>'\"]/g, tag => (\n            {\n                '&': '&amp;',\n                '<': '&lt;',\n                '>': '&gt;',\n                \"'\": '&apos;',\n                '\"': '&quot;'\n            } [tag]));\n    }\n\n    return __esc(text, cb, ...p);\n}\n\n/*\n * Removes special characters `<`, `>`, `\"`, `'` from the link.\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const src = (text) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    return text.replace(/[<>'\"]/g, tag => (\n        {\n            '<': '&lt;',\n            '>': '&gt;',\n            \"'\": '&apos;',\n            '\"': '&quot;'\n        } [tag]));\n    \n}\n\n/*\n * Converts special characters `<`, `>`, `\"`, `'` from the link and does translation\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const __src = (text, ...p) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    let cb = (text) => {\n\n        return text.replace(/[<>'\"]/g, tag => (\n            {\n                '<': '&lt;',\n                '>': '&gt;',\n                \"'\": '&apos;',\n                '\"': '&quot;'\n            } [tag]));\n    }\n\n    return __esc(text, cb, ...p);\n}\n\n/*\n * Converts special characters `&`, `<`, `>`, `\"`, `'` to HTML entities.\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const html = (text) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    return text.replace(/[&<>'\"]/g, tag => (\n        {\n            '&': '&amp;',\n            '<': '&lt;',\n            '>': '&gt;',\n            \"'\": '&apos;',\n            '\"': '&quot;'\n        } [tag]));\n}\n\n/*\n * Converts special characters `&`, `<`, `>`, `\"`, `'` to HTML entities and does translations\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const __html = (text, ...p) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    let cb = (text) => {\n\n        return text.replace(/[&<>'\"]/g, tag => (\n            {\n                '&': '&amp;',\n                '<': '&lt;',\n                '>': '&gt;',\n                \"'\": '&apos;',\n                '\"': '&quot;'\n            } [tag]));\n    }\n\n    return __esc(text, cb, ...p);\n}\n\n/**\n * @name showLoader\n * @description Initiates full screen three dots loader.\n */\nexport const showLoader = () => {\n\n    let el = document.querySelector(\".loader\");\n    if (el) el.style.display = 'block';\n}\n\n/**\n * @name hideLoader\n * @description Removes full screen three dots loader.\n */\nexport const hideLoader = () => {\n\n    let el = document.querySelector(\".loader\");\n    if (el) el.style.display = 'none';\n}\n\n/**\n * @name initFooter\n * @description Removes full screen three dots loader.\n * @param {string} left - Text or html code to be present on the left bottom side of screen\n * @param {string} right - Text or html code to be present on the left bottom side of screen\n */\nexport const initFooter = (left, right) => {\n\n    document.querySelector(\"footer .row\").innerHTML = `\n    <div class=\"d-sm-flex justify-content-center justify-content-sm-between\">\n        <span class=\"text-muted text-center text-sm-left d-block d-sm-inline-block\">${left}</span>\n        <span class=\"float-none float-sm-right d-block mt-1 mt-sm-0 text-center text-muted\">${right}</span>\n    </div>`;\n}\n\n/**\n * @name link\n * @description Handles Cloud navigation links between extensions and its pages. Takes care of custom url parameters.\n * @param {string} slug - Any inbound link\n * \n * @returns {string} link - Returns original link with kenzp cloud space ID identifier.\n */\nexport const link = (slug) => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let sid = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    let postfix = slug.indexOf('?') == -1 ? '?sid='+sid : '&sid='+sid;\n\n    return slug + postfix;\n}\n\n/**\n * @name getSiteId\n * @description Gets current Kenzap Cloud space ID identifier from the URL.\n * \n * @returns {string} id - Kenzap Cloud space ID.\n */\nexport const getSiteId = () => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let id = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    return id;\n}\n\n/**\n * @name spaceID\n * @description Gets current Kenzap Cloud space ID identifier from the URL.\n * \n * @returns {string} id - Kenzap Cloud space ID.\n */\n export const spaceID = () => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let id = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    return id;\n}\n\n/**\n * @name setCookie\n * @description Set cookie by its name to all .kenzap.cloud subdomains\n * @param {string} name - Cookie name.\n * @param {string} value - Cookie value.\n * @param {string} days - Number of days when cookie expires.\n */\n export const setCookie = (name, value, days) => {\n\n    let expires = \"\";\n    if (days) {\n        let date = new Date();\n        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n        expires = \";expires=\" + date.toUTCString();\n    }\n    document.cookie = name + \"=\" + (escape(value) || \"\") + expires + \";path=/;domain=.kenzap.cloud\"; \n}\n\n/**\n * @name getCookie\n * @description Read cookie by its name.\n * @param {string} cname - Cookie name.\n * \n * @returns {string} value - Cookie value.\n */\nexport const getCookie = (cname) => {\n\n    let name = cname + \"=\";\n    let decodedCookie = decodeURIComponent(document.cookie);\n    let ca = decodedCookie.split(';');\n    for (let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) == ' ') {\n            c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n            return c.substring(name.length, c.length);\n        }\n    }\n    return \"\";\n}\n\n/**\n * @name checkHeader\n * @description This function tracks UI updates, creates header version checksum and compares it after every page reload\n * @param {object} object - API response.\n */\n export const checkHeader = () => {\n\n    let version = (localStorage.hasOwnProperty('header') && localStorage.hasOwnProperty('header-version')) ? localStorage.getItem('header-version') : 0;\n    let check = window.location.hostname + '/' + spaceID() + '/' + getCookie('locale');\n    if(check != getCookie('check')){ version = 0; console.log('refresh'); }\n    \n    setCookie('check', check, 5);\n\n    return version\n}\n\n/**\n * @name headers\n * @description Default headers object for all Kenzap Cloud fetch queries.\n * @param {object} headers\n */\n export const H = () => {\n\n    return {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + getCookie('kenzap_api_key'),\n        'Kenzap-Locale': getCookie('locale') ? getCookie('locale') : \"en\",\n        'Kenzap-Header': checkHeader(),\n        'Kenzap-Token': getCookie('kenzap_token'),\n        'Kenzap-Sid': spaceID()\n    }\n}\n\n/**\n * @name headers\n * @description Default headers object for all Kenzap Cloud fetch queries. \n * @param {object} headers\n * @deprecated\n */\n export const headers = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    'Authorization': 'Bearer ' + getCookie('kenzap_api_key'),\n    'Kenzap-Locale': getCookie('locale') ? getCookie('locale') : \"en\",\n    'Kenzap-Header': checkHeader(),\n    'Kenzap-Token': getCookie('kenzap_token'),\n    'Kenzap-Sid': spaceID(),\n}\n\n/**\n * @name parseApiError\n * @description Set default logics for different API Error responses.\n * @param {object} object - API response.\n */\n export const parseApiError = (data) => {\n\n    // outout to frontend console\n    console.log(data);\n\n    // unstructured failure\n    if(isNaN(data.code)){\n    \n        // structure failure data\n        let log = data;\n        try{ log = JSON.stringify(log); }catch(e){ }\n\n        let params = new URLSearchParams();\n        params.append(\"cmd\", \"report\");\n        params.append(\"sid\", spaceID());\n        params.append(\"token\", getCookie('kenzap_token'));\n        params.append(\"data\", log);\n        \n        // report error\n        fetch('https://api-v1.kenzap.cloud/error/', { method: 'post', headers: { 'Accept': 'application/json', 'Content-type': 'application/x-www-form-urlencoded', }, body: params });\n\n        alert('Can not connect to Kenzap Cloud');  \n        return;\n    }\n    \n    // handle cloud error codes\n    switch(data.code){\n\n        // unauthorized\n        case 401:\n\n            // dev mode\n            if(window.location.href.indexOf('localhost')!=-1){ \n\n                alert(data.reason); \n                return; \n            }\n\n            // production mode\n            location.href=\"https://auth.kenzap.com/?app=65432108792785&redirect=\"+encodeURIComponent(window.location.href); break;\n        \n        // something else\n        default:\n\n            alert(data.reason); \n            break;\n    }\n}\n\n/**\n * @name CDN\n * @description Returns CDN URL of Kenzap Cloud file storage\n * @param {String} region - Default location Singapore. TODO, override by region variable\n */\nexport const CDN = (region = '') => {\n\n    if(localStorage.getItem('cdn')) return localStorage.getItem('cdn');\n\n    return 'https://kenzap-sites.oss-ap-southeast-1.aliyuncs.com';\n}\n\n/**\n * @name initBreadcrumbs\n * @description Render ui breadcrumbs.\n * @param {array} data - List of link objects containing link text and url. If url is missing then renders breadcrumb as static text. Requires html holder with .bc class.\n */\nexport const initBreadcrumbs = (data) => {\n\n    let html = '<ol class=\"breadcrumb mt-2 mb-0\">';\n    for(let bc of data){\n        \n        if(typeof(bc.link) === 'undefined'){\n\n            html += `<li class=\"breadcrumb-item\">${ bc.text }</li>`;\n        }else{\n\n            html += `<li class=\"breadcrumb-item\"><a href=\"${ bc.link }\">${ bc.text }</a></li>`;\n        }\n    }\n    html += '</ol>';\n    \n    document.querySelector(\".bc\").innerHTML = html;\n}\n\n/**\n * @name onClick\n * @description One row click event listener declaration. Works with one or many HTML selectors.\n * @param {string} sel - HTML selector, id, class, etc.\n * @param {string} fn - callback function fired on click event.\n */\nexport const onClick = (sel, fn) => {\n\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('click', fn, true);\n        e.addEventListener('click', fn, true);\n    }\n}\n\n/**\n * @name onKeyUp\n * @description One row key up event listener declaration. Works with one or many HTML selectors.\n * @param {string} sel - HTML selector, id, class, etc.\n * @param {string} fn - callback function fired on click event.\n */\nexport const onKeyUp = (sel, fn) => {\n\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('keyup', fn, true);\n        e.addEventListener('keyup', fn, true);\n    }\n}\n\n/**\n * @name onChange\n * @description One row change event listener declaration. Works with one or many HTML selectors.\n * @param {string} sel - HTML selector, id, class, etc.\n * @param {string} fn - callback function fired on click event.\n */\nexport const onChange = (sel, fn) => {\n\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('change', fn, true);\n        e.addEventListener('change', fn, true);\n    }\n}\n\n/**\n * @name loadScript\n * @description Asynchronous script loader function.\n * @param {string} url - HTML selector, id, class, etc.\n * @param {string} cb - callback function fired immediately after script is loaded.\n */\n export const loadScript = (url, cb) => {\n\n    if (!Array.from(document.querySelectorAll('script')).some(elm => elm.src == url)) {\n      let script = document.createElement('script')\n      script.onload = cb\n      script.src = url\n      document.getElementsByTagName('head')[0].appendChild(script)\n    }\n}\n\n/**\n * @name simulateClick\n * @description Trigger on click event without user interaction.\n * @param {string} elem - HTML selector, id, class, etc.\n */\n export const simulateClick = (elem) => {\n\n\t// create our event (with options)\n\tlet evt = new MouseEvent('click', {\n\t\tbubbles: true,\n\t\tcancelable: true,\n\t\tview: window\n\t});\n\n\t// if cancelled, don't dispatch the event\n\t!elem.dispatchEvent(evt);\n};\n\n/**\n * Create a web friendly URL slug from a string.\n *\n * Requires XRegExp (http://xregexp.com) with unicode add-ons for UTF-8 support.\n *\n * Although supported, transliteration is discouraged because\n *     1) most web browsers support UTF-8 characters in URLs\n *     2) transliteration causes a loss of information\n *\n * @author Sean Murphy <sean@iamseanmurphy.com>\n * @copyright Copyright 2012 Sean Murphy. All rights reserved.\n * @license http://creativecommons.org/publicdomain/zero/1.0/\n *\n * @param string s\n * @param object opt\n * @return string\n */\n export const slugify = (s, opt) => {\n\n\ts = String(s);\n\topt = Object(opt);\n\t\n\tvar defaults = {\n\t\t'delimiter': '-',\n\t\t'limit': undefined,\n\t\t'lowercase': true,\n\t\t'replacements': {},\n\t\t'transliterate': (typeof(XRegExp) === 'undefined') ? true : false\n\t};\n\t\n\t// Merge options\n\tfor (var k in defaults) {\n\t\tif (!opt.hasOwnProperty(k)) {\n\t\t\topt[k] = defaults[k];\n\t\t}\n\t}\n\t\n\tvar char_map = {\n\t\t// Latin\n\t\t'À': 'A', 'Á': 'A', 'Â': 'A', 'Ã': 'A', 'Ä': 'A', 'Å': 'A', 'Æ': 'AE', 'Ç': 'C', \n\t\t'È': 'E', 'É': 'E', 'Ê': 'E', 'Ë': 'E', 'Ì': 'I', 'Í': 'I', 'Î': 'I', 'Ï': 'I', \n\t\t'Ð': 'D', 'Ñ': 'N', 'Ò': 'O', 'Ó': 'O', 'Ô': 'O', 'Õ': 'O', 'Ö': 'O', 'Å': 'O', \n\t\t'Ø': 'O', 'Ù': 'U', 'Ú': 'U', 'Û': 'U', 'Ü': 'U', 'Å°': 'U', 'Ý': 'Y', 'Þ': 'TH', \n\t\t'ß': 'ss', \n\t\t'à': 'a', 'á': 'a', 'â': 'a', 'ã': 'a', 'ä': 'a', 'å': 'a', 'æ': 'ae', 'ç': 'c', \n\t\t'è': 'e', 'é': 'e', 'ê': 'e', 'ë': 'e', 'ì': 'i', 'í': 'i', 'î': 'i', 'ï': 'i', \n\t\t'ð': 'd', 'ñ': 'n', 'ò': 'o', 'ó': 'o', 'ô': 'o', 'õ': 'o', 'ö': 'o', 'Å': 'o', \n\t\t'ø': 'o', 'ù': 'u', 'ú': 'u', 'û': 'u', 'ü': 'u', 'Å±': 'u', 'ý': 'y', 'þ': 'th', \n\t\t'ÿ': 'y',\n\n\t\t// Latin symbols\n\t\t'©': '(c)',\n\n\t\t// Greek\n\t\t'Α': 'A', 'Β': 'B', 'Γ': 'G', 'Δ': 'D', 'Ε': 'E', 'Ζ': 'Z', 'Η': 'H', 'Θ': '8',\n\t\t'Ι': 'I', 'Κ': 'K', 'Λ': 'L', 'Μ': 'M', 'Ν': 'N', 'Ξ': '3', 'Ο': 'O', 'Π': 'P',\n\t\t'Ρ': 'R', 'Σ': 'S', 'Τ': 'T', 'Υ': 'Y', 'Φ': 'F', 'Χ': 'X', 'Ψ': 'PS', 'Ω': 'W',\n\t\t'Î': 'A', 'Î': 'E', 'Î': 'I', 'Î': 'O', 'Î': 'Y', 'Î': 'H', 'Î': 'W', 'Îª': 'I',\n\t\t'Î«': 'Y',\n\t\t'α': 'a', 'β': 'b', 'γ': 'g', 'δ': 'd', 'ε': 'e', 'ζ': 'z', 'η': 'h', 'θ': '8',\n\t\t'ι': 'i', 'κ': 'k', 'λ': 'l', 'μ': 'm', 'ν': 'n', 'ξ': '3', 'ο': 'o', 'π': 'p',\n\t\t'ρ': 'r', 'σ': 's', 'τ': 't', 'υ': 'y', 'φ': 'f', 'χ': 'x', 'ψ': 'ps', 'ω': 'w',\n\t\t'Î¬': 'a', 'Î­': 'e', 'Î¯': 'i', 'Ï': 'o', 'Ï': 'y', 'Î®': 'h', 'Ï': 'w', 'ς': 's',\n\t\t'Ï': 'i', 'Î°': 'y', 'Ï': 'y', 'Î': 'i',\n\n\t\t// Turkish\n\t\t'Å': 'S', 'Ä°': 'I', 'Ç': 'C', 'Ü': 'U', 'Ö': 'O', 'Ä': 'G',\n\t\t'Å': 's', 'Ä±': 'i', 'ç': 'c', 'ü': 'u', 'ö': 'o', 'Ä': 'g', \n\n\t\t// Russian\n\t\t'Ð': 'A', 'Ð': 'B', 'Ð': 'V', 'Ð': 'G', 'Ð': 'D', 'Ð': 'E', 'Ð': 'Yo', 'Ð': 'Zh',\n\t\t'Ð': 'Z', 'Ð': 'I', 'Ð': 'J', 'Ð': 'K', 'Ð': 'L', 'Ð': 'M', 'Ð': 'N', 'Ð': 'O',\n\t\t'Ð': 'P', 'Ð ': 'R', 'Ð¡': 'S', 'Ð¢': 'T', 'Ð£': 'U', 'Ð¤': 'F', 'Ð¥': 'H', 'Ð¦': 'C',\n\t\t'Ð§': 'Ch', 'Ð¨': 'Sh', 'Ð©': 'Sh', 'Ðª': '', 'Ð«': 'Y', 'Ð¬': '', 'Ð­': 'E', 'Ð®': 'Yu',\n\t\t'Ð¯': 'Ya',\n\t\t'Ð°': 'a', 'Ð±': 'b', 'Ð²': 'v', 'Ð³': 'g', 'Ð´': 'd', 'Ðµ': 'e', 'Ñ': 'yo', 'Ð¶': 'zh',\n\t\t'Ð·': 'z', 'Ð¸': 'i', 'Ð¹': 'j', 'Ðº': 'k', 'Ð»': 'l', 'Ð¼': 'm', 'Ð½': 'n', 'Ð¾': 'o',\n\t\t'Ð¿': 'p', 'Ñ': 'r', 'Ñ': 's', 'Ñ': 't', 'Ñ': 'u', 'Ñ': 'f', 'Ñ': 'h', 'Ñ': 'c',\n\t\t'Ñ': 'ch', 'Ñ': 'sh', 'Ñ': 'sh', 'Ñ': '', 'Ñ': 'y', 'Ñ': '', 'Ñ': 'e', 'Ñ': 'yu',\n\t\t'Ñ': 'ya',\n\n\t\t// Ukrainian\n\t\t'Ð': 'Ye', 'Ð': 'I', 'Ð': 'Yi', 'Ò': 'G',\n\t\t'Ñ': 'ye', 'Ñ': 'i', 'Ñ': 'yi', 'Ò': 'g',\n\n\t\t// Czech\n\t\t'Ä': 'C', 'Ä': 'D', 'Ä': 'E', 'Å': 'N', 'Å': 'R', 'Š': 'S', 'Å¤': 'T', 'Å®': 'U', \n\t\t'Å½': 'Z', \n\t\t'Ä': 'c', 'Ä': 'd', 'Ä': 'e', 'Å': 'n', 'Å': 'r', 'š': 's', 'Å¥': 't', 'Å¯': 'u',\n\t\t'Å¾': 'z', \n\n\t\t// Polish\n\t\t'Ä': 'A', 'Ä': 'C', 'Ä': 'e', 'Å': 'L', 'Å': 'N', 'Ó': 'o', 'Å': 'S', 'Å¹': 'Z', \n\t\t'Å»': 'Z', \n\t\t'Ä': 'a', 'Ä': 'c', 'Ä': 'e', 'Å': 'l', 'Å': 'n', 'ó': 'o', 'Å': 's', 'Åº': 'z',\n\t\t'Å¼': 'z',\n\n\t\t// Latvian\n\t\t'Ä': 'A', 'Ä': 'C', 'Ä': 'E', 'Ä¢': 'G', 'Äª': 'i', 'Ä¶': 'k', 'Ä»': 'L', 'Å': 'N', \n\t\t'Š': 'S', 'Åª': 'u', 'Å½': 'Z', \n\t\t'Ä': 'a', 'Ä': 'c', 'Ä': 'e', 'Ä£': 'g', 'Ä«': 'i', 'Ä·': 'k', 'Ä¼': 'l', 'Å': 'n',\n\t\t'š': 's', 'Å«': 'u', 'Å¾': 'z'\n\t};\n\t\n\t// Make custom replacements\n\tfor (var k in opt.replacements) {\n\t\ts = s.replace(RegExp(k, 'g'), opt.replacements[k]);\n\t}\n\t\n\t// Transliterate characters to ASCII\n\tif (opt.transliterate) {\n\t\tfor (var k in char_map) {\n\t\t\ts = s.replace(RegExp(k, 'g'), char_map[k]);\n\t\t}\n\t}\n\t\n\t// Replace non-alphanumeric characters with our delimiter\n\tvar alnum = (typeof(XRegExp) === 'undefined') ? RegExp('[^a-z0-9]+', 'ig') : XRegExp('[^\\\\p{L}\\\\p{N}]+', 'ig');\n\ts = s.replace(alnum, opt.delimiter);\n\t\n\t// Remove duplicate delimiters\n\ts = s.replace(RegExp('[' + opt.delimiter + ']{2,}', 'g'), opt.delimiter);\n\t\n\t// Truncate slug to max. characters\n\ts = s.substring(0, opt.limit);\n\t\n\t// Remove delimiter from ends\n\ts = s.replace(RegExp('(^' + opt.delimiter + '|' + opt.delimiter + '$)', 'g'), '');\n\t\n\treturn opt.lowercase ? s.toLowerCase() : s;\n}\n\n/**\n * @name toast\n * @description Triggers toast notification. Adds toast html to the page if missing.\n * @param {string} text - Toast notification.\n */\n export const toast = (text) => {\n\n    // only add once\n    if(!document.querySelector(\".toast\")){\n\n        let html = `\n        <div class=\"toast-cont position-fixed bottom-0 p-2 m-4 end-0 align-items-center\" style=\"z-index:10000;\">\n            <div class=\"toast hide align-items-center text-white bg-dark border-0\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" data-bs-delay=\"3000\">\n                <div class=\"d-flex\">\n                    <div class=\"toast-body\"></div>\n                    <button type=\"button\" class=\"btn-close btn-close-white me-2 m-auto\" data-bs-dismiss=\"toast\" aria-label=\"Close\"></button>\n                </div>\n            </div>\n        </div>`;\n        if(document.querySelector('body > div')) document.querySelector('body > div').insertAdjacentHTML('afterend', html);\n    }\n\n    let toast = new bootstrap.Toast(document.querySelector('.toast'));\n    document.querySelector('.toast .toast-body').innerHTML = text;  \n    toast.show();\n}","import { getCookie, H, getSiteId, simulateClick, link, parseApiError, __html } from '@kenzap/k-cloud';\n\n/* \ntexts to localize\n__('required')\n__('Size')\n__('Small')\n__('Regular')\n__('Large')\n__('Subtotal')\n__('Discount by %')\n__('Discount by value')\n__('Grand Total')\n*/\n\nexport const mt = (val) => {\n\n    return (\"\"+val).length < 2 ? \"0\"+val : val;\n}\n\nexport const isValidDomain = (str) => {\n \n    if (typeof value !== 'string') return false\n    if (!(opts instanceof Object)) opts = {}\n    value = value.toLowerCase()\n  \n    if (value.endsWith('.')) {\n      value = value.slice(0, value.length - 1)\n    }\n  \n    if (opts.allowUnicode) {\n      value = punycode.toASCII(value)\n    }\n  \n    if (value.length > 253) {\n      return false\n    }\n  \n    const validChars = /^([\\u0E00-\\u0E7Fa-z0-9-._*]+)$/g\n    if (!validChars.test(value)) {\n      return false\n    }\n  \n    if (opts.topLevel) {\n      if (ccTldMap[value.replace(/\\.$/, '')]) {\n        return true\n      }\n    }\n  \n    const sldRegex = /(.*)\\.(([\\u0E00-\\u0E7Fa-z0-9]+)(\\.[a-z0-9]+))/\n    const matches = value.match(sldRegex)\n    let tld = null\n    let labels = null\n    if (matches && matches.length > 2) {\n      if (sldMap[matches[2]]) {\n        tld = matches[2]\n        labels = matches[1].split('.')\n      }\n    }\n  \n    if (!labels) {\n      labels = value.split('.')\n      if (labels.length <= 1) return false\n  \n      tld = labels.pop()\n      const tldRegex = /^(?:xn--)?(?!^\\d+$)[\\u0E00-\\u0E7Fa-z0-9]+$/gi\n  \n      if (!tldRegex.test(tld)) return false\n    }\n  \n    if (opts.subdomain === false && labels.length > 1) return false\n  \n    const isValid = labels.every(function (label, index) {\n      if (opts.wildcard && index === 0 && label === '*' && labels.length > 1) {\n        return true\n      }\n  \n      let validLabelChars = /^([\\u0E00-\\u0E7Fa-zA-Z0-9-_]+)$/g\n      if (index === labels.length - 1) {\n        validLabelChars = /^([\\u0E00-\\u0E7Fa-zA-Z0-9-]+)$/g\n      }\n  \n      // https://github.com/miguelmota/is-valid-domain/issues/22\n      const doubleDashCount = (label.match(/--(--)?/g) || []).length\n      const xnDashCount = (label.match(/xn--/g) || []).length\n      if (index === labels.length - 1 && doubleDashCount !== xnDashCount) {\n        return false\n      }\n  \n      const isValid = (\n        validLabelChars.test(label) &&\n        label.length < 64 &&\n        !label.startsWith('-') &&\n        !label.endsWith('-')\n      )\n  \n      return isValid\n    })\n  \n    return isValid\n}\n\nexport const getParam = (param) => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let id = urlParams.get(param) ? urlParams.get(param) : \"\";\n    return id;\n}\n\nexport const getProductIdFromLink = () => {\n    \n    let url = new URL(window.location.href);\n    let id = url.pathname.trim().split('/').slice(-2)[0];\n    return id;\n}\n\nexport const replaceQueryParam = (param, newval, search) => {\n\n    let regex = new RegExp(\"([?;&])\" + param + \"[^&;]*[;&]?\");\n    let query = search.replace(regex, \"$1\").replace(/&$/, '');\n\n    return (query.length > 2 ? query + \"&\" : \"?\") + (newval ? param + \"=\" + newval : '');\n}\n\nexport const getPageNumberOld = () => {\n\n    let url = window.location.href.split('/');\n    let page = url[url.length-1];\n    let pageN = 1;\n    if(page.indexOf('page')==0){\n      pageN = page.replace('page', '').replace('#', '');\n    }\n    // console.log(pageN);\n    return parseInt(pageN);\n}\n\nexport const getPageNumber = () => {\n\n    let urlParams = new URLSearchParams(window.location.search);\n    let page = urlParams.get('page') ? urlParams.get('page') : 1;\n\n    return parseInt(page);\n}\n\nexport const getPagination = (__, meta, cb) => {\n\n    if(typeof(meta) === 'undefined'){ document.querySelector(\"#listing_info\").innerHTML = __('no records to display'); return; }\n\n    let offset = meta.limit+meta.offset;\n    if(offset>meta.total_records) offset = meta.total_records;\n\n    document.querySelector(\"#listing_info\").innerHTML = __(\"Showing %1$ to %2$ of %3$ entries\", (1+meta.offset), (offset), meta.total_records);\n    //  \"Showing \"+(1+meta.offset)+\" to \"+(offset)+\" of \"+meta.total_records+\" entries\";\n\n    let pbc = Math.ceil(meta.total_records / meta.limit);\n    document.querySelector(\"#listing_paginate\").style.display = (pbc < 2) ? \"none\" : \"block\";\n\n    let page = getPageNumber(); \n    let html = '<ul class=\"pagination d-flex justify-content-end pagination-flat mb-0\">';\n    html += '<li class=\"paginate_button page-item previous\" id=\"listing_previous\"><a href=\"#\" aria-controls=\"order-listing\" data-type=\"prev\" data-page=\"0\" tabindex=\"0\" class=\"page-link\"><span aria-hidden=\"true\">&laquo;</span></li>';\n    let i = 0;\n    while(i<pbc){\n\n        i++; \n        if(((i >= page-3) && (i <= page)) || ((i <= page+3) && (i >=page))){\n\n            html += '<li class=\"paginate_button page-item '+((page==i)?'active':'')+'\"><a href=\"#\" aria-controls=\"order-listing\" data-type=\"page\" data-page=\"'+i+'\" tabindex=\"0\" class=\"page-link\">'+(page==i?i:i)+'</a></li>';      \n        }\n    }  \n    html += '<li class=\"paginate_button page-item next\" id=\"order-listing_next\"><a href=\"#\" aria-controls=\"order-listing\" data-type=\"next\" data-page=\"2\" tabindex=\"0\" class=\"page-link\"><span aria-hidden=\"true\">&raquo;</span></a></li>';\n    html += '</ul>'\n\n    document.querySelector(\"#listing_paginate\").innerHTML = html;\n\n    let page_link = document.querySelectorAll(\".page-link\");\n    for (const l of page_link) {\n        \n        l.addEventListener('click', function(e) {\n\n            let p = parseInt(getPageNumber());\n            let ps = p;\n            switch(l.dataset.type){ \n                case 'prev': p-=1; if(p<1) p = 1; break;\n                case 'page': p=l.dataset.page; break;\n                case 'next': p+=1; if(p>pbc) p = pbc; break;\n            }\n            \n            // update url\n            if (window.history.replaceState) {\n\n                // let url = window.location.href.split('/page');\n                // let urlF = (url[0]+'/page'+p).replace('//page', '/page');\n\n                let str = window.location.search;\n                str = replaceQueryParam('page', p, str);\n                // window.location = window.location.pathname + str\n\n                // prevents browser from storing history with each change:\n                window.history.replaceState(\"kenzap-cloud\", document.title, window.location.pathname + str);\n            }\n\n            // only refresh if page differs\n            if(ps!=p) cb();\n            \n            e.preventDefault();\n            return false;\n        });\n    }\n}\n\nexport const stockBadge = (_this, inventory) => {\n\n    // console.log(inventory.stock_warning + \" \" + inventory.stock_amount);\n\n    if(inventory.stock_amount <= 0){\n\n        return '<div data-stock=\"out\" class=\"badge bg-danger text-light fw-light\">' + __html('Out of stock') + '</div>';\n    }else if(inventory.stock_warning >= inventory.stock_amount){\n\n        return '<div data-stock=\"low\" class=\"badge bg-warning text-dark fw-light\">' + __html('Low stock') + '</div>';\n    }else{\n\n        return '<div data-stock=\"in\" class=\"badge bg-success text-light fw-light\">' + __html('In stock') + '</div>';\n    }\n}\n\nexport const formatStatus = (__, st) => {\n\n    st = parseInt(st); \n    switch(st){ \n      case 0: return '<div class=\"badge bg-warning text-dark fw-light\">' + __('Draft') + '</div>';\n      case 1: return '<div class=\"badge bg-primary fw-light\">' + __('Published') + '</div>';\n      case 3: return '<div class=\"badge bg-secondary fw-light\">' + __('Unpublished') + '</div>';\n      default: return '<div class=\"badge bg-secondary fw-light\">' + __('Drafts') + '</div>';\n    }\n}\n\n/**\n    * Render price\n    * @public\n    */\n export const priceFormat = function(_this, price) {\n\n    price = makeNumber(price);\n\n    price = (Math.round(parseFloat(price) * 100)/100).toFixed(2);\n    \n    switch(_this.state.settings.currency_symb_loc){\n        case 'left': price = _this.state.settings.currency_symb + ' ' + price; break;\n        case 'right': price = price + _this.state.settings.currency_symb; break;\n    }\n\n    return price;\n}\n\nexport const makeNumber = function(price) {\n\n    price = price ? price : 0;\n    price = parseFloat(price);\n    price = Math.round(price * 100) / 100;\n    return price;\n}\n\nexport const formatTime = (__, timestamp) => {\n\t\n    const d = new Date(parseInt(timestamp) * 1000);\n    return d.toLocaleDateString();\n\n    let a = new Date(timestamp * 1000);\n    let months = [__('Jan'), __('Feb'), __('Mar'), __('Apr'), __('May'), __('Jun'), __('Jul'), __('Aug'), __('Sep'), __('Oct'), __('Nov'), __('Dec')];\n    let year = a.getFullYear();\n    let month = months[a.getMonth()];\n    let date = a.getDate();\n    let hour = a.getHours();\n    let min = a.getMinutes();\n    let sec = a.getSeconds();\n    let time = date + ' ' + month + ' ' + year; // + ' ' + hour + ':' + min + ':' + sec ;\n    return time;\n}\n\nexport const formatTimeDetailed = (__, timestamp) => {\n\t\n    // let a = new Date(timestamp * 1000);\n    // let hour = a.getHours();\n    // let min = a.getMinutes();\n\n    // console.log(hour+\":\"+min);\n\n    // server stores in UTC\n    // let offset = new Date().getTimezoneOffset();\n\n    const d = new Date(parseInt(timestamp) * 1000); //  + offset*60\n    \n    let t = d.toLocaleTimeString().split(':');\n\n    return d.toLocaleDateString() + \" \" + t[0] + \":\" + t[1];\n}\n\n// numbers only with allowed exceptions\n// export const onlyNumbers = (sel, chars) => {\n\n//     if(!document.querySelector(sel)) return;\n    \n//     document.querySelector(sel).addEventListener('keypress', (e) => {\n\n//         // console.log(e.which);\n\n//         if((!chars.includes(e.which) && isNaN(String.fromCharCode(e.which))) || e.which == 32 || (document.querySelector(sel).value.includes(String.fromCharCode(e.which)) && chars.includes(e.which))){\n\n//             // stop character from entering input\n//             e.preventDefault(); \n//             return false;\n//         }\n//     });\n// }\n\n// numbers only with allowed exceptions\nexport const onlyNumbers = (sel, chars) => {\n\n    if(!document.querySelector(sel)) return;\n\n    // arrow navigation\n    chars.push(...[9, 37, 38, 39, 40, 98, 100, 102, 104]);\n    \n    [...document.querySelectorAll(sel)].forEach(el => {\n\n        el.addEventListener('keydown', (e) => {\n\n            const key = e.key.toLowerCase();\n\n            // track potential paste event\n            if(key == 'control' || key == 'meta'){\n\n                window[key] = true;\n            }\n        \n            console.log(key.length + \" / \" + isNumber + \" / \" + e.which);\n\n            // not alphanumeric\n            // if (key.length != 1) {\n\n            //     e.preventDefault(); \n            //     return false;\n            // }\n        \n            // const isLetter = (key >= 'a' && key <= 'z');\n            const isNumber = (key >= '0' && key <= '9');\n\n            // add exception when Control or Meta (MAC) keys pressed\n            // console.log(window['meta'] + \" \" + window['control']);\n\n            // allow x c v a characters when meta ot control is pressed\n            if((window['control'] || window['meta']) && [86, 88, 65, 67, 90].includes(e.which)){ console.log(\"pushing\"); return true; }\n\n            // actual check\n            if (!isNumber && !chars.includes(e.which)) {\n\n                e.preventDefault(); \n                return false;\n            }\n        });\n\n        el.addEventListener('keyup', (e) => {\n\n            const key = e.key.toLowerCase();\n\n            // potential paste event\n            if(key == 'control' || key == 'meta'){\n\n                window[key] = false;\n            }\n        });\n    });\n}\n\n// nums only validation\nexport const numsOnly = (e, max) => {\n\n    // Only ASCII charactar in that range allowed \n    var ASCIICode = (e.which) ? e.which : e.keyCode \n    if (ASCIICode > 31 && ASCIICode != 46 && (ASCIICode < 48 || ASCIICode > 57)) \n    return false; \n\n    if(parseFloat(e.target.value)>max) \n    return false; \n\n    let dec = e.target.value.split('.');\n    if(dec.length>1)\n    if(dec[1].length>1)\n        return false;\n    \n    return true; \n}\n\nexport const onClick = (sel, fn) => {\n\n    // console.log('onClick');\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('click', fn, true);\n        e.addEventListener('click', fn, true);\n    }\n}\n\n// time elapsed since creation \nexport const timeConverterAgo = (__, now, time) => {\n\n    now = parseInt(now);\n    time = parseInt(time);\n\n    // parse as elapsed time\n    let past = now - time;\n    if(past < 60) return __('moments ago');\n    if(past < 3600) return parseInt(past / 60) + ' ' + __('minutes ago');\n    if(past < 86400) return parseInt(past / 60 / 60) + ' ' + __('hours ago');\n\n    // process as normal date\n    var a = new Date(time * 1000);\n    var months = [ __('Jan'), __('Feb'), __('Mar'), __('Apr'), __('May'), __('Jun'), __('Jul'), __('Aug'), __('Sep'), __('Oct'), __('Nov'), __('Dec') ];\n    var year = a.getFullYear();\n    var month = months[a.getMonth()];\n    var date = a.getDate();\n    var hour = a.getHours();\n    var min = a.getMinutes();\n    var sec = a.getSeconds();\n    var time = date + ' ' + month + ' ' + year; // + ' ' + hour + ':' + min + ':' + sec ;\n    return time;\n}\n\nexport const parseVariations = (_this, product) => {\n\n    let html_vars = '';\n    if(typeof(product.variations !== 'undefined'))\n    for(let v in product.variations){\n\n        // variation type\n        let type = '';\t\n        if(product.variations[v].type=='checkbox') type = 'check';\n        if(product.variations[v].type=='radio')    type = 'radio';\n\n        // struct variation\n        html_vars += '\\\n        <b>' + __html(product.variations[v].title) + (product.variations[v].required == '1' ? ' <span class=\"tag\">'+__html('required')+'</span>':'')+'</b>\\\n        <div class=\"kp-'+type+'\" >';\n\n        // variation labels\n        for(let d in product.variations[v].data){\n\n            let checked = false;\n            // for public qr feed\n            // if(typeof(cart.state.product.variations[v]) !== 'undefined' && typeof(cart.state.product.variations[v].list) !== 'undefined' && typeof(cart.state.product.variations[v].list[\"_\"+d]) !== 'undefined'){ checked = true; }\n            \n            // verify variation price validity\n            product.variations[v].data[d]['price'] = makeNumber(product.variations[v].data[d]['price']);\n\n            switch(type){\n                case 'check':\n\n                html_vars += '\\\n                    <label>\\\n                        <input type=\"checkbox\" data-required=\"'+product.variations[v].required+'\" data-indexv=\"'+v+'\" data-index=\"'+d+'\" data-title=\"'+product.variations[v].data[d]['title']+'\" data-titlev=\"'+__(product.variations[v].title)+'\" data-price=\"'+product.variations[v].data[d]['price']+'\" '+(checked?'checked=\"checked\"':'')+'>\\\n                        <div class=\"checkbox\">\\\n                            <svg width=\"20px\" height=\"20px\" viewBox=\"0 0 20 20\">\\\n                                <path d=\"M3,1 L17,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 L1,3 C1,1.8954305 1.8954305,1 3,1 Z\"></path>\\\n                                <polyline points=\"4 11 8 15 16 6\"></polyline>\\\n                            </svg>\\\n                        </div>\\\n                        <span>'+__html(product.variations[v].data[d]['title'])+'</span>\\\n                        <div class=\"price\">+ '+priceFormat(_this, product.variations[v].data[d]['price'])+'</div>\\\n                    </label>';\n                \n                break;\n                case 'radio':\n\n                html_vars += '\\\n                    <label>\\\n                        <input type=\"radio\" data-required=\"'+product.variations[v].required+'\" data-indexv=\"'+v+'\" name=\"radio'+v+'\" data-index=\"'+d+'\" data-title=\"'+product.variations[v].data[d]['title']+'\" data-titlev=\"'+__(product.variations[v].title)+'\" data-price=\"'+product.variations[v].data[d]['price']+'\" '+(checked?'checked=\"checked\"':'')+' />\\\n                        <span>'+__html(product.variations[v].data[d]['title'])+'</span>\\\n                        <div class=\"price\">+ '+priceFormat(_this, product.variations[v].data[d]['price'])+'</div>\\\n                    </label>';\n                \n                break;\n            }\n        }\n\n        html_vars += '</div>';\n    }\n\n    return html_vars;\n}\n\nexport const escape = (htmlStr) => {\n\n    return htmlStr.replace(/&/g, \"&amp;\")\n          .replace(/</g, \"&lt;\")\n          .replace(/>/g, \"&gt;\")\n          .replace(/\"/g, \"&quot;\")\n          .replace(/'/g, \"&#39;\");        \n \n}\n\nexport const unescape = (htmlStr) => {\n\n    htmlStr = htmlStr.replace(/&lt;/g , \"<\");\t \n    htmlStr = htmlStr.replace(/&gt;/g , \">\");     \n    htmlStr = htmlStr.replace(/&quot;/g , \"\\\"\");  \n    htmlStr = htmlStr.replace(/&#39;/g , \"\\'\");   \n    htmlStr = htmlStr.replace(/&amp;/g , \"&\");\n    return htmlStr;\n}\n\nexport const ecommerceUpdates = (_this, source, cb) => {\n\n    // do API query\n    fetch('https://api-v1.kenzap.cloud/ecommerce/', {\n        method: 'post',\n        headers: H(),\n        body: JSON.stringify({\n            query: {\n                updates: {\n                    type:       'updates',\n                    source:     source,\n                }\n            }\n        })\n    })\n    .then(response => response.json())\n    .then(response => {\n\n        if(response.success){\n\n            // do callback\n            cb(response);\n            \n            // parse notifications\n            renderNotifications(_this, response.messages);\n            \n        }else{\n\n\n        }\n    })\n    .catch(error => { // parseApiError(error); \n    });\n}\n\nexport const isMobile = () => {\n\n    const nav = navigator.userAgent.toLowerCase();\n    return (\n        nav.match(/iphone/i) || nav.match(/ipod/i) || nav.match(/ipad/i) || nav.match(/android/i)\n    );\n}\n\n// play notification sound. Ex.: when new order received\nexport const playSound = (_this, max) => {\n \n    // if(!max) max = _this.state.playSound.max_times;\n\n    _this.state.playSound.n = 0;\n\n    if(_this.state.playSound.timer) clearInterval(_this.state.playSound.timer);\n\n    if(_this.state.playSound.allowed) _this.state.playSound.audio.play();\n\n    // console.log(\"playing \" + _this.state.playSound.allowed);\n\n    try{\n        if(_this.state.playSound.allowed && isMobile()) window.navigator.vibrate(200);\n    }catch{\n\n    }\n\n    if(max==1) return;\n\n    _this.state.playSound.timer = setInterval(() => {\n\n        if(!_this.state.playSound.allowed) return;\n         \n        _this.state.playSound.audio.play();\n\n        if(_this.state.playSound.n > max){ clearInterval(_this.state.playSound.timer) }\n\n        _this.state.playSound.n += 1;\n\n    }, 5000);\n\n    // console.log('playSound');\n}\n\nexport const renderNotifications = (_this, messages) => {\n\n    let html = '';\n\n    let play = false;\n\n    // html\n    messages.forEach(msg => {\n\n        if(!_this.state.playSound.nids.includes(msg._id)){ _this.state.playSound.nids.push(msg._id); play = true; }\n\n        if(!document.querySelector('#contents .container [data-id=\"'+msg._id+'\"]')){\n        \n            html += `\n\n            <div class=\"alert alert-${ msg.color } alert-dismissible fade show\" role=\"alert\" data-id=\"${ msg._id }\">\n                <div class=\"d-flex align-items-center\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-exclamation-square flex-shrink-0 me-2\" viewBox=\"0 0 16 16\">\n                        <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/>\n                        <path d=\"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z\"/>\n                    </svg>\n                    <div>\n                    ${ msg.msg }\n                    </div>\n                </div>\n                <button type=\"button\" class=\"btn-close btn-dismiss-notify\" data-bs-dismiss=\"alert\" aria-label=\"Close\" data-id=\"${ msg._id }\"></button>\n            </div>`;\n        }\n    });\n\n    // play sound\n    if(play){ \n        // console.log('notify play sound'); \n        playSound(_this, 1); _this.getData(); \n    }\n\n    if(document.querySelector('#contents .container')) document.querySelector('#contents .container').insertAdjacentHTML(\"afterbegin\", html);\n\n    // listeners\n    onClick('.btn-dismiss-notify', (e) => {\n\n        // do API query\n        fetch('https://api-v1.kenzap.cloud/ecommerce/', {\n            method: 'post',\n            headers: H(),\n            body: JSON.stringify({\n                query: {\n                    updates: {\n                        type:       'dismiss',\n                        id:         e.currentTarget.dataset.id,\n                    }\n                }\n            })\n        })\n        .then(response => response.json())\n        .then(response => {\n\n            if(response.success){\n\n\n\n            }else{\n\n\n            }\n        })\n        .catch(error => { // parseApiError(error); \n        });\n    });\n\n    // order open listener\n    if(document.querySelector('.order-details')) for( let el of document.querySelectorAll('.order-details') ){\n\n        if(el.dataset.assigned == \"1\") return;\n\n        el.dataset.assigned = 1;\n\n        el.addEventListener('click', (e) => {\n\n            let el = document.querySelector(\".view-order[data-id='\"+e.currentTarget.dataset.id+\"']\");\n\n            simulateClick(el);\n\n        }, true);\n    }\n}\n\n/*\n* Load additional JS or CSS depencies\n*\n* @param    dep       dependecy. Ex.: hiebee.min.js \n* @param    cb        function to call after script is loaded (optional)       \n* @return \t{Boolen} \tresult status \n* \n*/\nexport const loadAddon = (dep, version, cb) => {\n\n    \n    const url = new URL(dep);\n\n    if(getCookie('debug')) dep = 'http://localhost:3000' + url.pathname;\n    \n    console.log(dep);\n\n    // dependency already loaded, skip\n    if(document.getElementById(dep)){ if(typeof cb === 'function') cb.call(); return; }\n\n    // detect dependency type\n    let t = dep.split('.').slice(-1)[0];\n    // console.log(dep+'loadAddon'+t);\n    switch(t){\n      case 'js':\n        \n        let js = document.createElement(\"script\");\n        js.setAttribute(\"src\", dep);\n        js.id = dep;\n        js.onload = js.onreadystatechange = function() {\n \n          if(!this.readyState || this.readyState == 'complete')\n            if(typeof cb === 'function') cb.call();\n        };\n        document.body.appendChild(js);\n        \n      break;\n      case 'css':\n\n        var head  = document.getElementsByTagName('head')[0];\n        var css  = document.createElement('link');\n        css.id   = dep;\n        css.rel  = 'stylesheet';\n        css.type = 'text/css';\n        css.href = dep;\n        head.appendChild(css);\n\n      break;\n    }\n}\n\nexport const getProductsById = (_this, products, cb) => {\n\n    // do API query\n    const response_raw = fetch('https://api-v1.kenzap.cloud/', {\n        method: 'post',\n        headers: H(),\n        body: JSON.stringify({\n            query: {\n                products: {\n                    type:       'find',\n                    fields:     '*',\n                    key:        'ecommerce-product',\n                    id:         products,\n                    sortby:     {\n                        field: 'created',\n                        order: 'DESC'\n                    }\n                }\n            }\n        })\n    })\n    .then(response => response.json())\n    .then(response => {\n\n        if (response.success) {\n\n            response.products.forEach((product, i) => {\n\n                _this.state.orderSingle.items.push({\n                    cats: [],\n                    id: product._id,\n                    index: i,\n                    note: \"\",\n                    price: product.price,\n                    qty: 1,\n                    sdesc: __html(product.sdesc),\n                    title: __html(product.title),\n                    total: product.price,\n                    type: \"new\",\n                    variations: []\n                });\n            });\n\n            cb(_this);\n        }\n    })\n    .catch(error => { console.log(error); parseApiError(error); });\n}\n\nexport let Base64={_keyStr:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",encode:function(e){var t=\"\";var n,r,i,s,o,u,a;var f=0;e=Base64._utf8_encode(e);while(f<e.length){n=e.charCodeAt(f++);r=e.charCodeAt(f++);i=e.charCodeAt(f++);s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(isNaN(r)){u=a=64}else if(isNaN(i)){a=64}t=t+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(u)+this._keyStr.charAt(a)}return t},decode:function(e){var t=\"\";var n,r,i;var s,o,u,a;var f=0;e=e.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\");while(f<e.length){s=this._keyStr.indexOf(e.charAt(f++));o=this._keyStr.indexOf(e.charAt(f++));u=this._keyStr.indexOf(e.charAt(f++));a=this._keyStr.indexOf(e.charAt(f++));n=s<<2|o>>4;r=(o&15)<<4|u>>2;i=(u&3)<<6|a;t=t+String.fromCharCode(n);if(u!=64){t=t+String.fromCharCode(r)}if(a!=64){t=t+String.fromCharCode(i)}}t=Base64._utf8_decode(t);return t},_utf8_encode:function(e){e=e.replace(/\\r\\n/g,\"\\n\");var t=\"\";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r)}else if(r>127&&r<2048){t+=String.fromCharCode(r>>6|192);t+=String.fromCharCode(r&63|128)}else{t+=String.fromCharCode(r>>12|224);t+=String.fromCharCode(r>>6&63|128);t+=String.fromCharCode(r&63|128)}}return t},_utf8_decode:function(e){var t=\"\";var n=0;var r=c1=c2=0;while(n<e.length){r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r);n++}else if(r>191&&r<224){c2=e.charCodeAt(n+1);t+=String.fromCharCode((r&31)<<6|c2&63);n+=2}else{c2=e.charCodeAt(n+1);c3=e.charCodeAt(n+2);t+=String.fromCharCode((r&15)<<12|(c2&63)<<6|c3&63);n+=3}}return t}}\n\nexport const makeid = (length) => {\n\n    let result = '';\n    const characters = 'abcdefghijklmnopqrstuvwxyz';\n    const charactersLength = characters.length;\n    let counter = 0;\n    while (counter < length) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n      counter += 1;\n    }\n    return result;\n}\n\n// categories input tags\nexport const simpleTags = (element) => {\n\n    if (!element) {\n        throw new Error(\"DOM Element is undifined! Please choose HTML target element.\")\n    }\n\n    let DOMParent = element\n    let DOMList\n    let DOMInput\n    let dataAttribute\n    let arrayOfList\n\n    function DOMCreate() {\n        let ul = document.createElement(\"ul\")\n        let input = document.createElement(\"input\")\n\n        input.setAttribute('placeholder', __html('new tag'));\n\n        DOMParent.appendChild(ul)\n        DOMParent.appendChild(input)\n\n        // first child is <ul>\n        DOMList = DOMParent.firstElementChild\n        // last child is <input>\n        DOMInput = DOMParent.lastElementChild\n    }\n\n    function DOMRender() {\n        // clear the entire <li> inside <ul>\n        DOMList.innerHTML = \"\"\n\n        // render each <li> to <ul>\n        arrayOfList.forEach((currentValue, index) => {\n\n            if (currentValue) {\n\n                let li = document.createElement(\"li\")\n                li.innerHTML = `${currentValue} <a>&times;</a>`\n                li.querySelector(\"a\").addEventListener(\"click\", function () {\n                    onDelete(index)\n                })\n\n                DOMList.appendChild(li)\n            }\n        })\n\n        setAttribute()\n    }\n\n    function onKeyUp() {\n        DOMInput.addEventListener(\"keyup\", function (event) {\n            let text = this.value.trim()\n\n            // check if ',' or 'enter' key was press\n            if (text.includes(\",\") || event.keyCode === 13) {\n                // check if empty text when ',' is remove\n                if (text.replace(\",\", \"\") !== \"\") {\n                    // push to array and remove ','\n                    arrayOfList.push(text.replace(\",\", \"\"))\n                }\n                // clear input\n                this.value = \"\"\n            }\n\n            DOMRender()\n        })\n    }\n\n    function onDelete(id) {\n        arrayOfList = arrayOfList.filter(function (currentValue, index) {\n            if (index === id) {\n                return false\n            }\n            return currentValue\n        })\n\n        DOMRender()\n    }\n\n    function getAttribute() {\n        dataAttribute = DOMParent.getAttribute(\"data-simple-tags\")\n        dataAttribute = dataAttribute.split(\",\")\n\n        // store array of data attribute in arrayOfList\n        arrayOfList = dataAttribute.map((currentValue) => {\n            return currentValue.trim()\n        })\n    }\n\n    function setAttribute() {\n        DOMParent.setAttribute(\"data-simple-tags\", arrayOfList.toString())\n    }\n\n    getAttribute()\n    DOMCreate()\n    DOMRender()\n    onKeyUp()\n}\n\nexport const initFooter = (_this) => {\n        \n    // Created by %1$Kenzap%2$. ❤️ \n    let left = __html('Pages 1.0.5 by %1$Kenzap%2$. ❤️ Licensed %3$GPLv3%4$.', '<a class=\"text-muted\" href=\"https://kenzap.com/\" target=\"_blank\">', '</a>', '<a class=\"text-muted\" href=\"https://github.com/kenzap/pages\" target=\"_blank\">', '</a>')  \n    let right = __html('%1$Developer mode%2$', `<a class=\"text-muted\" href=\"${ link('/develop/') }\" target=\"_self\">`, `</a>`)  ;\n    document.querySelector(\"footer .row\").innerHTML = `\n    <div class=\"d-sm-flex justify-content-center justify-content-sm-between\">\n        <span class=\"text-muted text-center text-sm-left d-block d-sm-inline-block\">${left}</span>\n        <span class=\"float-none float-sm-right d-block mt-1 mt-sm-0 text-center text-muted\">${right}</span>\n    </div>`;\n}\n\n/**\n * @name getAPI\n * @description Returns API link\n * @param {object} headers\n */\nexport const getSiteAPI = () => {\n\n    return window.location.host.indexOf(\"localhost\") == 0 ? \"https://siteapi-dev.kenzap.cloud/\" : \"https://siteapi.kenzap.cloud/\";\n}\n\nexport const getCurrencies = () => {\n\n    // length 164\n    return [\n        {\"name\":\"Afghan Afghani\",\"code\":\"AFA\",\"symbol\":\"؋\"},\n        {\"name\":\"Albanian Lek\",\"code\":\"ALL\",\"symbol\":\"Lek\"},\n        {\"name\":\"Algerian Dinar\",\"code\":\"DZD\",\"symbol\":\"دج\"},\n        {\"name\":\"Angolan Kwanza\",\"code\":\"AOA\",\"symbol\":\"Kz\"},\n        {\"name\":\"Argentine Peso\",\"code\":\"ARS\",\"symbol\":\"$\"},\n        {\"name\":\"Armenian Dram\",\"code\":\"AMD\",\"symbol\":\"֏\"},\n        {\"name\":\"Aruban Florin\",\"code\":\"AWG\",\"symbol\":\"ƒ\"},\n        {\"name\":\"Australian Dollar\",\"code\":\"AUD\",\"symbol\":\"$\"},\n        {\"name\":\"Azerbaijani Manat\",\"code\":\"AZN\",\"symbol\":\"m\"},\n        {\"name\":\"Bahamian Dollar\",\"code\":\"BSD\",\"symbol\":\"B$\"},\n        {\"name\":\"Bahraini Dinar\",\"code\":\"BHD\",\"symbol\":\".د.ب\"},\n        {\"name\":\"Bangladeshi Taka\",\"code\":\"BDT\",\"symbol\":\"৳\"},\n        {\"name\":\"Barbadian Dollar\",\"code\":\"BBD\",\"symbol\":\"Bds$\"},\n        {\"name\":\"Belarusian Ruble\",\"code\":\"BYR\",\"symbol\":\"Br\"},\n        {\"name\":\"Belgian Franc\",\"code\":\"BEF\",\"symbol\":\"fr\"},\n        {\"name\":\"Belize Dollar\",\"code\":\"BZD\",\"symbol\":\"$\"},\n        {\"name\":\"Bermudan Dollar\",\"code\":\"BMD\",\"symbol\":\"$\"},\n        {\"name\":\"Bhutanese Ngultrum\",\"code\":\"BTN\",\"symbol\":\"Nu.\"},\n        {\"name\":\"Bitcoin\",\"code\":\"BTC\",\"symbol\":\"฿\"},\n        {\"name\":\"Bolivian Boliviano\",\"code\":\"BOB\",\"symbol\":\"Bs.\"},\n        {\"name\":\"Bosnia-Herzegovina Convertible Mark\",\"code\":\"BAM\",\"symbol\":\"KM\"},\n        {\"name\":\"Botswanan Pula\",\"code\":\"BWP\",\"symbol\":\"P\"},\n        {\"name\":\"Brazilian Real\",\"code\":\"BRL\",\"symbol\":\"R$\"},\n        {\"name\":\"British Pound Sterling\",\"code\":\"GBP\",\"symbol\":\"£\"},\n        {\"name\":\"Brunei Dollar\",\"code\":\"BND\",\"symbol\":\"B$\"},\n        {\"name\":\"Bulgarian Lev\",\"code\":\"BGN\",\"symbol\":\"Лв.\"},\n        {\"name\":\"Burundian Franc\",\"code\":\"BIF\",\"symbol\":\"FBu\"},\n        {\"name\":\"Cambodian Riel\",\"code\":\"KHR\",\"symbol\":\"KHR\"},\n        {\"name\":\"Canadian Dollar\",\"code\":\"CAD\",\"symbol\":\"$\"},\n        {\"name\":\"Cape Verdean Escudo\",\"code\":\"CVE\",\"symbol\":\"$\"},\n        {\"name\":\"Cayman Islands Dollar\",\"code\":\"KYD\",\"symbol\":\"$\"},\n        {\"name\":\"CFA Franc BCEAO\",\"code\":\"XOF\",\"symbol\":\"CFA\"},\n        {\"name\":\"CFA Franc BEAC\",\"code\":\"XAF\",\"symbol\":\"FCFA\"},\n        {\"name\":\"CFP Franc\",\"code\":\"XPF\",\"symbol\":\"₣\"},\n        {\"name\":\"Chilean Peso\",\"code\":\"CLP\",\"symbol\":\"$\"},\n        {\"name\":\"Chinese Yuan\",\"code\":\"CNY\",\"symbol\":\"¥\"},\n        {\"name\":\"Colombian Peso\",\"code\":\"COP\",\"symbol\":\"$\"},\n        {\"name\":\"Comorian Franc\",\"code\":\"KMF\",\"symbol\":\"CF\"},\n        {\"name\":\"Congolese Franc\",\"code\":\"CDF\",\"symbol\":\"FC\"},\n        {\"name\":\"Costa Rican Colón\",\"code\":\"CRC\",\"symbol\":\"₡\"},\n        {\"name\":\"Croatian Kuna\",\"code\":\"HRK\",\"symbol\":\"kn\"},\n        {\"name\":\"Cuban Convertible Peso\",\"code\":\"CUC\",\"symbol\":\"$, CUC\"},\n        {\"name\":\"Czech Republic Koruna\",\"code\":\"CZK\",\"symbol\":\"Kč\"},\n        {\"name\":\"Danish Krone\",\"code\":\"DKK\",\"symbol\":\"Kr.\"},\n        {\"name\":\"Djiboutian Franc\",\"code\":\"DJF\",\"symbol\":\"Fdj\"},\n        {\"name\":\"Dominican Peso\",\"code\":\"DOP\",\"symbol\":\"$\"},\n        {\"name\":\"East Caribbean Dollar\",\"code\":\"XCD\",\"symbol\":\"$\"},\n        {\"name\":\"Egyptian Pound\",\"code\":\"EGP\",\"symbol\":\"ج.م\"},\n        {\"name\":\"Eritrean Nakfa\",\"code\":\"ERN\",\"symbol\":\"Nfk\"},\n        {\"name\":\"Estonian Kroon\",\"code\":\"EEK\",\"symbol\":\"kr\"},\n        {\"name\":\"Ethiopian Birr\",\"code\":\"ETB\",\"symbol\":\"Nkf\"},\n        {\"name\":\"Euro\",\"code\":\"EUR\",\"symbol\":\"€\"},\n        {\"name\":\"Falkland Islands Pound\",\"code\":\"FKP\",\"symbol\":\"£\"},\n        {\"name\":\"Fijian Dollar\",\"code\":\"FJD\",\"symbol\":\"FJ$\"},\n        {\"name\":\"Gambian Dalasi\",\"code\":\"GMD\",\"symbol\":\"D\"},\n        {\"name\":\"Georgian Lari\",\"code\":\"GEL\",\"symbol\":\"ლ\"},\n        {\"name\":\"German Mark\",\"code\":\"DEM\",\"symbol\":\"DM\"},\n        {\"name\":\"Ghanaian Cedi\",\"code\":\"GHS\",\"symbol\":\"GH₵\"},\n        {\"name\":\"Gibraltar Pound\",\"code\":\"GIP\",\"symbol\":\"£\"},\n        {\"name\":\"Greek Drachma\",\"code\":\"GRD\",\"symbol\":\"₯, Δρχ, Δρ\"},\n        {\"name\":\"Guatemalan Quetzal\",\"code\":\"GTQ\",\"symbol\":\"Q\"},\n        {\"name\":\"Guinean Franc\",\"code\":\"GNF\",\"symbol\":\"FG\"},\n        {\"name\":\"Guyanaese Dollar\",\"code\":\"GYD\",\"symbol\":\"$\"},\n        {\"name\":\"Haitian Gourde\",\"code\":\"HTG\",\"symbol\":\"G\"},\n        {\"name\":\"Honduran Lempira\",\"code\":\"HNL\",\"symbol\":\"L\"},\n        {\"name\":\"Hong Kong Dollar\",\"code\":\"HKD\",\"symbol\":\"$\"},\n        {\"name\":\"Hungarian Forint\",\"code\":\"HUF\",\"symbol\":\"Ft\"},\n        {\"name\":\"Icelandic króna\",\"code\":\"ISK\",\"symbol\":\"kr\"},\n        {\"name\":\"Indian Rupee\",\"code\":\"INR\",\"symbol\":\"₹\"},\n        {\"name\":\"Indonesian Rupiah\",\"code\":\"IDR\",\"symbol\":\"Rp\"},\n        {\"name\":\"Iranian Rial\",\"code\":\"IRR\",\"symbol\":\"﷼\"},\n        {\"name\":\"Iraqi Dinar\",\"code\":\"IQD\",\"symbol\":\"د.ع\"},\n        {\"name\":\"Israeli New Sheqel\",\"code\":\"ILS\",\"symbol\":\"₪\"},\n        {\"name\":\"Italian Lira\",\"code\":\"ITL\",\"symbol\":\"L,£\"},\n        {\"name\":\"Jamaican Dollar\",\"code\":\"JMD\",\"symbol\":\"J$\"},\n        {\"name\":\"Japanese Yen\",\"code\":\"JPY\",\"symbol\":\"¥\"},\n        {\"name\":\"Jordanian Dinar\",\"code\":\"JOD\",\"symbol\":\"ا.د\"},\n        {\"name\":\"Kazakhstani Tenge\",\"code\":\"KZT\",\"symbol\":\"лв\"},\n        {\"name\":\"Kenyan Shilling\",\"code\":\"KES\",\"symbol\":\"KSh\"},\n        {\"name\":\"Kuwaiti Dinar\",\"code\":\"KWD\",\"symbol\":\"ك.د\"},\n        {\"name\":\"Kyrgystani Som\",\"code\":\"KGS\",\"symbol\":\"лв\"},\n        {\"name\":\"Laotian Kip\",\"code\":\"LAK\",\"symbol\":\"₭\"},\n        {\"name\":\"Latvian Lats\",\"code\":\"LVL\",\"symbol\":\"Ls\"},\n        {\"name\":\"Lebanese Pound\",\"code\":\"LBP\",\"symbol\":\"£\"},\n        {\"name\":\"Lesotho Loti\",\"code\":\"LSL\",\"symbol\":\"L\"},\n        {\"name\":\"Liberian Dollar\",\"code\":\"LRD\",\"symbol\":\"$\"},\n        {\"name\":\"Libyan Dinar\",\"code\":\"LYD\",\"symbol\":\"د.ل\"},\n        {\"name\":\"Lithuanian Litas\",\"code\":\"LTL\",\"symbol\":\"Lt\"},\n        {\"name\":\"Macanese Pataca\",\"code\":\"MOP\",\"symbol\":\"$\"},\n        {\"name\":\"Macedonian Denar\",\"code\":\"MKD\",\"symbol\":\"ден\"},\n        {\"name\":\"Malagasy Ariary\",\"code\":\"MGA\",\"symbol\":\"Ar\"},\n        {\"name\":\"Malawian Kwacha\",\"code\":\"MWK\",\"symbol\":\"MK\"},\n        {\"name\":\"Malaysian Ringgit\",\"code\":\"MYR\",\"symbol\":\"RM\"},\n        {\"name\":\"Maldivian Rufiyaa\",\"code\":\"MVR\",\"symbol\":\"Rf\"},\n        {\"name\":\"Mauritanian Ouguiya\",\"code\":\"MRO\",\"symbol\":\"MRU\"},\n        {\"name\":\"Mauritian Rupee\",\"code\":\"MUR\",\"symbol\":\"₨\"},\n        {\"name\":\"Mexican Peso\",\"code\":\"MXN\",\"symbol\":\"$\"},\n        {\"name\":\"Moldovan Leu\",\"code\":\"MDL\",\"symbol\":\"L\"},\n        {\"name\":\"Mongolian Tugrik\",\"code\":\"MNT\",\"symbol\":\"₮\"},\n        {\"name\":\"Moroccan Dirham\",\"code\":\"MAD\",\"symbol\":\"MAD\"},\n        {\"name\":\"Mozambican Metical\",\"code\":\"MZM\",\"symbol\":\"MT\"},\n        {\"name\":\"Myanmar Kyat\",\"code\":\"MMK\",\"symbol\":\"K\"},\n        {\"name\":\"Namibian Dollar\",\"code\":\"NAD\",\"symbol\":\"$\"},\n        {\"name\":\"Nepalese Rupee\",\"code\":\"NPR\",\"symbol\":\"₨\"},\n        {\"name\":\"Netherlands Antillean Guilder\",\"code\":\"ANG\",\"symbol\":\"ƒ\"},\n        {\"name\":\"New Taiwan Dollar\",\"code\":\"TWD\",\"symbol\":\"$\"},\n        {\"name\":\"New Zealand Dollar\",\"code\":\"NZD\",\"symbol\":\"$\"},\n        {\"name\":\"Nicaraguan Córdoba\",\"code\":\"NIO\",\"symbol\":\"C$\"},\n        {\"name\":\"Nigerian Naira\",\"code\":\"NGN\",\"symbol\":\"₦\"},\n        {\"name\":\"North Korean Won\",\"code\":\"KPW\",\"symbol\":\"₩\"},\n        {\"name\":\"Norwegian Krone\",\"code\":\"NOK\",\"symbol\":\"kr\"},\n        {\"name\":\"Omani Rial\",\"code\":\"OMR\",\"symbol\":\".ع.ر\"},\n        {\"name\":\"Pakistani Rupee\",\"code\":\"PKR\",\"symbol\":\"₨\"},\n        {\"name\":\"Panamanian Balboa\",\"code\":\"PAB\",\"symbol\":\"B/.\"},\n        {\"name\":\"Papua New Guinean Kina\",\"code\":\"PGK\",\"symbol\":\"K\"},\n        {\"name\":\"Paraguayan Guarani\",\"code\":\"PYG\",\"symbol\":\"₲\"},\n        {\"name\":\"Peruvian Nuevo Sol\",\"code\":\"PEN\",\"symbol\":\"S/.\"},\n        {\"name\":\"Philippine Peso\",\"code\":\"PHP\",\"symbol\":\"₱\"},\n        {\"name\":\"Polish Zloty\",\"code\":\"PLN\",\"symbol\":\"zł\"},\n        {\"name\":\"Qatari Rial\",\"code\":\"QAR\",\"symbol\":\"ق.ر\"},\n        {\"name\":\"Romanian Leu\",\"code\":\"RON\",\"symbol\":\"lei\"},\n        {\"name\":\"Russian Ruble\",\"code\":\"RUB\",\"symbol\":\"₽\"},\n        {\"name\":\"Rwandan Franc\",\"code\":\"RWF\",\"symbol\":\"FRw\"},\n        {\"name\":\"Salvadoran Colón\",\"code\":\"SVC\",\"symbol\":\"₡\"},\n        {\"name\":\"Samoan Tala\",\"code\":\"WST\",\"symbol\":\"SAT\"},\n        {\"name\":\"Saudi Riyal\",\"code\":\"SAR\",\"symbol\":\"﷼\"},\n        {\"name\":\"Serbian Dinar\",\"code\":\"RSD\",\"symbol\":\"din\"},\n        {\"name\":\"Seychellois Rupee\",\"code\":\"SCR\",\"symbol\":\"SRe\"},\n        {\"name\":\"Sierra Leonean Leone\",\"code\":\"SLL\",\"symbol\":\"Le\"},\n        {\"name\":\"Singapore Dollar\",\"code\":\"SGD\",\"symbol\":\"$\"},\n        {\"name\":\"Slovak Koruna\",\"code\":\"SKK\",\"symbol\":\"Sk\"},\n        {\"name\":\"Solomon Islands Dollar\",\"code\":\"SBD\",\"symbol\":\"Si$\"},\n        {\"name\":\"Somali Shilling\",\"code\":\"SOS\",\"symbol\":\"Sh.so.\"},\n        {\"name\":\"South African Rand\",\"code\":\"ZAR\",\"symbol\":\"R\"},\n        {\"name\":\"South Korean Won\",\"code\":\"KRW\",\"symbol\":\"₩\"},\n        {\"name\":\"Special Drawing Rights\",\"code\":\"XDR\",\"symbol\":\"SDR\"},\n        {\"name\":\"Sri Lankan Rupee\",\"code\":\"LKR\",\"symbol\":\"Rs\"},\n        {\"name\":\"St. Helena Pound\",\"code\":\"SHP\",\"symbol\":\"£\"},\n        {\"name\":\"Sudanese Pound\",\"code\":\"SDG\",\"symbol\":\".س.ج\"},\n        {\"name\":\"Surinamese Dollar\",\"code\":\"SRD\",\"symbol\":\"$\"},\n        {\"name\":\"Swazi Lilangeni\",\"code\":\"SZL\",\"symbol\":\"E\"},\n        {\"name\":\"Swedish Krona\",\"code\":\"SEK\",\"symbol\":\"kr\"},\n        {\"name\":\"Swiss Franc\",\"code\":\"CHF\",\"symbol\":\"CHf\"},\n        {\"name\":\"Syrian Pound\",\"code\":\"SYP\",\"symbol\":\"LS\"},\n        {\"name\":\"São Tomé and Príncipe Dobra\",\"code\":\"STD\",\"symbol\":\"Db\"},\n        {\"name\":\"Tajikistani Somoni\",\"code\":\"TJS\",\"symbol\":\"SM\"},\n        {\"name\":\"Tanzanian Shilling\",\"code\":\"TZS\",\"symbol\":\"TSh\"},\n        {\"name\":\"Thai Baht\",\"code\":\"THB\",\"symbol\":\"฿\"},\n        {\"name\":\"Tongan Pa'anga\",\"code\":\"TOP\",\"symbol\":\"$\"},\n        {\"name\":\"Trinidad & Tobago Dollar\",\"code\":\"TTD\",\"symbol\":\"$\"},\n        {\"name\":\"Tunisian Dinar\",\"code\":\"TND\",\"symbol\":\"ت.د\"},\n        {\"name\":\"Turkish Lira\",\"code\":\"TRY\",\"symbol\":\"₺\"},\n        {\"name\":\"Turkmenistani Manat\",\"code\":\"TMT\",\"symbol\":\"T\"},\n        {\"name\":\"Ugandan Shilling\",\"code\":\"UGX\",\"symbol\":\"USh\"},\n        {\"name\":\"Ukrainian Hryvnia\",\"code\":\"UAH\",\"symbol\":\"₴\"},\n        {\"name\":\"United Arab Emirates Dirham\",\"code\":\"AED\",\"symbol\":\"إ.د\"},\n        {\"name\":\"Uruguayan Peso\",\"code\":\"UYU\",\"symbol\":\"$\"},\n        {\"name\":\"US Dollar\",\"code\":\"USD\",\"symbol\":\"$\"},\n        {\"name\":\"Uzbekistan Som\",\"code\":\"UZS\",\"symbol\":\"лв\"},\n        {\"name\":\"Vanuatu Vatu\",\"code\":\"VUV\",\"symbol\":\"VT\"},\n        {\"name\":\"Venezuelan  Bolívar\",\"code\":\"VEF\",\"symbol\":\"Bs\"},\n        {\"name\":\"Vietnamese Dong\",\"code\":\"VND\",\"symbol\":\"₫\"},\n        {\"name\":\"Yemeni Rial\",\"code\":\"YER\",\"symbol\":\"﷼\"},\n        {\"name\":\"Zambian Kwacha\",\"code\":\"ZMK\",\"symbol\":\"ZK\"}\n    ];\n}","import { __html, __attr } from '@kenzap/k-cloud';\n\n// html product list loader\nexport const EditSettings = (_this) => {\n\nreturn `\n    <div class=\"card border-white shadow-sm lay br mb-2 nodrag\">\n        <div class=\"card-header border-white bg-white\" role=\"tab\" id=\"section0\">\n            <h6 class=\"my-2 d-flex align-items-center justify-content-between\">\n                <a data-bs-toggle=\"collapse\" href=\"#collapses-settings\" data-section=\"s\" aria-expanded=\"false\" aria-controls=\"collapses\" class=\"secos collapsed text-dark text-decoration-none fs-4\">\n                    ${ __html('Page Settings') }<div id=\"page_template\"></div>\n                </a>\n            </h6>\n        </div>\n        <div id=\"collapses-settings\" class=\"collapse\" role=\"tabpanel\" aria-labelledby=\"collapses-settings\" data-parent=\"#sections\" >\n            <div class=\"card-body\">\n                <div class=\"controls\">\n                    <div class=\"r row\">\n                        <div class=\"col-md-12\">\n                            <div class=\"form-group row\"> \n                                <label class=\"col-sm-6 col-form-label\">${ __html('Title') }</label>\n                                <div class=\"col-sm-12\"> \n                                    <input id=\"ptitle\" type=\"text\" data-key=\"heading\" data-type=\"text\" class=\"text-input form-control inps\" value=\"${ _this.page.title ? _this.page.title : '' }\" name=\"ptitle\">\n                                    <p class=\"form-text mt-2\">${ __html('Page title is used by the search engines and when you share the page.') }</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"r row\">\n                        <div class=\"col-md-12\">\n                            <div class=\"form-group row\"> \n                                <label class=\"col-sm-6 col-form-label\">${ __html('Slug') }</label>\n                                <div class=\"col-sm-12\"> \n                                    <input id=\"pslug\" type=\"text\" data-key=\"heading\" data-type=\"text\" class=\"text-input form-control inps\" value=\"${ _this.page.slug ? _this.page.slug : '' }\" name=\"pslug\">\n                                    <p class=\"form-text mt-2\">${ __html('Page address or unique url.') }</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"r row\"> \n                        <div class=\"col-md-12\">\n                            <div class=\"form-group row\"> \n                                <label class=\"col-sm-6 col-form-label\">${ __html('Description') }</label>\n                                <div class=\"col-sm-12\"> \n                                    <textarea id=\"pdesc\" type=\"text\" data-key=\"info1_desc\" data-type=\"text\" class=\"text-input form-control inps\" value=\"\" name=\"pdesc\" rows=\"4\">${ _this.page.description ? _this.page.description : '' }</textarea>\n                                    <p class=\"form-text mt-2\">${ __html('Used by search engines and when you share the page.') }</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"r row\"> \n                        <div class=\"col-md-12\">\n                            <div class=\"form-group row\"> \n                                <label class=\"col-sm-6 col-form-label\">${ __html('Palette') }</label>\n                                <div class=\"col-sm-12\"> \n                                    <ul id=\"palette\" class=\"palette inp\" data-type=\"palette\">\n                                        <li> <input type=\"color\" class=\"border border-secondary form-control form-control-color\" data-key=\"baseColorA\" value=\"#1941df\" style=\"width:50px\" title=\"Choose your base color\"> </li>\n                                        <li> <input type=\"color\" class=\"border border-secondary form-control form-control-color\" data-key=\"baseColorB\" value=\"#1941df\" style=\"width:50px\" title=\"Choose your base color\"> </li>\n                                        <li> <input type=\"color\" class=\"border border-secondary form-control form-control-color\" data-key=\"bgColorA\" value=\"#000000\" style=\"width:50px\" title=\"Main background color\"> </li>\n                                        <li> <input type=\"color\" class=\"border border-secondary form-control form-control-color\" data-key=\"bgColorB\" value=\"#494949\" style=\"width:50px\" title=\"Light background color\"> </li>\n                                        <li> <input type=\"color\" class=\"border border-secondary form-control form-control-color\" data-key=\"txtColorA\" value=\"#111111\" style=\"width:50px\" title=\"Secondary text color\"> </li>\n                                        <li> <input type=\"color\" class=\"border border-secondary form-control form-control-color\" data-key=\"txtColorB\" value=\"#818181\" style=\"width:50px\" title=\"Light text color\"> </li>\n                                        <li> <input type=\"color\" class=\"border border-secondary form-control form-control-color\" data-key=\"txtColorC\" value=\"#ffffff\" style=\"width:50px\" title=\"Main text color\"> </li>\n                                        <li> <input type=\"color\" class=\"border border-secondary form-control form-control-color\" data-key=\"grayColorA\" value=\"#F7F7F7\" style=\"width:50px\" title=\"Secondary text color\"> </li>\n                                        <li> <input type=\"color\" class=\"border border-secondary form-control form-control-color\" data-key=\"grayColorB\" value=\"#c0c0c0\" style=\"width:50px\" title=\"Light text color\"> </li>\n                                        <li> <input type=\"color\" class=\"border border-secondary form-control form-control-color\" data-key=\"grayColorB\" value=\"#818181\" style=\"width:50px\" title=\"Main text color\"> </li>\n                                    </ul> \n                                    <div class=\"clearfix\"></div>\n                                    <p class=\"form-text\">${ __html('Click on block above to pick custom color') }</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>     \n                    <div class=\"r row\">\n                        <div class=\"col-md-12\">\n                            <div class=\"form-group row\"> \n                                <label class=\"col-sm-12 col-form-label\">${ __html('Heading font') }</label>\n                                <div class=\"col-sm-6\"> \n                                    <select id=\"font_heading\" class=\"font-input text-input form-control form-select\" >\\\n                                        \n                                    </select>\n                                    <p class=\"form-text mt-2\"></p>\n                                </div>\n                                <div class=\"col-sm-3\"> \n                                    <select id=\"font_heading_type\" class=\"font-input text-input form-control form-select\" >\\\n                                        <option value=\"sans-serif\">Sans Serif</option>\n                                        <option value=\"serif\">Serif</option>\n                                        <option value=\"monospace\">Monospace</option>\n                                    </select>\n                                    <!-- <input id=\"heading_type\" type=\"text\" data-type=\"text\" class=\"text-input form-control inps\" value=\"\" name=\"heading_type\"> -->\n                                    <p class=\"form-text mt-2\"></p>\n                                </div>\n                                <div class=\"col-sm-3\"> \n                                    <select id=\"font_heading_weight\" class=\"font-input text-input form-control form-select\" >\\\n                                        <option value=\"100\" class=\"d-none\"></option>\n                                        <option value=\"200\">${ __html('Light') }</option>\n                                        <option value=\"300\" class=\"d-none\">300</option>\n                                        <option value=\"400\" selected>${ __html('Normal') }</option>\n                                        <option value=\"500\" class=\"d-none\">500</option>\n                                        <option value=\"600\">${ __html('Bold') }</option>\n                                        <option value=\"700\" class=\"d-none\">700</option>\n                                        <option value=\"800\" class=\"d-none\">800</option>\n                                    </select>\n                                    <!-- <input id=\"heading_weight\" type=\"text\" data-type=\"text\" class=\"text-input form-control inps\" value=\"\" name=\"heading_weight\"> -->\n                                    <p class=\"form-text mt-2\"></p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"r row\">\n                        <div class=\"col-md-12\">\n                            <div class=\"form-group row\"> \n                                <label class=\"col-sm-12 col-form-label\">${ __html('Body font') }</label>\n                                <div class=\"col-sm-6\"> \n                                <select id=\"font_body\" class=\"font-input text-input form-control form-select\" >\\\n                                    \n                                </select>\n                                <p class=\"form-text mt-2\"></p>\n                                </div>\n                                <div class=\"col-sm-3\"> \n                                <select id=\"font_body_type\" class=\"font-input text-input form-control form-select\" >\\\n                                    <option value=\"sans-serif\">Sans Serif</option>\n                                    <option value=\"serif\">Serif</option>\n                                    <option value=\"monospace\">Monospace</option>\n                                </select>\n                                <p class=\"form-text mt-2\"></p>\n                                </div>\n                                <div class=\"col-sm-3\"> \n                                <select id=\"font_body_weight\" class=\"font-input text-input form-control form-select\" >\\\n                                    <option value=\"100\" class=\"d-none\">${ __html('Very Light') }</option>\n                                    <option value=\"200\">${ __html('Light') }</option>\n                                    <option value=\"300\" class=\"d-none\">300</option>\n                                    <option value=\"400\" selected>${ __html('Normal') }</option>\n                                    <option value=\"500\" class=\"d-none\">500</option>\n                                    <option value=\"600\">${ __html('Bold') }</option>\n                                    <option value=\"700\" class=\"d-none\">700</option>\n                                    <option value=\"800\" class=\"d-none\">800</option>\n                                </select>\n                                <p class=\"form-text mt-2\"></p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"r row access-cont \">\n                        <div class=\"col-md-12\">\n                            <div class=\"form-group row\"> \n                                <label class=\"col-sm-12 col-form-label d-none\">${ __html('Restrict access') }</label>\n                                <div class=\"col-sm-12\">\n                                    <div class=\"form-check form-switch\">\n                                        <input class=\"form-check-input\" type=\"checkbox\" id=\"password_protect\" ${ _this.page.password_protect ? 'checked' : '' } >\n                                        <label class=\"form-check-label\" for=\"password_protect\">${ __html('Restrict access') }</label>\n                                    </div>\n                                    <p class=\"form-text mt-2 d-none\">${ __html('Set this page as home page.') }</p>\n                                </div>\n                                <div class=\"col-sm-6 mt-2 password-cont ${ _this.page.password_protect ? '' : 'd-none' }\"> \n                                    <label class=\"col-form-label d-none\" for=\"password\">${ __html('Restrict access') }</label>\n                                    <input id=\"password\" type=\"password\" data-key=\"password\" data-type=\"text\" class=\"text-input form-control inps\" value=\"${ _this.page.password ? _this.page.password : '' }\" name=\"password\">\n                                </div>\n                                <p class=\"form-text mt-2\">${ __html('Password-protect page, password should be at least 4 characters long.') }</p>\n                            </div>\n                        </div>\n                    </div>                   \n                    <div class=\"r row homepage-cont ${ _this.page.password_protect ? 'd-none' : '' }\">\n                        <div class=\"col-md-12\">\n                            <div class=\"form-group row\"> \n                                <label class=\"col-sm-6 col-form-label d-none\">${ __html('Homepage') }</label>\n                                <div class=\"col-sm-12\">\n                                    <div class=\"form-check form-switch\">\n                                        <input class=\"form-check-input\" type=\"checkbox\" id=\"home_page\" ${ _this.page.home_page ? 'checked' : '' } >\n                                        <label class=\"form-check-label\" for=\"home_page\">${ __html('Homepage') }</label>\n                                    </div>\n                                    <p class=\"form-text mt-2\">${ __html('Set this page as home page.') }</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"r row\">\n                        <div class=\"col-md-12\">\n                            <div class=\"form-group row\"> \n                                <label class=\"col-sm-6 col-form-label\">${ __html('CSS Rules') }</label>\n                                <div class=\"col-sm-12\">\n                                    <textarea id=\"css_rules\" data-key=\"css_rules\" data-type=\"text\" class=\"csseditor-input text-input form-control inps\" name=\"css_rules\">${ _this.page.css_rules ? _this.page.css_rules : '' }</textarea>\n                                    <p class=\"form-text mt-2\">${ __html('Add custom CSS rules to adjust visual look of the page.') }</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n  `;\n}","import { __html, __attr, attr, html, toast, onChange, getCookie, spaceID, slugify } from '@kenzap/k-cloud';\nimport { EditSettings } from \"../_/_cnt_page_edit_settings.js\"\n\nconst CDN = 'https://kenzap-sites.oss-ap-southeast-1.aliyuncs.com';\n\n/**\n * Renders site controls upon provides JSON structure. Most frequent controls are loaded within this style.\n * Other controls are mentioned for a reference to load async js helping methods when needed.\n *\n * @Class Controls\n */\n\nexport const Controls = {\n\n  // state object\n  data : {},\n\n  // sections array\n  page : {},\n\n  // layouts cache\n  layouts : {},\n\n  // current section\n  sec : {},\n\n  // settings array, for template customizer\n  settings : {},\n\n  // callback function for live changes preview \n  cb : {},\n\n  // listener object storage\n  l : {},\n\n  // html selector to output data\n  sel : {},\n\n  // action to pass to the frontend\n  obj : { settingsCache: null },\n\n  // current section\n  section : '',\n\n  /*\n  * Initiate controls, assign listeners and pass HTML output to selector\n  *\n  * @param    {String}  selector  Example: .controls\n  * @param    {String}  js        Example: { \"title\":\"Site title\", \"input\":\"text\", \"val\": \"Website Template\"}\n  * @return \t{HTML} \t  output    HTML element \n  * \n  */\n  init : function(sel, js, cb, mode) {\n\n    this.sel = sel;\n\n    switch(mode){\n\n      // multi section mode\n      case 'single': this.initSectionSingle(sel, js, cb); break;\n\n      // single section mode\n      case 'sections': this.initSections(sel, js, cb); break;\n\n      // customizer mode\n      case 'settings': this.initSettings(sel, js, cb); break;\n    }\n  },\n  \n  /*\n  * Initiate accordion of selectors where controls are nested\n  *\n  * @param    {String}    selector  Example: .controls\n  * @param    {String}    js        Example: { \"title\":\"Site title\", \"input\":\"text\", \"val\": \"Website Template\"}\n  * @param    {Function}  cb        callback function\n  * @param    {Boolean}   force     Force recreate section and its listeners\n  * @return \t{HTML} \t    output    HTML element \n  * \n  */\n  initSectionSingle : function(sel, js, cb, force = false) {\n\n    // cache data locally\n    this.data = js;\n\n    // save globally\n    this.cb = cb;\n\n    // dependency state object\n    this.l.dep = {};\n\n    // reset prev section listeners\n    this.l = {};\n\n    // render\n    let html = this.render(js);\n    \n    // output render to passed html selector\n    if(document.querySelector(sel) && (document.querySelector(sel).innerHTML.length < 10) || force){ document.querySelector(sel).innerHTML = html; this.listeners(); }\n\n    // assign listeners\n  },\n\n  /*\n  * Initiate accordion of selectors where controls are nested\n  *\n  * @param    {String}    selector  Example: .controls\n  * @param    {String}    js        Example: { \"title\":\"Site title\", \"input\":\"text\", \"val\": \"Website Template\"}\n  * @param    {Function}  cb        callback function\n  * @return \t{HTML} \t    output    HTML element \n  * \n  */\n  initSections : function(sel, js, cb) {\n\n    // console.log(js);\n\n    let _this = this;\n\n    // set defaults\n    if(js == undefined) js = { sections: [], title: \"Page\", page: {} };\n\n    // cache data locally\n    this.page = js;\n\n    // save globally\n    this.cb = cb;\n\n    // no sections founds\n    if(js.sections == undefined) return \"\";\n\n    // output html sections\n    let html = EditSettings(_this);\n\n    // iterate sections\n    let i = 0;\n    for(let sec in js.sections){\n\n      let s = js.sections[sec];\n\n      html+=`\n      <div class=\"card border-white shadow-sm lay br mb-2\">\n        <div class=\"card-header border-white bg-white p-0\" role=\"tab\" id=\"section${i}\">\n          <h6 class=\"mb-0 d-flex align-items-center justify-content-between\">\n            <a data-bs-toggle=\"collapse\" href=\"#collapse${i}\" data-section=\"${i}\" aria-expanded=\"false\" aria-controls=\"collapse${i}\" class=\"seco collapsed text-dark ps-3 py-3 pe-3 text-decoration-none fs-5\">\n              ${s.data.title}\n              <div class=\"tname text-secondary d-none\" >${s.data.template} template</div>\n            </a>\n            <div class=\"row-actions-card\">\n              <div class=\"dropdown\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"34\" height=\"34\" fill=\"currentColor\" data-acc=\"actions\" data-section=\"${i}\" class=\"bi bi-three-dots-vertical text-secondary acc acc2- contect dropdown-toggle po\" id=\"actions-mennu${i}\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\" viewBox=\"0 0 16 16\">\n                  <path d=\"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\"/>\n                </svg>\n                <ul class=\"dropdown-menu\" aria-labelledby=\"actions-mennu${i}\">\n                  <li class=\"${ i == 0 ? 'd-none' : '' }\">\n                    <a class=\"dropdown-item acc d-flex justify-content-between align-items-center\" data-acc=\"moveup\" data-section=\"${i}\" href=\"#\">\n                      <div>${ __html('Move Up') }</div>\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-arrow-up\" viewBox=\"0 0 16 16\">\n                        <path fill-rule=\"evenodd\" d=\"M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z\"/>\n                      </svg>\n                    </a>\n                  </li>\n                  <li class=\"${ i == js.sections.length-1 ? 'd-none' : '' }\">\n                    <a class=\"dropdown-item acc d-flex justify-content-between align-items-center\" data-acc=\"movedown\" data-section=\"${i}\" href=\"#\">\n                      <div>${ __html('Move Down') }</div>\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-arrow-down\" viewBox=\"0 0 16 16\">\n                        <path fill-rule=\"evenodd\" d=\"M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z\"/>\n                      </svg>\n                    </a>\n                  </li>\n                  <li>\n                    <a class=\"dropdown-item acc d-flex justify-content-between align-items-center\" data-acc=\"copy\" data-section=\"${i}\" href=\"#\">\n                      <div>${ __html('Duplicate') }</div>\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-files\" viewBox=\"0 0 16 16\">\n                        <path d=\"M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z\"/>\n                      </svg>\n                    </a>\n                  </li>\n                  <li>\n                    <a class=\"dropdown-item acc d-flex justify-content-between align-items-center\" data-acc=\"settings\" data-section=\"${i}\" href=\"#\">\n                      <div>${ __html('Advanced') }</div>\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-brush\" viewBox=\"0 0 16 16\">\n                        <path d=\"M15.825.12a.5.5 0 0 1 .132.584c-1.53 3.43-4.743 8.17-7.095 10.64a6.067 6.067 0 0 1-2.373 1.534c-.018.227-.06.538-.16.868-.201.659-.667 1.479-1.708 1.74a8.118 8.118 0 0 1-3.078.132 3.659 3.659 0 0 1-.562-.135 1.382 1.382 0 0 1-.466-.247.714.714 0 0 1-.204-.288.622.622 0 0 1 .004-.443c.095-.245.316-.38.461-.452.394-.197.625-.453.867-.826.095-.144.184-.297.287-.472l.117-.198c.151-.255.326-.54.546-.848.528-.739 1.201-.925 1.746-.896.126.007.243.025.348.048.062-.172.142-.38.238-.608.261-.619.658-1.419 1.187-2.069 2.176-2.67 6.18-6.206 9.117-8.104a.5.5 0 0 1 .596.04zM4.705 11.912a1.23 1.23 0 0 0-.419-.1c-.246-.013-.573.05-.879.479-.197.275-.355.532-.5.777l-.105.177c-.106.181-.213.362-.32.528a3.39 3.39 0 0 1-.76.861c.69.112 1.736.111 2.657-.12.559-.139.843-.569.993-1.06a3.122 3.122 0 0 0 .126-.75l-.793-.792zm1.44.026c.12-.04.277-.1.458-.183a5.068 5.068 0 0 0 1.535-1.1c1.9-1.996 4.412-5.57 6.052-8.631-2.59 1.927-5.566 4.66-7.302 6.792-.442.543-.795 1.243-1.042 1.826-.121.288-.214.54-.275.72v.001l.575.575zm-4.973 3.04.007-.005a.031.031 0 0 1-.007.004zm3.582-3.043.002.001h-.002z\"/>\n                      </svg>                  \n                    </a>\n                  </li>\n                  <li>\n                    <a class=\"dropdown-item acc d-flex justify-content-between align-items-center\" data-acc=\"remove\" data-section=\"${i}\" href=\"#\">\n                      <div>${ __html('Delete') }</div>\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-trash3\" viewBox=\"0 0 16 16\">\n                        <path d=\"M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z\"/>\n                      </svg>\n                    </a>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </h6>\n        </div>\n        <div id=\"collapse${i}\" class=\"collapse\" role=\"tabpanel\" aria-labelledby=\"section${i}\" data-parent=\"#sections\" style=\"\">\n          <div class=\"card-body\">\n              <div class=\"controls\" data-section=\"${i}\"></div>\n          </div>\n        </div>\n      </div>`;\n\n      i++;\n    }\n\n    // output render to passed html selector\n    if(document.querySelector(sel)) document.querySelector(sel + ' .add-layout').insertAdjacentHTML(\"beforeBegin\", html);\n\n    // assign listeners\n    let el = document.querySelectorAll(\".seco\");\n    for (const a of el) {\n      a.addEventListener('click', function(e) {\n\n        // console.log(\"#collapse\"+this.dataset.section+\" .controls\");\n        _this.section = this.dataset.section;\n        _this.initSectionSingle(\"#collapse\"+this.dataset.section+\" .controls\", js.sections[this.dataset.section].data, _this.cb);\n        return false;\n      })\n    }\n\n    // action listeners\n    [...document.querySelectorAll('.dropdown-item.acc')].forEach(el => {\n\n      el.addEventListener('click', e => {\n\n        e.preventDefault();\n\n        let section = e.currentTarget.dataset.section;\n\n        switch(e.currentTarget.dataset.acc){\n\n          // move layout up\n          case 'moveup': \n    \n            // move layout section up\n            _this.arrayMove(_this.page.sections, section, parseInt(section-1));\n    \n            // reassign listeners\n            _this.sectionListeners(\".acc2\");\n    \n            // notify frontend\n            _this.obj.action = 'section-moveup';\n            _this.cb.call({action:'section-moveup'});\n            \n          break;\n          // move layout down\n          case 'movedown': \n    \n            // move layout section up\n            _this.arrayMove(_this.page.sections, section, parseInt(section)+1);\n\n            // reassign listeners\n            _this.sectionListeners(\".acc2\");\n    \n            // notify frontend\n            _this.obj.action = 'section-movedown';\n            _this.cb.call({action:'section-movedown'});\n    \n          break;\n          // layout container settings\n          case 'settings':\n      \n            $(\"#settings\").attr('data-section',section);\n            $(\"#settings\").attr('data-source','settings');\n            $(\"#settings\").attr('data-acc','settings');\n            $(\"#settings .layouts_body\").html('');\n\n            let settingsCache = '';\n\n            // get settings structure\n            if(!Controls.obj.settingsCache){\n  \n              settingsCache = `\n              <div class=\"r row\" data-key=\"\">\n                <div class=\"col-md-4\">\n                  <div class=\"form-group row\">\n                    <label class=\"col-sm-12 col-form-label\"><i class=\"mdi mdi-arrow-collapse-horizontal\"></i> Layout Width</label>\n                    <div class=\"col-sm-12\">\n                      <input id=\"max-width\" type=\"number\" placeholder=\"1168\" class=\"text-input form-control inps\" value=\"1168\"  >\n                      <p class=\"form-text mt-2\">Layout max width in pixels.</p>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"col-md-4\">\n                  <div class=\"form-group row\">\n                    <label class=\"col-sm-12 col-form-label\"><i class=\"mdi mdi-arrow-expand-horizontal\"></i> Side Paddings</label>\n                    <div class=\"col-sm-12\">\n                      <input id=\"side-paddings\" type=\"number\" placeholder=\"16\" class=\"text-input form-control inps\" value=\"16\"  >\n                      <p class=\"form-text mt-2\">Screen left and right offset margins.</p>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"col-md-4\"> \n                  <div class=\"form-group row\">\n                    <label class=\"col-sm-12 col-form-label\"><i class=\"mdi mdi-arrow-expand-vertical\" ></i> Section Paddings</label>\n                    <div class=\"col-sm-12\">\n                      <div class=\"form-check\">\n                        <label class=\"form-check-label\"><input id=\"pd0\" type=\"radio\" class=\"form-check-input\" value=\"pd0\" name=\"pd-type\" >Hidden <i class=\"input-helper\"></i></label>\n                      </div>\n                      <div class=\"form-check\">\n                        <label class=\"form-check-label\"><input id=\"pds\" type=\"radio\" class=\"form-check-input\" value=\"pds\" name=\"pd-type\">Small <i class=\"input-helper\"></i></label>\n                      </div>\n                      <div class=\"form-check\">\n                        <label class=\"form-check-label\"><input id=\"pdm\" type=\"radio\" class=\"form-check-input\" value=\"pdm\" name=\"pd-type\">Medium <i class=\"input-helper\"></i></label>\n                      </div>\n                      <div class=\"form-check\">\n                        <label class=\"form-check-label\"><input id=\"pdl\" type=\"radio\" class=\"form-check-input\" value=\"pdl\" name=\"pd-type\">Large <i class=\"input-helper\"></i></label>\n                      </div>\n                      <div class=\"form-check\">\n                        <label class=\"form-check-label\"><input id=\"pde\" type=\"radio\" class=\"form-check-input\" value=\"pde\" name=\"pd-type\">Extra Large <i class=\"input-helper\"></i></label>\n                      </div>\n                      <p class=\"form-text mt-2\"></p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"r row\" data-key=\"\">\n\n                <div class=\"col-md-6\">\n                  <div class=\"form-group row\">\n                    <label class=\"col-sm-12 col-form-label\"><i class=\"mdi mdi-image-outline\"></i> Background image</label>\n                    <div class=\"col-sm-12\">\n                      <input id=\"bg-image\" type=\"text\" class=\"text-input form-control inps\" placeholder=\"https://static.kenzap.com/img/backg...\"  >\n                      <p class=\"form-text mt-2\">Link to background image.</p>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"col-md-6\">\n                  <div class=\"form-group row\">\n                    <label class=\"col-sm-12 col-form-label\"><i class=\"mdi mdi-invert-colors\" ></i> Background color</label>\n                    <div class=\"col-sm-12\">\n                      <input id=\"bg-color\" type=\"color\" class=\"inps color-control form-control-color border-0 border-radius-0- p-0-\" placeholder=\"#FEFEFE\" value=\"\"  >\n                      <p class=\"form-text mt-2\">Background color in HEX format.</p> \n                    </div>\n                  </div>\n                </div>\n\n                <!--\n                <div class=\"col-md-6\"> \n                  <div class=\"form-group row\">\n                    <label class=\"col-sm-12 col-form-label\">Background Type</label>\n                    <div class=\"col-sm-12\">\n                      <div class=\"form-check\">\n                        <label class=\"form-check-label\"><input id=\"bg-color\" type=\"radio\" class=\"form-check-input\" value=\"color\" name=\"bg-type\" >Color <i class=\"input-helper\"></i></label>\n                      </div>\n                      <div class=\"form-check\">\n                        <label class=\"form-check-label\"><input id=\"bg-image\" type=\"radio\" class=\"form-check-input\" value=\"image\" name=\"bg-type\">Image <i class=\"input-helper\"></i></label>\n                      </div>\n                      <div class=\"form-check\">\n                        <label class=\"form-check-label\"><input id=\"bg-gradient\" type=\"radio\" class=\"form-check-input\" value=\"gradient\" name=\"bg-type\">Gradient <i class=\"input-helper\"></i></label>\n                      </div>\n                      <div class=\"form-check\">\n                        <label class=\"form-check-label\"><input id=\"bg-video\" type=\"radio\" class=\"form-check-input\" value=\"video\" name=\"bg-type\">Video <i class=\"input-helper\"></i></label>\n                      </div>\n                      <p class=\"form-text mt-2\"></p>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"col-md-6\"> \n                  <div class=\"form-group row\">\n                    <label class=\"col-sm-12 col-form-label\">Result</label>\n                    <div class=\"col-sm-12\">\n                      <div style=\"\n                          width: 250px;\n                          height: 140px;\n                          border: 1px solid #ccc;\n                          border-radius: 20px;\n                          background: beige;\n                          background-image: linear-gradient(140deg, indigo,violet);\n                      \">jnj</div>\n                      <p class=\"form-text mt-2\"></p>\n                    </div>\n                  </div>\n                </div> -->\n\n              </div>`;\n            }\n  \n            Controls.renderSettings(settingsCache, section);\n            \n          break;\n          // duplicate layout\n          case 'copy': \n    \n            // copy data\n            _this.page.sections.push(_this.page.sections[section]);\n    \n            // reassign listeners\n            _this.sectionListeners(\".acc2\");\n    \n            // notify frontend\n            _this.obj.action = 'section-copy';\n            _this.cb.call({action:'section-copy'});\n          \n            toast(__html('section copied'));\n          break;\n          // remove layout\n          case 'remove': \n    \n            if(!confirm('Remove this section?')) return;\n    \n            _this.page.sections.splice(section, 1); \n    \n            // notify frontend\n            _this.obj.action = 'section-remove';\n            _this.cb.call({action:'section-remove'});\n    \n            toast(__html('section removed'));\n          break;\n        }\n      })\n    });\n\n    // page settings liteners\n    let fontr = new XMLHttpRequest();\n    fontr.onreadystatechange = function() {\n    \n      if (this.readyState == 4 && this.status == 200){\n\n        try{\n        \n          let js = JSON.parse(this.responseText);\n          let flist = ''; for(let f in js.items){ flist += '<option value=\"'+js.items[f].family+'\">'+js.items[f].family+'</option>'; }\n\n          document.querySelector(\"#font_heading\").innerHTML = flist;\n          document.querySelector(\"#font_body\").innerHTML = flist;\n\n          let value = \"\";\n          if(document.querySelector('#font_heading [value=\"'+_this.page.typography.heading.font.value+'\"]')) document.querySelector('#font_heading [value=\"'+_this.page.typography.heading.font.value+'\"]').selected = true;\n          if(document.querySelector('#font_body [value=\"'+_this.page.typography.body.font.value+'\"]')) document.querySelector('#font_body [value=\"'+_this.page.typography.body.font.value+'\"]').selected = true; \n          if(document.querySelector('#font_heading_type [value=\"'+_this.page.typography.heading.type.value+'\"]')) document.querySelector('#font_heading_type [value=\"'+_this.page.typography.heading.type.value+'\"]').selected = true;\n          if(document.querySelector('#font_body_type [value=\"'+_this.page.typography.body.type.value+'\"]')) document.querySelector('#font_body_type [value=\"'+_this.page.typography.body.type.value+'\"]').selected = true; \n          if(document.querySelector('#font_heading_weight [value=\"'+_this.page.typography.heading.weight.value+'\"]')) document.querySelector('#font_heading_weight [value=\"'+_this.page.typography.heading.weight.value+'\"]').selected = true;\n          if(document.querySelector('#font_body_weight [value=\"'+_this.page.typography.body.weight.value+'\"]')) document.querySelector('#font_body_weight [value=\"'+_this.page.typography.body.weight.value+'\"]').selected = true; \n          document.querySelector('#palette').innerHTML = _this.page.palette.map(palette => {\n\n            return `<li> <input type=\"color\" title=\"${ palette.title }\" class=\"border border-secondary form-control form-control-color palette-color-control\" data-key=\"baseColorA\" value=\"${ palette.color }\" style=\"width:40px;background-color:${ palette.color }\" title=\"Choose your base color\"> </li>`\n          \n          }).join('');\n\n          onChange('#font_heading', e => {\n\n            _this.page.typography.heading.font.value = e.currentTarget.value;  _this.cb.call({action:'edit'});\n          });\n\n          onChange('#font_body', e => {\n\n            _this.page.typography.body.font.value = e.currentTarget.value; _this.cb.call({action:'edit'});\n          });\n\n          onChange('#font_heading_type', e => {\n\n            _this.page.typography.heading.type.value = e.currentTarget.value; _this.cb.call({action:'edit'});\n          });\n\n          onChange('#font_body_type', e => {\n\n            _this.page.typography.body.type.value = e.currentTarget.value;  _this.cb.call({action:'edit'});\n          });\n\n          onChange('#font_heading_weight', e => {\n\n            _this.page.typography.heading.weight.value = e.currentTarget.value;  _this.cb.call({action:'edit'});\n          });\n\n          onChange('#font_body_weight', e => {\n\n            _this.page.typography.body.weight.value = e.currentTarget.value;  _this.cb.call({action:'edit'});\n          });\n\n          onChange('#ptitle', e => {\n\n            _this.page.title = e.currentTarget.value;  _this.cb.call({action:'edit'});\n          });\n\n          onChange('#pslug', e => {\n\n            e.currentTarget.value = slugify(e.currentTarget.value);\n            _this.page.slug = e.currentTarget.value; _this.cb.call({action:'edit'});\n          });\n\n          onChange('#pdesc', e => {\n\n            _this.page.description = e.currentTarget.value;  _this.cb.call({action:'edit'});\n          });\n\n          onChange('#home_page', e => {\n\n            _this.page.home_page = e.currentTarget.checked; \n            // if(_this.page.home_page){ document.querySelector('.access-cont').classList.add('d-none'); }else{ document.querySelector('.access-cont').classList.remove('d-none'); }\n            _this.cb.call({action:'edit'});\n          });\n\n          onChange('#password_protect', e => {\n\n            _this.page.password_protect = e.currentTarget.checked;\n            _this.page.password_changes = true;\n            if(_this.page.password_protect){\n\n              _this.page.home_page = false;\n              document.querySelector('.homepage-cont').classList.add('d-none');\n              document.querySelector('.password-cont').classList.remove('d-none'); \n            }else{ \n              document.querySelector('.homepage-cont').classList.remove('d-none'); \n              document.querySelector('.password-cont').classList.add('d-none'); \n            }\n            _this.cb.call({action:'edit'});\n          });\n\n          onChange('#password', e => {\n\n            _this.page.password_changes = true;\n            _this.page.password = e.currentTarget.value;  _this.cb.call({action:'edit'});\n          });\n\n          onChange('.palette-color-control', e => {\n\n            [...document.querySelectorAll('.palette-color-control')].forEach((input, i) => {\n\n              // console.log(i);\n              _this.page.palette[i].color = input.value;\n\n            });\n\n            // console.log(_this.page.palette);\n\n            _this.cb.call({action:'edit'});\n          });\n\n          onChange('#css_rules', e => {\n\n            _this.page.css_rules = e.currentTarget.value;  _this.cb.call({action:'edit'});\n          });\n\n        }catch(e){\n\n          console.log(e);\n        }\n      }\n    };\n\n    fontr.open(\"GET\", \"https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyBwIX97bVWr3-6AIUvGkcNnmFgirefZ6Sw\");\n    fontr.send();\n  },\n\n  /*\n  * Initialize \n  *\n  * @param    {String}    selector  Example: .controls\n  * @param    {String}    js        Example: { \"title\":\"Site title\", \"input\":\"text\", \"val\": \"Website Template\"}\n  * @param    {Function}  cb        callback function\n  * @return \t{HTML} \t    output    HTML element \n  * \n  */\n  initSettings : function(sel, js, cb) {\n\n    let _this = this;\n\n    // cache data locally\n    this.settings = js;\n    this.page = js;\n    // console.log(js);\n\n    // save globally\n    this.cb = cb;\n\n    // no sections founds\n    if(js == undefined) return \"\";\n\n    // output html sections\n    let html = \"\";\n\n    // iterate sections\n    // let i = 0;\n    for(let sec in js){\n\n      let s = js[sec];\n      let i = sec;\n      if(s.hint == undefined) s.hint = '';\n      if(s.title == undefined) s.title = 'Setting Tab';\n\n      html+='\\\n      <div class=\"card border-white shadow-sm lay br\">\\\n        <div class=\"card-header border-white bg-white\" role=\"tab\" id=\"section'+i+'\">\\\n          <h6 class=\"mb-0\">\\\n            <a data-bs-toggle=\"collapse\" href=\"#collapse'+i+'\" data-section=\"'+i+'\" aria-expanded=\"false\" aria-controls=\"collapse'+i+'\" class=\"seco collapsed\">\\\n              '+s.title+'\\\n              <div style=\"font-size:12px;margin-top:4px;color:#666;\">'+s.hint+'</div>\\\n            </a>\\\n          </h6>\\\n        </div>\\\n        <div id=\"collapse'+i+'\" class=\"collapse\" role=\"tabpanel\" aria-labelledby=\"section'+i+'\" data-parent=\"#sections\" style=\"\">\\\n          <div class=\"card-body\">\\\n              <div class=\"controls\" data-section=\"'+i+'\"></div>\\\n          </div>\\\n        </div>\\\n      </div>';\n      // i++; \n    }\n\n    // output render to passed html selector\n    if(document.querySelector(sel)) document.querySelector(sel).innerHTML = html;\n\n    // assign listeners\n    let el = document.querySelectorAll(\".seco\");\n    for (const a of el) {\n      a.addEventListener('click', function(e) {\n\n        _this.initSectionSingle(\"#collapse\"+this.dataset.section+\" .controls\", _this.settings[this.dataset.section].data, _this.cb);\n        return false;\n      })\n    }\n\n    // init section listeners\n    this.sectionListeners(\".acc2\");\n  },\n\n  // render builder settings\n  renderSettings: (html, section) => {\n\n    let modal = document.querySelector(\".modal\");\n    let modalCont = new bootstrap.Modal(modal);\n    \n    modal.querySelector(\".modal-title\").innerHTML = __html('Advanced Settings');\n    modal.querySelector(\".modal-body\").innerHTML = html;\n    modal.querySelector(\".modal-dialog\").style.maxWidth = '700px';\n    modal.querySelector(\".modal-footer\").innerHTML = `\n      <button type=\"button\" class=\"btn btn-primary btn-apply-set\">${ __html('Apply') }</button>\n      <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">${ __html('Cancel') }</button>\n    `;\n\n    modalCont.show();\n\n    // $(\".mloader\").fadeOut(\"fast\");\n    // $(\".modal.show\").find(\".layouts_body\").html(html);\n\n    let c = Controls.page.sections[section].data.c;\n    if(!c) c = {};\n\n    console.log(c.section);\n    \n    // parse sections\n    if(c.section) c.section.split(';').forEach(string => { const [key, value] = string.split(\":\");\n      switch(key){\n        case 'background-color': document.querySelector(\".p-modal #bg-color\").value = value; break;\n        case 'bg-image': document.querySelector(\".p-modal #bg-image\").value = value; break;\n      }\n    });\n\n    // parse container\n    if(c.container) c.container.split(';').forEach(string => { const [key, value] = string.split(\":\");\n      switch(key){\n        case 'max-width': document.querySelector(\".p-modal #max-width\").value = value.match( /\\d+/g ).join(''); break;\n        case 'padding-left': document.querySelector(\".p-modal #side-paddings\").value = value.match( /\\d+/g ).join(''); break;\n      }\n    });\n\n    // parse classes\n    if(c.classes) c.classes.split(' ').forEach(string => { \n\n      switch(string){\n        case \"pd0\": $(\"#pd0\").prop(\"checked\", true); break;\n        case \"pds\": $(\"#pds\").prop(\"checked\", true); break;\n        case \"pdm\": $(\"#pdm\").prop(\"checked\", true); break;\n        case \"pdl\": $(\"#pdl\").prop(\"checked\", true); break;\n        case \"pde\": $(\"#pde\").prop(\"checked\", true); break;\n      }\n    });\n\n\n\n    // console.log('renderSettings');\n\n    Controls.applySettings(section);\n  },\n\n  // layouts setting apply click listener\n  applySettings: (section) => {\n\n    document.querySelector('.btn-apply-set').addEventListener('click', e => {\n\n      e.preventDefault();\n\n      // let section = parseInt($(\".modal.show\").attr(\"data-section\"));\n\n      Controls.page.sections[section].data.c = {};\n      Controls.page.sections[section].data.c.section = \"\";\n      Controls.page.sections[section].data.c.container = \"\";\n      Controls.page.sections[section].data.c.classes = \"\";\n\n      let mwidth = $(\".modal.show\").find(\"#max-width\").val();\n      let spadding = $(\".modal.show\").find(\"#side-paddings\").val();\n      let bgcolor = $(\".modal.show\").find(\"#bg-color\").val();\n      let pdtype = $(\".modal.show\").find('input[name=\"pd-type\"]:checked').val();\n      if(mwidth) Controls.page.sections[section].data.c.container += \"max-width:\"+mwidth+\"px;\";\n      if(spadding) Controls.page.sections[section].data.c.container += \"padding-left:\"+spadding+\"px;padding-right:\"+spadding+\"px;\";\n      if(bgcolor) Controls.page.sections[section].data.c.section += \"background-color:\"+bgcolor+\";\";\n      if(pdtype) Controls.page.sections[section].data.c.classes += pdtype+\" \";\n      \n      // console.log(mwidth);\n      $(\".btn-close\").trigger('click');\n\n      Controls.obj = {action:null};\n\n      // notify frontend\n      Controls.cb.call();\n\n      // console.log(Controls.page.sections[section].data.c);\n    });\n  },\n  /*\n  * Change element position in the array.\n  * Used by move up move down actions\n  * \n  */\n  arrayMove : function(arr, old_index, new_index) {\n\n    var element = arr[old_index];\n    arr.splice(old_index, 1);\n    arr.splice(new_index, 0, element);\n  },\n\n  /*\n  * sectionListeners\n  * \n  */\n  sectionListeners : function(acc_class) {\n\n    let _this = this;\n\n    // copy remove listener\n    let acc = document.querySelectorAll(acc_class);\n    for (const a of acc) {\n      \n      let args = { _this: _this, a: a };\n      if (!a.dataset.lid){\n\n        // assign ids to copy/remove buttons to prevent double assignment\n        a.dataset.lid = _this.makeid(6);\n        // a.addEventListener('click', _this.sectionClickList.bind(args));\n      }\n    }\n  },\n\n  /*\n  * Recursive object search\n  * @param    {String}  path  \n  * @param    {JSON}    obj      \n  * @return \t{JSON} \t  output   \n  * \n  */\n  resolve : function(path, obj) {\n    return path.split('.').reduce(function(prev, curr) {\n        return prev ? prev[curr] : null\n    }, obj || self)\n  }, \n\n  /*\n  * Convert root object to array.\n  * Sort by index\n  *\n  * \"header\": { \"input\": \"richtext\", \"title\": \"Header\", \"value\": \"\", \"index\": 0 } => [{ \"key\": \"header\", \"input\": \"richtext\", \"title\": \"Header\", \"value\": \"\", \"index\": 0 }]\n  * @param    {String}  js      Example: { \"title\":\"Site title\", \"input\":\"text\", \"val\": \"Website Template\"}\n  * @return \t{Array} \toutput  Sorted array with objects\n  * \n  */\n  sortByIndex : function(js) {\n\n    let js_sorted = [];\n\n    Object.keys(js).forEach((key, i) => {\n\n      if(typeof js[key] === 'object' && js[key] !== null){\n\n        if(typeof js[key].index === 'undefined'){ js[key].index = 999999999; console.log(js[key].index); }\n\n        let kv = {};\n        if(Array.isArray(js[key])){\n\n          kv.input = \"list\";\n          kv.data = js[key];\n          kv.key = key;\n          \n        }else{\n          \n          kv = js[key]; \n          kv.key = key;\n        }\n\n        // assign ids\n        if(!kv.id) kv.id = Controls.makeid();\n\n        js_sorted.push(kv);\n      }\n    });\n\n    // sort based on index value\n    js_sorted.sort((a, b) => {\n      return a.index - b.index;\n    });\n\n\n    return js_sorted;\n  },\n\n  /*\n  * Parse main json object of the template \n  * loads dependencies.\n  *\n  * @param    {String}  js      Example: { \"title\":\"Site title\", \"input\":\"text\", \"val\": \"Website Template\"}\n  * @return \t{HTML} \t  output  HTML element \n  * \n  */\n  render : function(js) {\n\n    console.log(js);\n\n    // output HTML\n    let outputF = \"\";\n\n    outputF = Controls.sortByIndex(js).map(jss => { return Controls.controls(jss); }).join(\"\");\n  \n    return outputF;\n  },\n\n\n  actions: function (key){\n      \n    let i = 0;\n    return `\n      <div class=\"row-actions\">\n        <div class=\"dropdown\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" data-acc=\"actions\" data-section-item=\"${key}\" class=\"bi bi-three-dots-vertical text-secondary acc acc2- contect dropdown-toggle po\" id=\"actions-mennu${i}\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\" viewBox=\"0 0 16 16\">\n            <path d=\"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\"/>\n          </svg>\n          <ul class=\"dropdown-menu\" aria-labelledby=\"actions-mennu${i}\">\n            <li class=\"${ i == 0 ? 'd-none' : '' }\">\n              <a class=\"dropdown-item acc-item d-flex justify-content-between align-items-center\" data-acc=\"moveup\" data-section-item=\"${key}\" href=\"#\">\n                <div>${ __html('Move Up') }</div>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-arrow-up\" viewBox=\"0 0 16 16\">\n                  <path fill-rule=\"evenodd\" d=\"M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z\"/>\n                </svg>\n              </a>\n            </li>\n            <li class=\"${ i == 0 ? 'd-none' : '' }\">\n              <a class=\"dropdown-item acc-item d-flex justify-content-between align-items-center\" data-acc=\"movedown\" data-section-item=\"${key}\" href=\"#\">\n                <div>${ __html('Move Down') }</div>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-arrow-down\" viewBox=\"0 0 16 16\">\n                  <path fill-rule=\"evenodd\" d=\"M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z\"/>\n                </svg>\n              </a>\n            </li>\n            <li class=\"d-none\">\n              <a class=\"dropdown-item acc-item d-flex justify-content-between align-items-center\" data-acc=\"copy\" data-section-item=\"${key}\" href=\"#\">\n                <div>${ __html('Duplicate') }</div>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-files\" viewBox=\"0 0 16 16\">\n                  <path d=\"M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z\"/>\n                </svg>\n              </a>\n            </li>\n            <li>\n              <a class=\"dropdown-item acc-item d-flex justify-content-between align-items-center\" data-acc=\"remove\" data-section-item=\"${key}\" href=\"#\">\n                <div>${ __html('Delete') }</div>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-trash3\" viewBox=\"0 0 16 16\">\n                  <path d=\"M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z\"/>\n                </svg>\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n      `;\n  },\n\n  /*\n  * Get through eligible elements of the array\n  *\n  * @param    {String}  js      Example: { \"title\":\"Site title\", \"input\":\"text\", \"val\": \"Website Template\"}\n  * @return \t{HTML} \t  output  HTML element \n  * \n  */\n  keys : [],\n  iterate : function(o, fn) {\n\n    // console.log(this.keys);\n    fn.apply(this, [this.assignIds()]);  \n    for (var i in o) {\n  \n      // console.log(this.keys);\n      // console.log(o[i]);\n      // console.log(o[i] instanceof Array);\n      \n      if (o[i] !== null && typeof(o[i])==\"object\") {\n        this.keys.push(i);\n        this.iterate(o[i], fn);\n      }\n    }\n    this.keys.pop();\n  },\n\n  /*\n  * Get through eligible elements of the array\n  *\n  * @param    {String}  js      Example: { \"title\":\"Site title\", \"input\":\"text\", \"val\": \"Website Template\"}\n  * @return \t{HTML} \t  output  HTML element \n  * \n  */\n  assignIds : function() {\n\n    let _this = this;\n    let k = _this.keys;\n    let obj = {};\n    switch(k.length){\n\n      // can not access array elements programmatically. Making this mess below to assign IDs to each JSON object element\n      case 0: obj = _this.data;  break;\n      case 1: if(_this.data[k[0]].input && _this.data[k[0]].id == undefined){ _this.data[k[0]].id = _this.makeid(); } obj = _this.data[k[0]];  break;\n      case 2: if(_this.data[k[0]][k[1]].input && _this.data[k[0]][k[1]].id == undefined){ _this.data[k[0]][k[1]].id = _this.makeid(); } obj = _this.data[k[0]][k[1]]; break;\n      case 3: if(_this.data[k[0]][k[1]][k[2]].input && _this.data[k[0]][k[1]][k[2]].id == undefined){ _this.data[k[0]][k[1]][k[2]].id = _this.makeid(); } obj = _this.data[k[0]][k[1]][k[2]]; break;\n      case 4: if(_this.data[k[0]][k[1]][k[2]][k[3]].input && _this.data[k[0]][k[1]][k[2]][k[3]].id == undefined){ _this.data[k[0]][k[1]][k[2]][k[3]].id = _this.makeid(); } obj = _this.data[k[0]][k[1]][k[2]][k[3]]; break;\n\n      default: return false;\n    }\n\n    // return _this.controls(k.slice(-1)[0], obj);\n    return _this.controls(k.join(\".\"), obj);\n  },\n\n  /*\n  * Remove object keys with data. Used to sanitize data stracture before duplicate operations  \n  *\n  * @param    {JSON}    obj     Example: { \"title\":\"Site title\", \"input\":\"text\", \"val\": \"Website Template\"}\n  * @param    {Array}   keys    Example: id\n  * @return \t{HTML} \t  output  HTML element \n  * \n  */\n  removeProps : function(obj, keys){\n    let _this = this;\n    if(obj instanceof Array){\n      obj.forEach(function(item){\n        _this.removeProps(item,keys)\n      });\n    }\n    else if(typeof obj === 'object'){\n      Object.getOwnPropertyNames(obj).forEach(function(key){\n        if(keys.indexOf(key) !== -1)delete obj[key];\n        else _this.removeProps(obj[key],keys);\n      });\n    } \n  },\n\n  /*\n  * Update object ids. Used to sanitize data stracture before duplicate operations  \n  *\n  * @param    {JSON}    obj     Example: { \"title\":\"Site title\", \"input\":\"text\", \"val\": \"Website Template\"}\n  * @param    {Array}   soft    if set to true create ids only when they are \n  * @return \t{HTML} \t  output  HTML element \n  * \n  */\n  updateIDs : function(obj){\n    let _this = this;\n    if(obj instanceof Array){\n      obj.forEach(function(item){\n        _this.updateIDs(item)\n      });\n    }else if(typeof obj === 'object'){\n      Object.getOwnPropertyNames(obj).forEach(function(key){\n        // if(['id'].indexOf(key) !== -1) obj[key] = _this.makeid(6);\n        if(key == 'id') obj[key] = _this.makeid();\n        else _this.updateIDs(obj[key]);\n      });\n    } \n  },\n\n  /*\n  * Set updated value to gloval data object\n  *\n  * @param    {String}  js      Example: { \"title\":\"Site title\", \"input\":\"text\", \"val\": \"Website Template\"}\n  * @return \t{HTML} \t  output  HTML element \n  * \n  */\n  setJSV : function(v, k, e) {\n\n    let _this = this;  \n\n    // console.log(\"setJSV \"+k+\" - \"+v);\n\n    // get current section\n    let c = document.querySelector(\"#\"+e.id).closest('.controls')\n    _this.sec = c.dataset.section; \n\n    // assign value to global data object\n    k = k.split('.');\n    switch(k.length){\n\n      case 1: if(_this.data[k[0]]) _this.data[k[0]].value = v;  break;\n      case 2: if(_this.data[k[0]][k[1]]) _this.data[k[0]][k[1]].value = v; break;\n      case 3: if(_this.data[k[0]][k[1]][k[2]]) _this.data[k[0]][k[1]][k[2]].value = v; break;\n\n      default: return false;\n    }\n\n    // notify frontend\n    _this.obj.action = 'edit';\n    _this.cb.call({action:'edit'});\n  },\n\n  /*\n  * Finds closest parent node by selector\n  */\n  findParentNode : function(elm, selector) {\n\n    var all = document.querySelectorAll(selector);\n    var cur = elm.parentNode;\n    while(cur && !collectionHas(all, cur)) { //keep going up until you find a match\n        cur = cur.parentNode; //go up\n    }\n    return cur; //will return null if not found\n  },\n\n  /*\n  * Iterates through list of available controls and \n  * loads dependencies.\n  *\n  * @param    {String}  key     Example: color_1 \n  * @param    {String}  js      Example: { \"title\":\"Site title\", \"input\":\"text\", \"val\": \"Website Template\"}\n  * @return \t{HTML} \t  output  HTML element \n  * \n  */\n  fonts : null,\n  controls : function(js){\n\n    let key = js.key;\n\n    // only parse input controls\n    if(js.input == undefined) return;\n\n    // set defaults\n    js.default = js.default == undefined ? \"\" : js.default;\n    js.value = js.value == undefined ? \"\" : js.value;\n    js.title = js.title == undefined ? \"\" : js.title;\n    js.hint = js.hint == undefined ? \"\" : js.hint;\n\n    let _this = this;\n    let id = js.id;\n    let value = js.value == \"\" ? js.default : js.value;\n    let key_row = key.substr(0, key.lastIndexOf('.'))\n\n    switch(js.input){\n\n      case 'list':\n\n        return js.data.map((lo, ai)=>{\n\n          // console.log(Controls.sortByIndex(lo))\n          let la = Controls.sortByIndex(lo);\n          return `\n            <div class=\"row-cont\" data-key=\"${ attr(key) }\">\n              <div class=\"row-click\">\n                <span>${ html(key + ' ' + (ai + 1)) }</span>\n                ${ Controls.actions(key) }  \n              </div>\n              ${ \n                la.map((lobj, i) => {\n\n                  lobj.key = js.key + '.' + ai + '.' + lobj.key;\n                  lobj.display = 'none';\n                  if(!lobj.id) lobj.id = Controls.makeid();\n                  // console.log(lobj);\n                  return Controls.controls(lobj);\n              \n                }).join('')\n              }\n              ${\n                ai+1 == js.data.length ? `<a class=\"acc-item-add\" href=\"#\">+ ${ attr(key) }</a>` : ``\n              }\n            </div>`;\n\n        }).join('');\n\n      case 'text':\n\n        // listener\n        this.l.text = function(){\n\n          let input = document.querySelectorAll('#collapse'+_this.section+' .controls .text-input');\n          for (const a of input) {\n            a.addEventListener('keyup', function(e) {\n\n              _this.setJSV(this.value, this.dataset.key, this);\n              return false;\n            })\n          }\n        }\n  \n        // html struct\n        return '\\\n          <div class=\"r row\" data-key=\"'+key_row+'\" >\\\n            <div class=\"col-md-12\">\\\n              <div class=\"form-group row\">\\\n                <label class=\"col-sm-6 col-form-label\">'+js.title+'</label>\\\n                <div class=\"col-sm-12\">\\\n                  <input id=\"'+id+'\" type=\"text\" data-key=\"'+key+'\" data-type=\"'+js.input+'\" class=\"text-input form-control inps\" value=\"'+value+'\" name=\"'+id+'\" >\\\n                  <p class=\"form-text mt-2\">'+js.hint+'</p>\\\n                </div>\\\n              </div>\\\n            </div>\\\n          </div>';\n\n      case 'textarea': \n\n        // defaults\n        js.rows = js.rows == undefined ? \"6\" : js.rows;\n\n        // listener\n        this.l.textarea = function(){\n\n          let input = document.querySelectorAll('#collapse'+_this.section+' .controls .textarea-input');\n          for (const a of input) {\n            a.addEventListener('keyup', function(e) {\n\n              _this.setJSV(this.value, this.dataset.key, this);\n              return false;\n            })\n          }\n        }\n\n        // html struct\n        return '\\\n          <div class=\"r row\" data-key=\"'+key_row+'\">\\\n            <div class=\"col-md-12\">\\\n              <div class=\"form-group row\">\\\n                <label class=\"col-sm-6 col-form-label\">'+js.title+'</label>\\\n                <div class=\"col-sm-12\">\\\n                  <textarea id=\"'+id+'\" data-key=\"'+key+'\" data-type=\"'+js.input+'\" class=\"textarea-input form-control inps\" maxlength=\"400\" rows=\"'+js.rows+'\">'+value+'</textarea>\\\n                  <p class=\"form-text mt-2\">'+js.hint+'</p>\\\n                </div>\\\n              </div>\\\n            </div>\\\n          </div>';\n\n      case 'number': \n\n        // listener\n        this.l.number = function(){\n\n          let input = document.querySelectorAll(\".number-input\");\n          for (const a of input) {\n            a.addEventListener('keyup', function(e) {\n\n              _this.setJSV(this.value, this.dataset.key, this);\n              return false;\n            })\n          }\n        }\n\n        return '\\\n          <div class=\"r row\" data-key=\"'+key_row+'\">\\\n            <div class=\"col-md-12\">\\\n              <div class=\"form-group row\">\\\n                <label class=\"col-sm-6 col-form-label\">'+js.title+'</label>\\\n                <div class=\"col-sm-12\">\\\n                  <input id=\"'+id+'\" type=\"number\" data-key=\"'+key+'\" data-type=\"'+js.input+'\" class=\"number-input form-control inps\" value=\"'+value+'\" name=\"'+id+'\" >\\\n                  <p class=\"form-text mt-2\">'+js.hint+'</p>\\\n                </div>\\\n              </div>\\\n            </div>\\\n          </div>';\n\n      case 'range': \n\n        // listener\n        this.l.range = function(){\n\n          // callback after dependencies loaded\n          let rcb = function cbf() {\n            $('#collapse'+_this.section+' .controls .range-input').each( function( i, elem ) {\n\n              // console.log(elem.classList.contains('noUi-target'));\n              if(elem.classList.contains('noUi-target')) return;\n              let _cb = this;\n              let range = noUiSlider.create(elem, {\n                start: [parseInt(elem.dataset.value)],\n                connect: [true, false],\n                tooltips: [true],\n                decimals: false,\n                range: {\n                  'min': [parseInt(elem.dataset.min)],\n                  'max': [parseInt(elem.dataset.max)]\n                },\n                format: {\n                  to: (v) => parseFloat(v).toFixed(0),\n                  from: (v) => parseFloat(v).toFixed(0)\n                },\n                step: 1,\n              }, true);\n              \n              range.on('set.one', function (values, handle) {\n\n                _this.setJSV(values[0], _cb.dataset.key, _cb);\n              });\n              \n              range.on('update', function(values, handle) {\n\n               _cb.parentElement.querySelector(\".range-output\").innerHTML = \" \"+parseInt(values[0]);\n              });\n            });\n          }\n\n          // range ui slider dependencies \n          _this.loadDependencies('nouislider.min.js', rcb);\n          _this.loadDependencies('nouislider.min.css');\n        }\n\n        // set defaults\n        js.min = js.min == undefined ? 0 : js.min;\n        js.max = js.max == undefined ? 100 : js.max;\n        value == \"\" ? (js.min + js.max) / 2 : value;\n\n        return '<div class=\"r row\" data-key=\"'+key_row+'\">\\\n          <div class=\"col-md-12\">\\\n            <div class=\"form-group row\">\\\n              <label class=\"col-sm-6 col-form-label\">'+js.title+'</label>\\\n              <div class=\"col-sm-12\">\\\n                <div id=\"'+id+'\" data-min=\"'+js.min+'\" data-value=\"'+value+'\" data-max=\"'+js.max+'\" data-key=\"'+key+'\" data-type=\"'+js.input+'\" class=\"range-input ul-slider slider-primary\"></div>\\\n                <p class=\"form-text mt-2\">'+js.hint+'<span class=\"range-output\"><span></p>\\\n              </div>\\\n            </div>\\\n          </div>\\\n        </div>';\n\n      case 'radio':\n\n        // listener\n        this.l.radio = function(){\n\n          let input = document.querySelectorAll('#collapse'+_this.section+' .controls .radio-input');\n          for (const a of input) {\n            a.addEventListener('change', function(e) {\n\n              _this.setJSV(this.value, this.dataset.key, this);\n              return false;\n            })\n          }\n        }\n\n        // pre-render radio input list\n        let rl = '';\n        for(let o in js.options){\n\n          // console.log(js);\n          rl += '\\\n          <div class=\"form-check\">\\\n            <label class=\"form-check-label\"><input id=\"'+id+o+'\" data-key=\"'+key+'\" data-type=\"'+js.input+'\" type=\"radio\" class=\"radio-input form-check-input\" '+((value==js.options[o]['key'])?\"checked\":\"\")+' name=\"'+key+'\" value=\"'+js.options[o]['key']+'\">'+js.options[o]['value']+' <i class=\"input-helper\"></i></label>\\\n          </div>';\n        }\n  \n        // html struct\n        return '\\\n          <div class=\"r row\" data-key=\"'+key_row+'\">\\\n            <div class=\"col-md-12\">\\\n              <div class=\"form-group row\">\\\n                <label class=\"col-sm-6 col-form-label\">'+js.title+'</label>\\\n                <div class=\"col-sm-12\">'+rl+'\\\n                  <p class=\"form-text mt-2\">'+js.hint+'</p>\\\n                </div>\\\n              </div>\\\n            </div>\\\n          </div>';\n\n      case 'font':\n\n        // listener\n        this.l.font = function(){\n\n          let input = document.querySelectorAll('#collapse'+_this.section+' .controls .font-input');\n          for (const a of input) {\n            a.addEventListener('change', function(e) {\n\n              _this.setJSV(this.value, this.dataset.key, this);\n              return false;\n            })\n          }\n        }\n\n        if(!_this.fonts){\n          \n          let fontr = new XMLHttpRequest();\n          fontr.onreadystatechange = function() {\n          \n            if (this.readyState == 4 && this.status == 200) {\n\n              try{\n                \n                let js = JSON.parse(this.responseText);\n                // _this.fonts = js.items;\n\n                let flist = ''; for(f in js.items){flist += '<option value=\"'+js.items[f].family+'\">'+js.items[f].family+'</option>';}\n                _this.fonts = flist;\n\n                document.querySelector(\"#\"+id).innerHTML = flist;\n                document.querySelector(\"#\"+id+' [value=\"'+value+'\"]').selected = true; \n\n              }catch(e){\n\n              }\n            }\n          };\n\n          fontr.open(\"GET\", \"https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyBwIX97bVWr3-6AIUvGkcNnmFgirefZ6Sw\");\n          fontr.send();\n        }else{\n\n          setTimeout(function(){\n\n            document.querySelector(\"#\"+id).innerHTML = _this.fonts;\n            document.querySelector(\"#\"+id+' [value=\"'+value+'\"]').selected = true;\n          },50);\n        }\n\n        // html struct\n        return '\\\n          <div class=\"r row\" data-key=\"'+key_row+'\">\\\n            <div class=\"col-md-12\">\\\n              <div class=\"form-group row\">\\\n                <label class=\"col-sm-6 col-form-label\">'+js.title+'</label>\\\n                <div class=\"col-sm-12\">\\\n                  <select id=\"'+id+'\" data-key=\"'+key+'\" data-type=\"'+js.input+'\" class=\"font-input form-control\" >\\\n                    \\\n                  </select>\\\n                  <p class=\"form-text mt-2\">'+js.hint+'</p>\\\n                </div>\\\n              </div>\\\n            </div>\\\n          </div>';\n\n          \n      case 'richtext': \n\n          // listeners\n          this.l.richtext = function(){\n  \n            // console.log(\"pre Quill\");\n\n            // callback after dependencies loaded\n            let cbf = function cbf() {\n\n              $('#collapse'+_this.section+' .controls .richtext-input').each(( i, elem ) => {\n\n                // console.log(\"Quill\");\n                // init rich text input \n                let quill = new Quill(elem, {\n                  modules: { \n                    toolbar: [\n                    ['bold', 'italic', 'strike', 'link'], [{'header': [1, 2, 3, 4, 5, 6, false] }], [{ 'align': [] }], [{ 'color': [] }, { 'background': [] }]]\n                    ,clipboard: {\n                      // matchVisual: false\n                    } \n                  },\n                  theme: 'snow'\n                });\n  \n                quill.on('text-change', function(delta, oldDelta, source) {\n\n                  let _cb = quill.container.parentElement.querySelector('#collapse'+_this.section+' .controls .richtext-input');\n                  \n                  // clean garbage\n                  let text = quill.container.firstChild.innerHTML;\n                  text = text.replace('<p><br></p>','');\n                  text = text.replace('<h1><br></h1>','');\n                  text = text.replace('<h2><br></h2>','');\n                  text = text.replace('<h3><br></h3>','');\n                  text = text.replace('<h4><br></h4>','');\n                \n                  // console.log(_cb.id);\n                  _this.setJSV(text, _cb.dataset.key, _cb);\n                });\n              });\n            }\n  \n            // color picker dependencies \n            _this.loadDependencies('quill.min.js', cbf);\n            _this.loadDependencies('quill.snow.css');\n          }\n        \n          return '\\\n            <div class=\"r row\" data-key=\"'+key_row+'\">\\\n              <div class=\"col-md-12\">\\\n                <div class=\"form-group row\">\\\n                  <label class=\"col-sm-6 col-form-label\">'+js.title+'</label>\\\n                  <div class=\"col-sm-12\">\\\n                    <div class=\"richtext-wrap\">\\\n                      <div id=\"'+id+'\" data-key=\"'+key+'\" data-type=\"'+js.input+'\" name=\"'+id+'_'+key+'\" class=\"richtext-input inps\">'+value+'</div>\\\n                      <p class=\"form-text mt-2\">'+js.hint+'</p>\\\n                    </div>\\\n                  </div>\\\n                </div>\\\n              </div>\\\n            </div>';\n\n      case 'toggle':\n\n            // listener\n            this.l.toggle = function(){\n    \n              let input = document.querySelectorAll('#collapse'+_this.section+' .controls .switch_label');\n              for (const a of input) {\n                a.addEventListener('click', function(e) {\n    \n                  e.preventDefault();\n                  \n                  let inp = document.querySelector(\"#\"+this.dataset.id);\n                  _this.triggerClick(inp);\n                  _this.setJSV(inp.checked, inp.dataset.key, inp);\n                  \n                  return false;\n                })\n              }\n            }\n\n            // html struct\n            return '\\\n              <div class=\"r row\" data-key=\"'+key_row+'\">\\\n                <div class=\"col-md-12\">\\\n                  <div class=\"form-group row\">\\\n                    <label class=\"col-sm-6 col-form-label\">'+js.title+'</label>\\\n                    <div class=\"col-sm-12\">\\\n                      <div class=\"switch\">\\\n                        <input id=\"'+id+'\" data-key=\"'+key+'\" data-type=\"'+js.input+'\" class=\"toggle-input switch_input\" type=\"checkbox\" data-val=\"'+key+'\" value=\"'+value+'\" '+(Boolean(value)==true?'checked':'')+'>\\\n                        <label aria-hidden=\"true\" class=\"switch_label\" data-id=\"'+id+'\" for=\"toggle-input\"></label>\\\n                        <div aria-hidden=\"true\" class=\"switch_marker\"></div>\\\n                      </div>\\\n                      <p class=\"form-text mt-2\">'+js.hint+'</p>\\\n                    </div>\\\n                  </div>\\\n                </div>\\\n              </div>';\n\n      case 'color': \n\n        // listeners\n        this.l.color = function(){\n\n          // callback after dependencies loaded\n          let cb = function cbf() {\n            $('#collapse'+_this.section+' .controls .color-input').each( function( i, elem ) {\n\n              let _cb = this;\n              let hueb = new Huebee( elem, {  } );\n              hueb.on('change', function(color) {\n\n                _this.setJSV(_cb.value, _cb.dataset.key, _cb);\n              }); \n            });\n          }\n\n          // color picker dependencies \n          _this.loadDependencies('huebee.min.js', cb);\n          _this.loadDependencies('huebee.min.css');\n        }\n      \n        return '\\\n          <div class=\"r row\" data-key=\"'+key_row+'\">\\\n            <div class=\"col-md-12\">\\\n              <div class=\"form-group row\">\\\n                <label class=\"col-sm-6 col-form-label\">'+js.title+'</label>\\\n                <div class=\"col-sm-12\">\\\n                  <div class=\"asColorPicker-wrap\">\\\n                    <input type=\"text\" id=\"'+id+'\" data-key=\"'+key+'\" data-type=\"'+js.input+'\" class=\"color-input inps\" name=\"'+id+'_'+key+'\" value=\"'+value+'\" style=\"border:0;\">\\\n                  </div>\\\n                  <p class=\"form-text mt-2\">'+js.hint+'</p>\\\n                </div>\\\n              </div>\\\n            </div>\\\n          </div>';\n          \n      case 'icon':  \n      case 'image': \n\n          js.sizes = js.sizes == undefined ? [\"600\",\"1200x500\"] : js.sizes;\n          let sizestxt = \"\"; js.sizes.forEach(function(entry) { sizestxt+=entry+'|'; }); sizestxt = sizestxt.substr(0, sizestxt.length-1);\n\n          // console.log(sizestxt);\n          // listeners\n          this.l.image = function(){\n\n            // image click listener\n            let ip = document.querySelectorAll('#collapse'+_this.section+' .controls .image-preview');\n            for (const a of ip){\n              a.addEventListener('click', function(e) {\n  \n                // console.log(this.dataset.id);\n\n                let inp = document.querySelector('#collapse'+_this.section+' .controls #u_'+this.dataset.id); //.closest('.controls')\n                _this.triggerClick(inp);\n\n                // _this.setJSV(this.value, this.dataset.key, this);\n                return false;\n              });\n            }\n\n            // image upload callback\n            let iu = function(iid, file){\n\n              let fd = new FormData();\n              let sizes = document.querySelector(\"#\"+iid).dataset.sizes;\n\n              let id = _this.getId();\n\n              // console.log(spaceID());\n\n              fd.append('id', iid);\n              fd.append('sid', spaceID());\n              fd.append('pid', 0);\n              fd.append('key', 'image');\n              fd.append('sizes', sizes);\n              // fd.append('field', file);\n              fd.append('file', file);\n              fd.append('slug', id+'-'+iid);\n              fd.append('token', getCookie('kenzap_token'));\n              \n              // init progress bar \n              document.querySelector(\"#p_\"+iid).style.display = \"block\";\n              document.querySelector(\"#p_\"+iid+\" > div\").style.width = \"0%\";\n\n              // upload to backend\n              $.ajax({\n                xhr: function () {\n                  var xhr = new window.XMLHttpRequest();\n                  xhr.upload.addEventListener(\"progress\", function (evt) {\n                    if (evt.lengthComputable) {\n                        var percentComplete = evt.loaded / evt.total;\n                        \n                        document.querySelector(\"#p_\"+iid+\" > div\").style.width = parseInt(percentComplete * 100)+'%';\n                        if(percentComplete == 1) setTimeout(function(){ document.querySelector(\"#p_\"+iid).style.display = \"none\"; },500);\n                    }\n                  }, false);\n                  xhr.addEventListener(\"progress\", function (evt) {\n                  if (evt.lengthComputable) {\n                      var percentComplete = evt.loaded / evt.total;\n\n                      document.querySelector(\"#p_\"+iid+\" > div\").style.width = parseInt(percentComplete * 100)+'%';\n                      if(percentComplete == 1) setTimeout(function(){ document.querySelector(\"#p_\"+iid).style.display = \"none\"; },500);\n                  }\n                  }, false);\n                  return xhr;\n                },\n                url: window.location.host.indexOf(\"localhost\") == 0 ? 'https://api-v1-dev.kenzap.cloud/upload/' : 'https://api-v1.kenzap.cloud/upload/',\n                type: 'post',\n                data: fd,\n                contentType: false,\n                processData: false,\n                success: function(response){\n          \n                  let js = JSON.parse(response);\n                  // console.log(response);\n                  if(js.success){\n\n                    // update values\n                    let _icb = document.querySelector(\"#\"+iid);\n                    let icbv = js.format == 'svg' ? CDN+'/S'+spaceID()+'/'+id+'-'+iid+'.svg' : CDN+'/S'+spaceID()+'/'+id+'-'+iid+'-'+sizes.split('|')[0]+'.webp';\n\n                    // let icbv = '/images/'+iid+'-'+sizes.split('|')[0]+'.jpeg';\n                    // console.log(iid+\" \"+icbv);\n                    _this.setJSV(icbv, _icb.dataset.key, _icb);\n                  }\n                },\n              });\n            }\n\n            // image preview listener\n            let iup = document.querySelectorAll('#collapse'+_this.section+' .controls .image-upload');\n            for (const a of iup) {\n              a.addEventListener('change', function(e) {\n\n                // console.log(\"image-upload preview\");\n                if (this.files && this.files[0]) {\n            \n                  // if icon only vector is allowed\n                  let fl = this;\n                  let reader = new FileReader();\n                  reader.onload = function(e) {\n                    \n                    let im = document.querySelector(\"#i_\"+fl.dataset.id);\n                    if(im) im.setAttribute(\"src\", e.target.result);\n\n                    // upload image\n                    iu(fl.dataset.id, fl.files[0]);\n                  }\n                  reader.readAsDataURL(fl.files[0]);\n                }\n              });\n            }\n          }\n\n          let src;\n          if(!value.includes(\"static\")){\n            src = ((value.length < 5) ? 'https://kenzap.com/account/images/placeholder.jpg':value)\n          }else{\n            src = value;\n          }\n          src += '?' + _this.page.updated;\n\n          return '\\\n            <div class=\"r row\" data-key=\"'+key_row+'\">\\\n              <div class=\"col-md-12\">\\\n                <div class=\"form-group row\">\\\n                  <div class=\"col-sm-12\">\\\n                    <div>\\\n                      <div class=\"file-search-img image-cont image-preview\" data-id=\"'+id+'\">\\\n                        <img id=\"i_'+id+'\" class=\"image\" data-key=\"'+key+'\" data-type=\"'+js.input+'\" src=\"'+src+'\"/>\\\n                        <div id=\"p_'+id+'\" class=\"progress\">\\\n                          <div class=\"progress-bar bg-primary progress-bar-striped progress-bar-animated\" role=\"progressbar\" style=\"width: 0%\" aria-valuenow=\"0\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\\\n                        </div>\\\n                      </div>\\\n                      <input id=\"u_'+id+'\" data-id='+id+' type=\"file\" name=\"img[]\" data-key=\"'+key+'\" data-type=\"'+js.input+'\" name=\"'+id+'_'+key+'\" class=\"image-upload\"></input>\\\n                      <input id=\"'+id+'\" type=\"hidden\" data-key=\"'+key+'\" data-sizes=\"'+sizestxt+'\" data-type=\"'+js.input+'\" class=\"image-input image-val inps\" value=\"'+js.default+'\"></input>\\\n                      <p class=\"form-text mt-2\">'+js.hint+'</p>\\\n                    </div>\\\n                  </div>\\\n                </div>\\\n              </div>\\\n            </div>';\n\n      case 'csseditor': \n\n          // listeners\n          this.l.csseditor = function(){\n\n            // callback after dependencies loaded\n            let cb = function cbf() {\n              $('#collapse'+_this.section+' .controls .csseditor-input').each( function( i, elem ) {\n\n                let _cb = this;\n                let csseditor = ace.edit(_cb.id);\n                csseditor.setTheme(\"ace/theme/monokai\");\n                csseditor.getSession().setMode(\"ace/mode/css\");\n                csseditor.on('change', function() {\n\n                  _this.setJSV(csseditor.getValue(), _cb.dataset.key, _cb);\n                }); \n              });\n            }\n\n            // color picker dependencies \n            _this.loadDependencies('ace.min.js', cb);\n            _this.loadDependencies('ace.min.css');\n          }\n\n          return '\\\n            <div class=\"r row\" data-key=\"'+key_row+'\">\\\n              <div class=\"col-md-12\">\\\n                <div class=\"form-group row\">\\\n                  <label class=\"col-sm-6 col-form-label\">'+js.title+'</label>\\\n                  <div class=\"col-sm-12\">\\\n                    <div class=\"asColorPicker-wrap\">\\\n                      <textarea id=\"'+id+'\" data-key=\"'+key+'\" data-type=\"'+js.input+'\" class=\"csseditor-input inps w-400\" name=\"'+id+'_'+key+'\">'+value+'</textarea>\\\n                    </div>\\\n                    <p class=\"form-text mt-2\">'+js.hint+'</p>\\\n                  </div>\\\n                </div>\\\n              </div>\\\n            </div>';\n    }\n    return '';\n  },\n\n  /*\n  * Retrieve data. Used by style.js or other scripts\n  *\n  * @param    \n  * @return \t{JSON} \toutput  \n  * \n  */\n  getData : function(){\n\n    return this.data;\n  },\n\n  /*\n  * Retrieve settings data. Used by settings.js or other scripts\n  *\n  * @param    \n  * @return \t{JSON} \toutput  \n  * \n  */\n  getSettings : function(){\n\n    return this.settings;\n  },\n\n  /*\n  * Get site ID\n  *\n  * @param    \n  * @return \t{JSON} \toutput  \n  * \n  */\n  getId : function(){\n\n    let urlParams = new URLSearchParams(window.location.search);\n    let id = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    return id;\n  },\n\n  /*\n  * Generate random id with custom length\n  *\n  * @param    {String}  l       id length\n  * @return \t{String} \toutput  string\n  * \n  */\n  makeid : function(length = 12){\n\n    var result           = '';\n    var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\n    var charactersLength = characters.length;\n    for ( var i = 0; i < length; i++ ) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n  },\n\n  /*\n  * Initiate controls listeners\n  *\n  * @param    \n  * @return \t{String} \toutput  string\n  * \n  */\n  listeners : function(){\n\n    let _this = this;\n\n    // iterate JSON\n    for (let k in this.l) {\n\n      if(typeof this.l[k] === 'function') this.l[k].call();\n    }\n\n    // row click listener\n    let el = document.querySelectorAll('#collapse'+_this.section+' .controls .row-click');\n    for (const a of el){\n      setTimeout(function(){\n\n        a.addEventListener('click', function(e) {\n\n          if(a.dataset.block == \"true\"){ e.preventDefault(); return false; }\n\n          if(!a.dataset.display){ a.dataset.display = \"yes\"; }else{ a.dataset.display = \"\"; }\n          let rows = a.parentNode.querySelectorAll(\".r.row\");\n          for (const row of rows) {\n\n            if(!row.dataset.display){\n              row.style.display = \"flex\";\n              row.dataset.display = \"yes\";\n            }else{\n              row.style.display = \"none\";\n              row.dataset.display = \"\";\n            }\n          }\n          return false;\n        })\n      }, 10);\n    }\n\n    // let rowitem = document.querySelectorAll('#collapse'+_this.section+' .controls .row-cont');\n    [...document.querySelectorAll('#collapse'+_this.section+' .controls .row-cont')].forEach(el => {\n\n        // 3 dots click in array\n        el.querySelector('.row-actions .dropdown').addEventListener('click', e => {\n\n          // console.log('click');\n          e.currentTarget.parentElement.parentElement.dataset.block = \"true\";\n          setTimeout((pel) => { pel.dataset.block = \"\"; }, 100, e.currentTarget.parentElement.parentElement);\n\n          // action click\n          [...e.currentTarget.querySelectorAll('.row-actions .acc-item')].forEach(eli => {\n\n            eli.addEventListener('click', e => {\n\n              switch(e.currentTarget.dataset.acc){\n\n                case 'remove':\n\n                  if(!confirm('Remove?')) return;\n\n                  //let section = e.currentTarget.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.dataset.section;\n                  let section = e.currentTarget.closest(\".controls\").dataset.section;\n                  let keyArr = e.currentTarget.dataset.sectionItem.split(\".\");\n                  _this.page.sections[section].data[keyArr[0]].splice(keyArr[1], 1); \n      \n                  // notify frontend\n                  _this.obj.action = 'section-item-remove';\n                  _this.cb.call({action:'section-item-remove'});\n\n                  _this.initSectionSingle(\"#collapse\"+section+\" .controls\", _this.page.sections[section].data, _this.cb, true);\n\n                break;\n              }\n            });\n          });\n        });\n\n        // add new click\n        [...el.querySelectorAll('.acc-item-add')].forEach(eli => {\n\n          eli.addEventListener('click', e => {\n\n            e.preventDefault();\n            \n            let section = e.currentTarget.parentElement.parentElement.dataset.section;\n\n            let keyArr = e.currentTarget.parentElement.dataset.key.split(\".\");\n\n            // console.log(keyArr[0]);\n            // console.log(_this.page.sections[section].data[keyArr[0]]);\n\n            let obj = JSON.parse(JSON.stringify(_this.page.sections[section].data[keyArr[0]][0]));\n\n            // reset keys\n            Object.keys(obj).forEach(key => {\n\n              delete obj[key].id;\n              delete obj[key].key;\n\n              console.log(obj[key].key + ' ' + obj[key].id)\n            });\n            // delete obj.id;\n            // delete obj.key;\n            // console.log(obj)\n            // add to array\n            _this.page.sections[section].data[keyArr[0]].push(obj);\n\n            _this.initSectionSingle(\"#collapse\"+section+\" .controls\", _this.page.sections[section].data, _this.cb, true);\n\n            toast( __html('Added') );\n          });\n        });\n    });\n  },\n\n  /*\n  * Search for object by id recursively\n  *\n  * @param    \n  * @return \t{Json} \toutput  string\n  * \n  */\n  findNodeById : function(id, object) {\n\n    let value;\n    let e = this;\n    Object.keys(object).some(function(k) {\n\n        if (object[k].id === id) {\n            value = object[k];\n            return true;\n        }\n\n        if (object[k] && typeof object[k] === 'object') {\n            value = e.findNodeById(id, object[k]);\n            return value !== undefined;\n        }\n    });\n    return value;\n  },\n\n  /*\n  * Load additional JS or CSS depencies from sites/js/controls folder\n  *\n  * @param    dep       dependecy. Ex.: hiebee.min.js \n  * @param    cb        function to call after script is loaded (optional)       \n  * @return \t{Boolen} \tresult status \n  * \n  */\n  loadDependencies : function(dep, cb) {\n\n    // dependency already loaded, skip\n    if(document.getElementById(dep)){ if(typeof cb === 'function') cb.call(); return; }\n\n    // detect dependency type\n    let t = dep.split('.').slice(-1)[0];\n    switch(t){\n      case 'js':\n        \n        let js = document.createElement(\"script\");\n        js.setAttribute(\"src\", \"/assets/js/controls/\"+dep);\n        js.id = dep;\n        js.onload = js.onreadystatechange = function() {\n \n          if(!this.readyState || this.readyState == 'complete')\n            if(typeof cb === 'function') cb.call();\n        };\n        document.body.appendChild(js);\n        \n      break;\n      case 'css':\n\n        var head  = document.getElementsByTagName('head')[0];\n        var css  = document.createElement('link');\n        css.id   = dep;\n        css.rel  = 'stylesheet';\n        css.type = 'text/css';\n        css.href = '/assets/js/controls/'+dep;\n        head.appendChild(css);\n\n      break;\n    }\n    \n    return true;\n  },\n\n  /**\n   * Simulate a click event.\n   * @public\n   * @param {Element} elem the element to simulate a click on\n   */\n  triggerClick : function (el) {\n    // Create our event (with options)\n    let evt = new MouseEvent('click', {\n      bubbles: true,\n      cancelable: true,\n      view: window\n    });\n    // If cancelled, don't dispatch our event\n    let canceled = !el.dispatchEvent(evt);\n  }\n}","import { __html, __attr } from '@kenzap/k-cloud';\n\n// html product list loader\nexport const HTMLContent = () => {\n\nreturn `\n  <div class=\"container p-edit\">\n    <div class=\"d-md-flex justify-content-between bd-highlight mb-3\">\n        <nav class=\"bc\" aria-label=\"breadcrumb\"></nav>\n        <div>\n            <a class=\"preview-link nounderline d-md-inline-block d-none me-3\" target=\"_blank\" href=\"#\">${ __html('open page') }<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-arrow-right-short\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z\"/></svg></a>\n            <button class=\"btn btn-primary btn-publish mt-3 mb-1 mt-md-0 mb-md-0\" type=\"button\">${ __html('Save Changes') }</button>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-lg-6 grid-margin grid-margin-lg-0 grid-margin-md-0 stretch-card\">\n            <div class=\"accordion accordion-solid-header sections\" id=\"sections\" role=\"tablist\" style=\"width:100%;\">\n\n                <div class=\"add-card add-layout border-white p-sm-2 anm br mt-3\" data-ext=\"\">\n                    <div class=\"card-body\">\n                        <div class=\"d-flex flex-row justify-content-center\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"90\" height=\"90\" fill=\"currentColor\" style=\"color:#ccc;\" class=\"bi bi-plus-circle justify-content-center p-3\" viewBox=\"0 0 16 16\">\n                            <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"></path>\n                            <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"></path>\n                            </svg>\n                        </div>                  \n                    </div>\n                </div>\n\n            </div>\n        </div>\n        <div class=\"col-lg-6 mt-3 mt-lg-0 grid-margin grid-margin-lg-0 grid-margin-md-0\">\n\n            <div class=\"row\">\n                <div class=\"col-12 grid-margin stretch-card\">\n                \n                    <iframe class=\"preview card border-white shadow-sm br iload\" style=\"width:100%;border:none;border-radius:4px;\" ></iframe>\n\n                    <div class=\"card border-white shadow-sm p-sm-3 d-none\">\n                        <div class=\"card-body\">\n     \n                            <h4 class=\"card-title\" style=\"display:none;\">${ __html('General') }</h4>\n                            <div class=\"landing_status\"></div>\n                            <input type=\"hidden\" class=\"form-control\" id=\"landing-slug\" value=\"\">\n\n                            <h4 id=\"elan\" class=\"card-title mb-4\">${ __html('Status') }</h4>\n                            <div id=\"status-cont\" class=\"mb-3\">\n\n                                <div class=\"col-sm-12\">\n                                    <div class=\"form-check\">\n                                        <label class=\"form-check-label status-publish form-label\">\n                                            <input type=\"radio\" class=\"form-check-input\" name=\"p-status\"\n                                                id=\"p-status1\" value=\"1\">\n                                                ${ __html('Published') }\n                                        </label>\n                                    </div>\n                                </div>\n\n                                <div class=\"col-sm-12\">\n                                    <div class=\"form-check\">\n                                        <label class=\"form-check-label status-draft form-label\">\n                                            <input type=\"radio\" class=\"form-check-input\" name=\"p-status\"  id=\"p-status0\" value=\"0\">\n                                            ${ __html('Draft') }\n                                        </label>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <h4 id=\"elan\" class=\"card-title mb-4\">${ __html('Categories') }</h4>\n                            <div id=\"p-cats\" class=\"simple-tags mb-4\" data-simple-tags=\"\"></div>\n                            <div class=\"clearfix\"> </div>\n\n                            <div class=\"d-grid gap-2\">\n                                <button class=\"btn btn-primary btn-save\" type=\"button\">${ __html('Save') }</button>\n                            </div>\n\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    </div>\n  </div>\n\n  <div class=\"modal p-modal\" tabindex=\"-1\">\n    <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\"></h5>\n                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn btn-primary btn-modal\"></button>\n                <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\"></button>\n            </div>\n        </div>\n    </div>\n  </div>\n\n  <div class=\"position-fixed bottom-0 p-2 m-4 end-0 align-items-center\">\n    <div class=\"toast hide align-items-center text-white bg-dark border-0\" role=\"alert\" aria-live=\"assertive\"\n        aria-atomic=\"true\" data-bs-delay=\"3000\">\n        <div class=\"d-flex\">\n            <div class=\"toast-body\"></div>\n            <button type=\"button\" class=\"btn-close btn-close-white me-2 m-auto\" data-bs-dismiss=\"toast\" aria-label=\"Close\"></button>\n        </div>\n    </div>\n  </div>\n  `;\n}","import { H, __html, __attr, showLoader, hideLoader, initHeader, initBreadcrumbs, parseApiError, getCookie, onClick, onChange, onKeyUp, simulateClick, spaceID, toast, link, slugify } from '@kenzap/k-cloud';\nimport { getParam, makeNumber, priceFormat, onlyNumbers, loadAddon, initFooter, makeid } from \"../_/_helpers.js\"\nimport { Controls } from \"../_/_controls-v3.js\"\nimport { simpleTags } from \"../_/_ui.js\"\nimport { HTMLContent } from \"../_/_cnt_page_edit.js\"\n\n/**\n * Main product listing page of the dashboard.\n * Loads HTMLContent from _cnt_product_list.js file.\n * Renders product list in a dynamic table.\n * \n * @version 1.0\n */\nclass Edit {\n\n    // construct class\n    constructor(){\n        \n        this.state = {\n            ajaxQueue: 0,\n            settings: {}, // where all requested settings are cached\n        };\n    \n        // connect to backend\n        this.getData();\n    }\n\n    /**\n     * Get data from the cloud and authenticate the user.\n     * Load translation strings, product data, settings and basic user info.\n     * Get any additional data by extending the query object.\n     * \n     * @version 1.0\n     * @link https://developer.kenzap.cloud/\n     */\n    getData = () => {\n\n        // block ui during load\n        showLoader();\n\n        let id = getParam('id');\n\n        fetch('https://api-v1.kenzap.cloud/', {\n            method: 'post',\n            headers: H(),\n            body: JSON.stringify({\n                query: {\n                    user: {\n                        type:       'authenticate',\n                        fields:     ['avatar'],\n                        token:      getCookie('kenzap_token')\n                    },\n                    site: {\n                        type:       'find',\n                        key:        'pages-site',\n                        fields:     ['_id', 'id', 'status', 'domain', 'title', 'updated'],\n                        id:         getParam('site'),\n                    },\n                    page: {\n                        type:       'find',\n                        key:        'pages-page',\n                        id:         id,   \n                        fields:     ['_id', 'id', 'img', 'status', 'price', 'discounts', 'page', 'title', 'sdesc', 'cats', 'updated']\n                    },\n                    settings: {\n                        type:       'get',\n                        key:        'pages-settings',\n                        fields:     ['currency', 'currency_symb', 'currency_symb_loc', 'tax_calc', 'tax_auto_rate', 'tax_rate', 'tax_display', 'scripts_product_edit', 'addons'],\n                    },\n                    locale: {\n                        type:       'locale',\n                        source:      ['extension'],\n                        key:         'ecommerce',\n                    }\n                }\n            }) \n        })\n        .then(response => response.json())\n        .then(response => {\n\n            // hide UI loader\n            hideLoader();\n\n            if (!response.success){ parseApiError(response); return; }\n\n            if (response.success){\n\n                this.state.response = response;\n                this.state.settings = response.settings;\n\n                // if(this.state.response)\n                // console.log(response.page.title);\n\n                // init header\n                initHeader(response);\n  \n                // html content \n                document.querySelector('#contents').innerHTML = HTMLContent();\n\n                // bind frontend data\n                this.render(response.page);\n\n                // init page listeners\n                this.initListeners('all');\n\n                // footer note\n                initFooter(this);\n\n                // load addons\n                if(response.settings.addons) if(response.settings.addons.product_edit) response.settings.addons.product_edit.forEach(obj => { loadAddon(obj.src, obj.version); })\n\n            }\n        })\n        .catch(error => { parseApiError(error); });\n    }\n\n    render = (page) => {\n\n        let d = document, self = this;\n\n        // initiate breadcrumbs\n        initBreadcrumbs(\n            [\n                { link: link('https://dashboard.kenzap.cloud'), text: __html('Home') },\n                { link: link('/sites/'), text: __html('Sites') },\n                { link: link('/pages/?id='+getParam('site')), text: __html('Pages') },\n                { text: this.state.response.page.page.title ? this.state.response.page.page.title : __html('Edit') },\n            ]\n        );\n\n        // set defaults\n        Controls.page = page.page == \"\" ? {\n            title: this.state.response.page.title,\n            sections: [], \n            typography: {\n                \"body\": {\n                    \"font\": {\n                        \"hint\": \"\",\n                        \"input\": \"font\",\n                        \"title\": \"Font\",\n                        \"value\": \"Red Hat Mono\",\n                        \"default\": \"\"\n                    },\n                    \"type\": {\n                        \"hint\": \"\",\n                        \"input\": \"text\",\n                        \"title\": \"Type\",\n                        \"value\": \"sans-serif\",\n                        \"default\": \"\"\n                    },\n                    \"weight\": {\n                        \"hint\": \"\",\n                        \"input\": \"text\",\n                        \"title\": \"Weight\",\n                        \"value\": \"400\",\n                        \"default\": \"\"\n                    }\n                },\n                \"hint\": \"Font pairs, typography settings.\",\n                \"title\": \"Fonts\",\n                \"heading\": {\n                    \"font\": {\n                        \"hint\": \"\",\n                        \"input\": \"font\",\n                        \"title\": \"Font\",\n                        \"value\": \"Red Hat Mono\",\n                        \"default\": \"\"\n                    },\n                    \"type\": {\n                        \"hint\": \"\",\n                        \"input\": \"text\",\n                        \"title\": \"Type\",\n                        \"value\": \"monospace\",\n                        \"default\": \"\"\n                    },\n                    \"weight\": {\n                        \"hint\": \"\",\n                        \"input\": \"text\",\n                        \"title\": \"Weight\",\n                        \"value\": \"600\",\n                        \"default\": \"\"\n                    }\n                }\n            }\n        } : page.page;\n\n        // palette defaults\n        if(!Controls.page.palette) Controls.page.palette = [\n            { color: '#111111', name: 'txtColorA', title: __html(\"Primary text color\") },\n            { color: '#818181', name: 'txtColorB', title: __html(\"Secondary text color\") },\n            { color: '#ffffff', name: 'txtColorC', title: __html(\"Inverse text color\") },\n            { color: '#04106B', name: 'linkColorA', title: __html(\"Primary link color\") },\n            { color: '#071881', name: 'linkColorB', title: __html(\"Secondary link color\") },\n            { color: '#1941df', name: 'baseColorA', title: __html(\"Base color A\") },\n            { color: '#48AA27', name: 'baseColorB', title: __html(\"Base color B\") },\n            { color: '#FFBF00', name: 'accColorA', title: __html(\"Accent color A\") },\n            { color: '#FF4635', name: 'accColorB', title: __html(\"Accent color B\") },\n            { color: '#F7F7F7', name: 'grayColorA', title: __html(\"Gray color light\") },\n            { color: '#c0c0c0', name: 'grayColorB', title: __html(\"Gray color normal\") },\n            { color: '#818181', name: 'grayColorC', title: __html(\"Gray color dark\") },\n        ];\n\n        // preview link\n        if(!Controls.page.slug) Controls.page.slug = slugify(Controls.page.title);\n        document.querySelector('.preview-link').setAttribute('href', 'https://'+this.state.response.site.domain+'/'+this.state.response.page.page.slug+'/');\n        Controls.page.slug_old = Controls.page.slug;\n\n        self.editor();\n\n        // salightly delay preview update\n        if(self.state.timeoutIframe1) clearTimeout(self.state.timeoutIframe1);\n        self.state.timeoutIframe1 = setTimeout(e => self.preview(), 500);\n    }\n\n    editor = () => {\n    \n        // initialize sections and load layout editing controls\n        Controls.init(\".sections\", Controls.page, this.controlsUpdates, 'sections');\n    }\n\n    initSections = () => {   \n        \n        // clear any previous sections\n        // document.querySelector('.sections > .card.lay').remove();\n        document.querySelectorAll('.sections > .card.lay').forEach(e => e.remove());\n\n        // initialize sections and load layout editing controls\n        Controls.init(\".sections\", Controls.page, this.controlsUpdates, 'sections');\n    \n        // activate sections drag and drop events\n        // _this.initDragula();\n    }\n\n    controlsUpdates = () => {\n\n        // console.log('controlsUpdates');\n        // console.log(Controls.obj);\n\n        if(Controls.obj){\n\n          let action = Controls.obj.action;\n          this.state.changes = true;\n\n          console.log(action);\n          switch(action){\n\n            case 'section-moveup':  this.initSections(); break;\n            case 'section-movedown': this.initSections(); break;\n            case 'section-copy': this.initSections(); break;\n            case 'section-remove': this.initSections(); break;\n            case 'edit': break;\n            case 'copy': break;\n            case 'remove': break;\n          }\n        }\n\n        this.preview();\n    }\n\n    initListeners = (type = 'partial') => {\n\n        let self = this;\n\n        // listeners that can be initiated only once\n        // if(type == 'all'){\n\n            // product save button\n            onClick('.btn-publish', this.listeners.save);\n            \n            // modal success button\n            onClick('.p-modal .btn-primary', this.listeners.modalSuccessBtn);\n        // }\n\n        // edit variation block\n        // onClick('.edit-block', this.listeners.editBlock);\n\n        // add layout\n        onClick('.add-layout', this.listeners.addLayout);\n\n        // remove variation block\n        onClick('.remove-block', this.listeners.removeBlock);\n\n        // page scroll listener\n        // console.log('adding listeners');\n        // document.querySelector('.preview').style.height = (document.querySelector('body').offsetHeight / 2) + 'px';\n        // console.log((document.querySelector('body').offsetHeight / 2) + 'px');\n        window.addEventListener('scroll', e => {\n\n            if(e.currentTarget.scrollY > 70 && document.querySelector('body').offsetWidth > 991){\n\n                document.querySelector('.preview').style.position = 'fixed';\n                document.querySelector('.preview').style.top = '64px';\n                document.querySelector('.preview').style.width = self.state.iframe_width+'px';\n            }else{\n\n                document.querySelector('.preview').style.position = 'relative';\n                document.querySelector('.preview').style.top = '0';\n                document.querySelector('.preview').style.width = '100%';\n                self.state.iframe_width = document.querySelector('.preview').offsetWidth;\n            }\n            \n            // self.state.iframeScrollY = e.currentTarget.scrollY;\n            // console.log(document.querySelector('body').offsetHeight);\n        });\n    \n\n        // position: fixed;\n        // top: 64px;\n\n        // iframe scrolll listener\n        document.querySelector('.preview').addEventListener('load', e => {\n            e.target.contentWindow.addEventListener('scroll', e => {\n\n                self.state.iframeScrollY = e.currentTarget.scrollY;\n                // console.log(e.currentTarget.scrollY);\n            });\n        });\n    }\n\n    listeners = {\n\n        addLayout: (e) => {\n\n            let modal = document.querySelector(\".modal\");\n            let modalCont = new bootstrap.Modal(modal);\n            modal.querySelector(\".modal-dialog\").style.maxWidth = '700px';\n            modal.querySelector(\".modal-dialog\").style.minHeight = '500px';\n            let CDN2 = 'https://static.kenzap.com';\n            \n            modal.querySelector(\".modal-title\").innerHTML = `<input type=\"text\" class=\"text-input form-control search-layout\" value=\"\" placeholder=\"${ __html('search') }\" >`; // </input>__html('Add layout');\n            modal.querySelector(\".btn-primary\").style.display = 'none';\n            modal.querySelector(\".btn-secondary\").innerHTML = __html('Cancel');\n\n            showLoader();\n\n            let getLayouts = (s) => {\n\n                // do API query\n                fetch('https://api.pages.app.kenzap.cloud/', {\n                    method: 'post',\n                    headers: H(),\n                    body: JSON.stringify({\n                        query: {\n                            layouts: {\n                                type:          'preview_sections',\n                                template:      'page_template',\n                                s:             s\n                            }\n                        }\n                    }) \n                })\n                .then(response => response.json())\n                .then(response => {\n\n                    if(response.success){\n\n                        // console.log(response);\n\n                        Controls.layouts = response.layouts;\n                        let html = '';\n                        html += '<div class=\"row\">';\n                        for (let key in response.layouts) {\n\n                            html += `<div class=\"col-md-6\" style=\"margin:16px 0;\">\n                                        <h4>\n                                            ${ response.layouts[key]['meta']['title'] }\n                                            <div class=\"br-wrapper br-theme-css-stars\"><select id=\"profile-rating\" name=\"rating\" autocomplete=\"off\" style=\"display: none;\"><option value=\"1\">1</option><option value=\"2\">2</option><option value=\"3\">3</option><option value=\"4\">4</option><option value=\"5\">5</option></select><div class=\"br-widget\"><a href=\"#\" data-rating-value=\"1\" data-rating-text=\"1\" class=\"br-selected\"></a><a href=\"#\" data-rating-value=\"2\" data-rating-text=\"2\" class=\"br-selected\"></a><a href=\"#\" data-rating-value=\"3\" data-rating-text=\"3\" class=\"br-selected\"></a><a href=\"#\" data-rating-value=\"4\" data-rating-text=\"4\" class=\"br-selected\"></a><a href=\"#\" data-rating-value=\"5\" data-rating-text=\"5\" class=\"br-selected br-current\"></a></div></div>\n                                        </h4>\n                                        <img alt=\"${ response.layouts[key]['meta']['title'] }\" style=\"max-width:100%;\" src=\"${ CDN2+'/preview/'+response.layouts[key]['template']+'-'+response.layouts[key]['meta']['slug']+'-600.jpeg?'+response.layouts[key]['meta']['updated'] }\" />\n                                        <a class=\"sclick csection\" data-index=\"${ key }\" >${ __html('Choose this section') }</a>\n                                    </div>`;\n                        }\n\n                        if(!response.layouts.length) html += `<div class=\"form-text text-center\" style=\"margin:120px 0;\">${ __html('No layouts found') }</p>`;\n\n                        html += '</div>';                        \n\n                        modal.querySelector(\".modal-body\").innerHTML = html;\n\n                        onClick('.sclick', this.listeners.sectionClick);\n\n                        modalCont.show();\n                    }else{\n\n                        simulateClick( simulateClick(document.querySelector('.modal .btn-close')) );\n                        toast(__html('No layouts found.'));\n                        // parseApiError(response);\n                    }\n\n                    // hide UI loader\n                    hideLoader();\n                })\n                .catch(error => {\n                    console.error('Error:', error);\n                });\n\n            }\n\n            getLayouts('');\n\n            let timeout = \"\";\n            onKeyUp('.search-layout', e => {\n\n                e.preventDefault();\n\n                let s = e.currentTarget.value;\n\n                if(timeout) clearTimeout(timeout);\n\n                timeout = setTimeout((s)=>{\n\n                    getLayouts(s);\n\n                }, 500, s);\n            });\n        },\n\n        sectionClick: (e) => {\n\n            simulateClick(document.querySelector('.modal .btn-close'));\n\n            // console.log(Controls.page);\n   \n            let layout = Controls.layouts[e.currentTarget.dataset.index]['extra'];\n            console.log(layout);\n            layout['js'] = Controls.layouts[e.currentTarget.dataset.index]['js'];\n            layout['css'] = Controls.layouts[e.currentTarget.dataset.index]['css'];\n            layout['meta'] = Controls.layouts[e.currentTarget.dataset.index]['meta'];\n            layout['data']['id'] = makeid(6);\n            \n            if(Controls.page.sections == undefined) Controls.page.sections = [];\n            // console.log(Controls.page);\n            Controls.page.sections.push(layout);\n\n            toast(__html('Layout added'));\n\n            // refresh sections \n            this.initSections();\n\n            // preview page\n            this.preview();\n        },\n\n        editBlock: (e) => {\n\n            e.preventDefault();\n\n            let amb = document.querySelector('.add-mix-block');\n            amb.dataset.action = 'edit';\n            amb.dataset.index = e.currentTarget.dataset.index;\n            setTimeout(() => simulateClick(amb), 10);\n        },\n\n        removeBlock: (e) => {\n\n            e.preventDefault();\n\n            let c = confirm(__html('Remove entire block?'));\n            if(c){ \n                e.currentTarget.parentNode.parentNode.remove();\n             }\n        },\n\n        save: (e) => {\n            \n            e.preventDefault();\n\n            let data = {};\n\n            data['site'] = getParam('site');\n            data['page'] = Controls.page;\n\n            if(!data.page.title) data.page.title = \"Page \" + Math.floor(Math.random() * 100);\n            if(!data.page.slug) data.page.slug = slugify(data.page.title);\n            data.page.sid = spaceID();\n\n            let id = getParam('id');\n            let site = getParam('site');\n\n            // console.log(data);\n\n            showLoader();\n\n            // save data\n            fetch('https://api-v1.kenzap.cloud/', {\n                method: 'post',\n                headers: H(),\n                body: JSON.stringify({\n                    query: {\n                        page: {\n                            type:       'update',\n                            key:        'pages-page',\n                            id:         id,         \n                            sid:        spaceID(),\n                            data:       data\n                        }\n                    }\n                }) \n            })\n            .then(response => response.json())\n            .then(response => {\n\n                if (response.success){\n\n                    // hideLoader();\n\n                    this.getData();\n\n                }else{\n\n                    parseApiError(response);\n                }\n            })\n            .catch(error => { parseApiError(error); });\n\n            // return;\n\n            // publish page\n            fetch('https://api.pages.app.kenzap.cloud/', {\n                method: 'post',\n                headers: H(),\n                body: JSON.stringify({\n                    query: {\n                        page: {\n                            type:       'publish',\n                            html:       this.page,\n                            home:       data.page.home_page,\n                            folder:     data.page.slug,\n                            folder_old: data.page.slug_old,\n                            password:   { protect: data.page.password_protect, password: data.page.password, changes: data.page.password_changes ? true : false },\n                            page_id:    id,         \n                            site_id:    site,         \n                            sid:        spaceID(),\n                            // data:       data\n                        }\n                    }\n                }) \n            })\n            .then(response => response.json())\n            .then(response => {\n\n                if (response.success){\n\n                    toast( __('Changes applied') );\n\n                    // alert(document.querySelector('.p-edit .accordion').offsetHeight );\n                    \n                    // hideLoader();\n                    // toast(__('changes applied'));\n                    // upload desc images\n                    // this.uploadImages();\n                    \n                }else{\n\n                    parseApiError(response);\n                }\n            })\n            .catch(error => { parseApiError(error); }); \n        },\n\n        openImage: (e) => {\n\n            e.preventDefault();\n            simulateClick(document.querySelector(\".aif-\"+e.currentTarget.dataset.index));\n        },\n\n        previewImage: (e) => {\n\n            e.preventDefault();\n\n            let input = e.currentTarget;\n\n            if (input.files && input.files[0]) {\n\n                // check image type\n                if(input.files[0].type != 'image/jpeg' && input.files[0].type != 'image/jpg' && input.files[0].type != 'image/png'){\n\n                    toast( __html(\"Please provide image in JPEG format\") );\n                    return;\n                }\n          \n                // check image size\n                if(input.files[0].size > 5000000){\n\n                    toast( __html(\"Please provide image less than 5 MB in size!\") );\n                    return;\n                }\n\n                let index = input.dataset.index;\n                let reader = new FileReader();\n                reader.onload = function(e) {\n                  \n                    document.querySelector('.images-'+index).setAttribute('src', e.currentTarget.result);\n                }\n                reader.readAsDataURL(input.files[0]);\n\n                e.currentTarget.parentElement.querySelector('.remove').classList.remove(\"hd\");\n            }\n        },\n\n        removeImage: (e) => {\n\n            let index = e.currentTarget.parentElement.dataset.index;\n            document.querySelector('.aif-' + index).value = '';\n            document.querySelector('.images-'+index).setAttribute('src', 'https://account.kenzap.com/images/placeholder.jpg');\n            e.currentTarget.classList.add(\"hd\");\n        },\n\n        modalSuccessBtn: (e) => {\n            \n            this.listeners.modalSuccessBtnFunc(e);\n        },\n\n        modalSuccessBtnFunc: null\n    }\n\n    preview = () => {\n\n        // console.log(\"--------------\");\n        // console.log(Controls.page.sections);\n\n        let self = this;\n\n        if(!Controls.page.sections) return;\n\n        document.querySelector('.preview').style.opacity = '0.01';\n\n        // struct page preview HTML\n        let js = \"\", js_cb = \"\", css = \"\";\n        Controls.page.sections.forEach(section => {\n\n            // console.log(section);\n            if(!section.js) return;\n\n            // console.log(section);\n            js += section.js + \";\";\n            css += section.css + \"\\n\";\n            section.data.sid = spaceID();\n            js_cb += `\n            new ${ section.meta.class }( ${ JSON.stringify(section.data) });\n            `\n        });\n\n        this.page = \n        `<!DOCTYPE html>\n            <html lang=\"en\">\n                <head>\n                    <title>${ Controls.page.title ? Controls.page.title : \"Kenzap Page\" }</title> \n                    <meta name=\"Description\" content=\"${ Controls.page.description ? Controls.page.description : \"Kenzap Cloud Template\" }\" />\n                    <meta charset=\"UTF-8\" />\n                    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n                    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" />\n                    <link href=\"https://fonts.googleapis.com/css?family=${ Controls.page.typography.heading.font.value }:200,400,600|${ Controls.page.typography.body.font.value }:200,400,600\" rel=\"stylesheet\">\n                    <!-- Essential Layout styles Using major third by default https://type-scale.com -->\n                    <style>\n                    :root {\n                        ${ Controls.page.palette.map((palette, i) => {\n\n                            return `--${ palette.name }: ${ palette.color };\\n`\n\n                        }).join(``) }\n                    }\n                    html{font-size:16px; line-height: 1.75; -webkit-text-size-adjust: 100%; }\n                    body{margin: 0; line-height: 1.75; font-weight: ; font-family: ${ Controls.page.typography.body.font.value }; color: var(--txtColorA); }\n                    h1, h2, h3, h4, h5{font-weight: 200; line-height: 1.3; margin: 3rem 0 1.38rem; font-family: ${ Controls.page.typography.heading.font.value }}\n                    h1{font-size: 3.052em;}\n                    h2{font-size: 2.441em;}\n                    h3{font-size: 1.953em;}\n                    h4{font-size: 1.563em;}\n                    h5{font-size: 1.25em;}\n                    p{margin-bottom: 1rem;}\n                    b,strong{font-weight: 600;}\n                    small{font-size: 80%;}\n                    \n                    /* section spacings */\n                    section.pd0{padding-top:0;padding-bottom:0;}\n                    section.pds{padding-top:32px;padding-bottom:32px;}\n                    section.pdm{padding-top:64px;padding-bottom:64px;}\n                    section.pdl{padding-top:128px;padding-bottom:128px;}\n                    section.pde{padding-top:172px;padding-bottom:172px;}\n                    @media screen and (max-width: 500px){ .section.pdl, section.pde{padding-top:64px;padding-bottom:64px;} }\n                    \n                    /* button styles */\n                    .btns,.btnl,.btn{transition:all 0.24s;margin-bottom:1rem;padding: 0.5rem 1.5rem;border: 1px solid var(--baseColorA);text-decoration: none;color: var(--txtColorA);display: inline-block;}\n                    .btns{padding: 0.5rem 0.75rem;font-size: 0.8rem;line-height: 1rem;}\n                    .btnl{padding: 1rem 2rem;font-size: 1.2rem;line-height: 1rem;}\n                    .btns:hover,.btnl:hover,.btn:hover{background-color: var(--baseColorA);color: var(--txtColorC);}\n                    \n                    /* section{padding: 64px 16px;} */\n                    .ql-align-center{text-align:center;}\n                    .ql-align-right{text-align:right;}\n                    .ql-align-left{text-align:left;}\n                    \n                    /* normalize */\n                    section div{box-sizing: border-box;}\n\n                    ${ css }\n\n                    ${ Controls.page.css_rules }\n                    \n                    </style>\n                </head>\n                <body>\n                    <div id=\"content\">\n\n\n                    </div>\n                    <script>${ js }</script>\n                    <script>\n            \n                        document.addEventListener(\"DOMContentLoaded\", () => {\n                                    \n                            ${ js_cb }\n                            \t\n                        });\n            \n                    </script>\n                </body>\n            </html>`;\n\n            document.querySelector('.preview').srcdoc = this.page;\n            document.querySelector('.preview').addEventListener('load', e => {\n            \n                // document.querySelector('.preview').contentWindow.document.body.style.opacity = '0.01';\n                document.querySelector('.preview').style.opacity = '0.01';\n            });\n\n            if(self.state.timeoutIframe2) clearTimeout(self.state.timeoutIframe2);\n            // if(self.state.timeoutIframeScroll) clearTimeout(self.state.timeoutIframeScroll);\n\n            // document.querySelector('.preview').contentWindow.document.body.style.opacity = '0';\n            self.state.timeoutIframe2 = setTimeout(() => {\n\n                if(self.state.iframeScrollY){ document.querySelector('.preview').contentWindow.scrollTo({top: self.state.iframeScrollY, behavior: 'auto'}); }\n\n                self.state.timeoutIframe2 = setTimeout(() => {\n\n                    if(self.state.iframeScrollY){ document.querySelector('.preview').contentWindow.scrollTo({top: self.state.iframeScrollY, behavior: 'auto'}); }\n                    // document.querySelector('.preview').contentWindow.document.body.style.opacity = '1';\n                    document.querySelector('.preview').style.opacity = '1';\n                    // document.querySelector('.preview').style.height = (document.querySelector('body').offsetHeight * 2 / 3) + 'px';\n                    // document.querySelector('.preview').height = document.querySelector('.p-edit .accordion').offsetHeight + 'px';\n                    // document.querySelector('.preview').style.height = document.querySelector('.p-edit .accordion').offsetHeight + 'px';\n\n                    self.state.timeoutIframe2 = setTimeout(() => {\n\n                        if(self.state.iframeScrollY){ document.querySelector('.preview').contentWindow.scrollTo({top: self.state.iframeScrollY, behavior: 'auto'}); }\n                        document.querySelector('.preview').style.opacity = '1';\n                    }, 3000);\n\n                }, 1000);\n\n                // auto resize preview height so it fits the screen height perfectly\n                document.querySelector('.preview').style.height = (window.innerHeight * 2 / 3) + 'px';\n                if(self.state.iframeScrollY){ document.querySelector('.preview').contentWindow.scrollTo({top: self.state.iframeScrollY, behavior: 'auto'}); }\n                \n                // document.querySelector('.preview').contentWindow.document.body.style.opacity = '1';\n            }, 20);\n\n\n            // alert(window.innerHeight);\n            // document.querySelector('.preview').style.height = document.querySelector('.p-edit .accordion').offsetHeight + 'px';\n            // alert(document.querySelector('.preview').height = document.querySelector('.p-edit > .row > .accordion').offsetHeight);\n            // document.querySelector('.preview').height = document.querySelector('.p-edit > .row > .accordion').offsetHeight + 'px';\n    }\n\n    loadImages = (product) => {\n\n        let d = document;\n        let lang = 'en';\n        let offer_id = '0';\n        let id = getParam('id');\n        let sid = spaceID();\n        let t = '';\n        for(let i=0;i<5;i++){\n     \n          let img = (product.img !== undefined && product.img[i] == 'true') ? 'https://preview.kenzap.cloud/S'+spaceID()+'/_site/images/product-'+product.id+'-'+(i+1)+'-100x100.jpeg?'+product.updated:'https://account.kenzap.com/images/placeholder.jpg';\n          t+=`\\\n          <div class=\"p-img-cont float-start\">\\\n            <p data-index=\"${i}\">\\\n              <img class=\"p-img images-${i}\" data-index=\"${i}\" width=\"100\" height=\"100\" src=\"${img}\" />\\\n              <span class=\"remove hd\" title=\"${ __html('Remove') }\">×</span>\\\n            </p>\\\n            <input type=\"file\" name=\"img[]\" data-type=\"search\" data-index=\"${i}\" class=\"file aif-${i} d-none\">\\\n          </div>`;\n        }\n        \n        d.querySelector(\".ic\").innerHTML = t;\n    \n        // new image listener\n        onClick('.p-img-cont img', this.listeners.openImage);\n\n        // new remove listener\n        onClick('.p-img-cont .remove', this.listeners.removeImage);\n\n        // image preview listener\n        onChange('.p-img-cont .file', this.listeners.previewImage);\n    \n        // iterate all images\n        for(let fi=0; fi<5; fi++){\n    \n            // async load image to verify if it exists on CDN \n            let image_url = CDN+'/S'+sid+'/product-'+id+'-'+(parseInt(fi)+1)+'-250.jpeg?'+product.updated;\n            setTimeout(function(img, sel, _fi){\n        \n                let allow = true;\n                if(typeof(product.img)!==\"undefined\"){ if(!product.img[_fi]) allow = false; }\n                if(allow){\n\n                    let i = new Image();\n                    i.onload = function(){\n                        d.querySelector(sel+_fi).setAttribute('src', img);\n                        d.querySelector(sel+_fi).parentElement.querySelector('.remove').classList.remove('hd');\n                    };\n                    i.src=img;\n                }\n            }, 300, image_url, \".images-\", fi );\n        }\n    }\n\n    // general method for image upload\n    uploadImages = () => {\n\n        if( document.querySelector(\".imgupnote\") ) document.querySelector(\".imgupnote\").remove();\n\n        let fi = 0;\n        for( let fileEl of document.querySelectorAll(\".file\") ){\n\n            fi += 1;\n\n            let id = getParam('id');\n            let sid = spaceID();\n\n            let file = fileEl.files[0];\n            if(typeof(file) === \"undefined\") continue;\n\n            // TODO add global sizes setting \n            let fd = new FormData();\n            // let sizes = document.querySelector(\"body\").dataset.sizes;\n            let sizes = '1000|500|250|100x100';\n\n            fd.append('id', id);\n            fd.append('sid', sid);\n            fd.append('pid', id);\n            fd.append('key', 'image');\n            fd.append('sizes', sizes);\n            // fd.append('field', file);\n            fd.append('file', file);\n            fd.append('slug', 'product-'+id+'-'+fi);\n            fd.append('token', getCookie('kenzap_token'));\n\n            // clear input file so that its not updated again\n            file.value = '';\n\n            this.state.ajaxQueue+=1;\n\n            fetch(\"https://api-v1.kenzap.cloud/upload/\",{\n                body: fd,\n                method: \"post\"\n            })\n            .then(response => response.json())\n            .then(response => {\n\n                this.state.ajaxQueue -= 1;\n                if(response.success && this.state.ajaxQueue == 0){\n\n                    toast( __html(\"Product updated\") );\n\n                    // hide UI loader\n                    hideLoader();\n                }\n            });\n        }\n        \n        // image upload notice\n        if(this.state.ajaxQueue == 0){\n\n            toast( __html(\"Product updated\") );\n\n            hideLoader();\n        }\n    }\n\n    laodScript = (script) => {\n\n        // if(tab4Loaded) return;\n        let sjs = document.createElement(\"script\");\n        sjs.setAttribute(\"src\", script+\"?\"+(new Date().getTime()));\n        document.body.appendChild(sjs);\n        // tab4Loaded = true;\n    }\n}\n\nnew Edit();"],"names":["getParam","param","urlParams","URLSearchParams","window","location","search","id","get","loadAddon","dep","version","cb","url","URL","getCookie","pathname","console","log","document","getElementById","call","t","split","slice","js","createElement","setAttribute","onload","onreadystatechange","readyState","body","appendChild","head","getElementsByTagName","css","rel","type","href","makeid","length","result","characters","charactersLength","counter","charAt","Math","floor","random","initFooter","_this","left","__html","right","concat","link","querySelector","innerHTML","EditSettings","page","title","slug","description","password_protect","password","home_page","css_rules","CDN","Controls","data","layouts","sec","settings","l","sel","obj","settingsCache","section","init","mode","initSectionSingle","initSections","initSettings","force","arguments","undefined","html","render","listeners","sections","i","s","template","insertAdjacentHTML","el","querySelectorAll","_iterator","_createForOfIteratorHelper","_step","n","done","a","value","addEventListener","e","dataset","err","f","_toConsumableArray","forEach","preventDefault","currentTarget","acc","arrayMove","parseInt","sectionListeners","action","$","attr","renderSettings","push","toast","confirm","splice","fontr","XMLHttpRequest","status","JSON","parse","responseText","flist","items","family","typography","heading","font","selected","weight","palette","map","color","join","onChange","slugify","checked","password_changes","classList","add","remove","input","open","send","hint","_iterator2","_step2","modal","modalCont","bootstrap","Modal","style","maxWidth","show","c","string","_string$split","_string$split2","_slicedToArray","key","container","_string$split3","_string$split4","match","classes","prop","applySettings","mwidth","find","val","spadding","bgcolor","pdtype","trigger","arr","old_index","new_index","element","acc_class","_iterator3","_step3","args","lid","resolve","path","reduce","prev","curr","self","sortByIndex","js_sorted","Object","keys","_typeof","index","kv","Array","isArray","sort","b","outputF","jss","controls","actions","iterate","o","fn","apply","assignIds","pop","k","removeProps","item","getOwnPropertyNames","indexOf","updateIDs","setJSV","v","closest","findParentNode","elm","selector","all","cur","parentNode","collectionHas","fonts","key_row","substr","lastIndexOf","lo","ai","la","lobj","display","text","_iterator4","_step4","rows","textarea","_iterator5","_step5","number","_iterator6","_step6","range","rcb","cbf","each","elem","contains","_cb","noUiSlider","create","start","connect","tooltips","decimals","min","max","format","to","parseFloat","toFixed","from","step","on","values","handle","parentElement","loadDependencies","radio","_iterator7","_step7","rl","options","_iterator8","_step8","setTimeout","richtext","quill","Quill","modules","toolbar","clipboard","theme","delta","oldDelta","source","firstChild","replace","toggle","_iterator9","_step9","inp","triggerClick","Boolean","hueb","Huebee","sizes","sizestxt","entry","image","ip","_iterator10","_step10","iu","iid","file","fd","FormData","getId","append","spaceID","width","ajax","xhr","upload","evt","lengthComputable","percentComplete","loaded","total","host","contentType","processData","success","response","_icb","icbv","iup","_iterator11","_step11","files","fl","reader","FileReader","im","target","readAsDataURL","src","includes","updated","csseditor","ace","edit","setTheme","getSession","setMode","getValue","getData","getSettings","_iterator12","_step12","_loop","block","_iterator13","_step13","row","pel","eli","keyArr","sectionItem","stringify","findNodeById","object","some","MouseEvent","bubbles","cancelable","view","dispatchEvent","HTMLContent","Edit","_createClass","_classCallCheck","_defineProperty","showLoader","fetch","method","headers","H","query","user","fields","token","site","locale","then","json","hideLoader","parseApiError","state","initHeader","initListeners","addons","product_edit","error","d","initBreadcrumbs","name","domain","slug_old","editor","timeoutIframe1","clearTimeout","preview","controlsUpdates","changes","onClick","save","modalSuccessBtn","addLayout","removeBlock","scrollY","offsetWidth","position","top","iframe_width","contentWindow","iframeScrollY","minHeight","CDN2","getLayouts","sectionClick","simulateClick","timeout","onKeyUp","layout","editBlock","amb","sid","home","folder","folder_old","protect","page_id","site_id","__","openImage","previewImage","size","removeImage","modalSuccessBtnFunc","opacity","js_cb","meta","srcdoc","timeoutIframe2","scrollTo","behavior","height","innerHeight","product","img","fi","image_url","_fi","allow","Image","fileEl","ajaxQueue","script","sjs","Date","getTime"],"mappings":"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AAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG;EACjF,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;EAChF,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG;EACjF,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI;EAClF,EAAE,GAAG,EAAE,IAAI;EACX,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG;EACjF,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;EAChF,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG;EACjF,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG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"}