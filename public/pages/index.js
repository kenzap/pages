!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,i(a.key),a)}}function t(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function a(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){l=!0,r=e},f:function(){try{s||null==a.return||a.return()}finally{if(l)throw r}}}}function i(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const o=(e,t,...n)=>{let a=(e,t)=>(t.forEach(((t,n)=>{e=e.replace("%"+(n+1)+"$",t)})),e);return void 0===window.i18n||void 0===window.i18n.state.locale.values[e]?a(e,n):a(t(window.i18n.state.locale.values[e]),n)},r=e=>0===(e=String(e)).length?"":e.replace(/[&<>'"]/g,(e=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"}[e]))),s=(e,...t)=>{if(0===(e=String(e)).length)return"";return o(e,(e=>e.replace(/[<>'"]/g,(e=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"}[e])))),...t)},l=(e,...t)=>{if(0===(e=String(e)).length)return"";return o(e,(e=>e.replace(/[&<>'"]/g,(e=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"}[e])))),...t)},c=()=>{let e=document.querySelector(".loader");e&&(e.style.display="block")},d=()=>{let e=document.querySelector(".loader");e&&(e.style.display="none")},u=e=>{let t=new URLSearchParams(window.location.search),n=t.get("sid")?t.get("sid"):"",a=-1==e.indexOf("?")?"?sid="+n:"&sid="+n;return e+a},p=()=>{let e=new URLSearchParams(window.location.search);return e.get("sid")?e.get("sid"):""},m=e=>{let t=e+"=",n=decodeURIComponent(document.cookie).split(";");for(let e=0;e<n.length;e++){let a=n[e];for(;" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""},g=()=>{let e=localStorage.hasOwnProperty("header")&&localStorage.hasOwnProperty("header-version")?localStorage.getItem("header-version"):0,t=window.location.hostname+"/"+p()+"/"+m("locale");return t!=m("check")&&(e=0,console.log("refresh")),((e,t,n)=>{let a="";if(n){let e=new Date;e.setTime(e.getTime()+24*n*60*60*1e3),a=";expires="+e.toUTCString()}document.cookie=e+"="+(escape(t)||"")+a+";path=/;domain=.kenzap.cloud"})("check",t,5),e},h=()=>({Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+m("kenzap_api_key"),"Kenzap-Locale":m("locale")?m("locale"):"en","Kenzap-Header":g(),"Kenzap-Token":m("kenzap_token"),"Kenzap-Sid":p()});m("kenzap_api_key"),m("locale")&&m("locale"),g(),m("kenzap_token"),p();const f=e=>{if(console.log(e),isNaN(e.code)){let t=e;try{t=JSON.stringify(t)}catch(e){}let n=new URLSearchParams;return n.append("cmd","report"),n.append("sid",p()),n.append("token",m("kenzap_token")),n.append("data",t),fetch("https://api-v1.kenzap.cloud/error/",{method:"post",headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},body:n}),void alert("Can not connect to Kenzap Cloud")}if(401===e.code){if(-1!=window.location.href.indexOf("localhost"))return void alert(e.reason);location.href="https://auth.kenzap.com/?app=65432108792785&redirect="+encodeURIComponent(window.location.href)}else alert(e.reason)},b=(e,t)=>{if(document.querySelector(e))for(let n of document.querySelectorAll(e))n.removeEventListener("click",t,!0),n.addEventListener("click",t,!0)},v=e=>{if(!document.querySelector(".toast")){let e='\n        <div class="toast-cont position-fixed bottom-0 p-2 m-4 end-0 align-items-center" style="z-index:10000;">\n            <div class="toast hide align-items-center text-white bg-dark border-0" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="3000">\n                <div class="d-flex">\n                    <div class="toast-body"></div>\n                    <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>\n                </div>\n            </div>\n        </div>';document.querySelector("body > div")&&document.querySelector("body > div").insertAdjacentHTML("afterend",e)}let t=new bootstrap.Toast(document.querySelector(".toast"));document.querySelector(".toast .toast-body").innerHTML=e,t.show()};var y,w,S,x=function(e){var t=new URLSearchParams(window.location.search);return t.get(e)?t.get(e):""},k=function(){var e=new URLSearchParams(window.location.search),t=e.get("page")?e.get("page"):1;return parseInt(t)},_=function(e,t,n){if(void 0!==t){var i=t.limit+t.offset;i>t.total_records&&(i=t.total_records),document.querySelector("#listing_info").innerHTML=e("Showing %1$ to %2$ of %3$ entries",1+t.offset,i,t.total_records);var o=Math.ceil(t.total_records/t.limit);document.querySelector("#listing_paginate").style.display=o<2?"none":"block";var r=k(),s='<ul class="pagination d-flex justify-content-end pagination-flat mb-0">';s+='<li class="paginate_button page-item previous" id="listing_previous"><a href="#" aria-controls="order-listing" data-type="prev" data-page="0" tabindex="0" class="page-link"><span aria-hidden="true">&laquo;</span></li>';for(var l=0;l<o;)(++l>=r-3&&l<=r||l<=r+3&&l>=r)&&(s+='<li class="paginate_button page-item '+(r==l?"active":"")+'"><a href="#" aria-controls="order-listing" data-type="page" data-page="'+l+'" tabindex="0" class="page-link">'+l+"</a></li>");s+='<li class="paginate_button page-item next" id="order-listing_next"><a href="#" aria-controls="order-listing" data-type="next" data-page="2" tabindex="0" class="page-link"><span aria-hidden="true">&raquo;</span></a></li>',s+="</ul>",document.querySelector("#listing_paginate").innerHTML=s;var c,d=a(document.querySelectorAll(".page-link"));try{var u=function(){var e=c.value;e.addEventListener("click",(function(t){var a,i,r,s,l,c=parseInt(k()),d=c;switch(e.dataset.type){case"prev":(c-=1)<1&&(c=1);break;case"page":c=e.dataset.page;break;case"next":(c+=1)>o&&(c=o)}if(window.history.replaceState){var u=window.location.search;a="page",i=c,r=u,s=new RegExp("([?;&])"+a+"[^&;]*[;&]?"),u=((l=r.replace(s,"$1").replace(/&$/,"")).length>2?l+"&":"?")+(i?a+"="+i:""),window.history.replaceState("kenzap-cloud",document.title,window.location.pathname+u)}return d!=c&&n(),t.preventDefault(),!1}))};for(d.s();!(c=d.n()).done;)u()}catch(e){d.e(e)}finally{d.f()}}else document.querySelector("#listing_info").innerHTML=e("no records to display")};new(y=function e(){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t(this,"getData",(function(){n.state.firstLoad&&c();var e=document.querySelector(".search-cont input")?document.querySelector(".search-cont input").value:"",t=x("id");fetch("https://api-v1.kenzap.cloud/",{method:"post",headers:h(),body:JSON.stringify({query:{user:{type:"authenticate",fields:["avatar"],token:m("kenzap_token")},locale:{type:"locale",source:["extension"],key:"ecommerce"},settings:{type:"get",key:"pages-settings",fields:["currency","currency_symb","currency_symb_loc","tax_calc","tax_auto_rate","tax_rate","tax_display","fee_calc","fee_percent","fee_display"]},site:{type:"find",key:"pages-site",fields:["_id","id","img","status","domain","title","updated"],id:t},pages:{type:"find",key:"pages-page",fields:["_id","id","status","page","slug","title","updated"],limit:n.state.limit,offset:e.length>0?0:k()*n.state.limit-n.state.limit,search:{field:"title",s:e},term:[{field:"site_id",relation:"=",type:"string",value:t}]}}})}).then((function(e){return e.json()})).then((function(e){var t,a;d(),e.success?(n.state.pages=e.pages,(e=>{if(e.header&&localStorage.setItem("header",e.header),e.cdn&&localStorage.setItem("cdn",e.cdn),!document.querySelector("#k-script")){let e=document.createElement("div");e.innerHTML=localStorage.getItem("header"),e=e.firstChild,document.body.prepend(e),Function(document.querySelector("#k-script").innerHTML).call("test")}e.locale&&window.i18n.init(e.locale)})(e),n.html(),n.render(e),n.initListeners(),n.initPagination(e),t=l("Pages 1.0.5 by %1$Kenzap%2$. ❤️ Licensed %3$GPLv3%4$.",'<a class="text-muted" href="https://kenzap.com/" target="_blank">',"</a>",'<a class="text-muted" href="https://github.com/kenzap/pages" target="_blank">',"</a>"),a=l("%1$Developer mode%2$",'<a class="text-muted" href="'.concat(u("/develop/"),'" target="_self">'),"</a>"),document.querySelector("footer .row").innerHTML='\n    <div class="d-sm-flex justify-content-center justify-content-sm-between">\n        <span class="text-muted text-center text-sm-left d-block d-sm-inline-block">'.concat(t,'</span>\n        <span class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center text-muted">').concat(a,"</span>\n    </div>"),n.state.firstLoad=!1):f(e)})).catch((function(e){f(e)}))})),t(this,"authUser",(function(e){e.user&&e.user.success})),t(this,"html",(function(){n.state.firstLoad&&(document.querySelector("#contents").innerHTML='\n    <div class="container">\n\n        <div class="d-md-flex justify-content-between bd-highlight mb-3">\n            <nav class="bc" aria-label="breadcrumb"></nav>\n            <button class="btn btn-primary btn-add mt-3 mb-1 mt-md-0 mb-md-0" type="button">'.concat(l("Add page"),'</button>\n        </div>\n\n        <div class="row">\n            <div class="col-md-12 grid-margin grid-margin-lg-0 grid-margin-md-0 stretch-card">\n                <div class="card border-white shadow-sm border-0">\n                    <div class="card-body p-0">\n                        <div class="no-footer">\n                            <div class="row">\n                                <div class="col-sm-12">\n                                    <div class="table-responsive">\n                                        <table class="table table-hover table-borderless align-middle table-striped- table-p-list mb-0" style="min-width: 800px;">\n                                            <thead>\n\n                                            </thead>\n                                            <tbody>\n\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="row my-2">\n                                <div class="col-sm-12 col-md-5 d-flex align-items-center">\n                                    <div class="dataTables_info mx-2 text-secondary fw-lighter " id="listing_info"\n                                        role="status" aria-live="polite">&nbsp;</div>\n                                </div>\n                                <div class="col-sm-12 col-md-7">\n                                    <div class="dataTables_paginate paging_simple_numbers m-2" id="listing_paginate">\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n    <div class="modal" tabindex="-1">\n        <div class="modal-dialog">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <h5 class="modal-title"></h5>\n                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n                </div>\n                <div class="modal-body">\n\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-primary btn-modal"></button>\n                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"></button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="position-fixed bottom-0 p-2 m-4 end-0 align-items-center">\n        <div class="toast hide align-items-center text-white bg-dark border-0" role="alert" aria-live="assertive"\n            aria-atomic="true" data-bs-delay="3000">\n            <div class="d-flex">\n                <div class="toast-body"></div>\n                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"\n                    aria-label="Close"></button>\n            </div>\n        </div>\n    </div>\n    \n    '))})),t(this,"render",(function(e){if(n.state.firstLoad&&((e=>{let t='<ol class="breadcrumb mt-2 mb-0">';for(let n of e)void 0===n.link?t+=`<li class="breadcrumb-item">${n.text}</li>`:t+=`<li class="breadcrumb-item"><a href="${n.link}">${n.text}</a></li>`;t+="</ol>",document.querySelector(".bc").innerHTML=t})([{link:u("https://dashboard.kenzap.cloud"),text:l("Home")},{link:u("/sites/"),text:l("Sites")},{text:l("Pages")}]),document.querySelector(".table thead").innerHTML='\n                <tr>\n                    <th>\n                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#212529" class="bi justify-content-end bi-search mb-1 me-2" viewBox="0 0 16 16" >\n                            <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path>\n                        </svg>\n                    </th>\n                    <th>\n                        <div class="search-cont input-group input-group-sm mb-0 justify-content-start">     \n                            <input type="text" placeholder="'.concat(l("Search pages"),'" class="form-control border-top-0 border-start-0 border-end-0 rounded-0" aria-label="').concat(l("Search products"),'" aria-describedby="inputGroup-sizing-sm" style="max-width: 200px;">\n                        </div>\n                        <span>').concat(l("Status"),"</span>\n                    </th>\n                    <th>").concat(l("Last change"),'</th>\n                    <th class="text-end"> </th>\n                </tr>'),x("new")&&n.newPageWelcome()),0!=e.pages.length){(()=>{let e=new URLSearchParams(window.location.search);e.get("sid")&&e.get("sid")})(),n.state.settings=e.settings;var t="https://cdn.kenzap.com/loading.png";document.querySelector(".table tbody").innerHTML=e.pages.map((function(e,n){return'\n                <tr>\n                    <td class="d-flex align-items-center" style="min-width:250px;">\n                        <div >\n                            '.concat(e.page.home_page?'\n                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-house-check me-2" viewBox="0 0 16 16">\n                                    <path d="M7.293 1.5a1 1 0 0 1 1.414 0L11 3.793V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v3.293l2.354 2.353a.5.5 0 0 1-.708.708L8 2.207l-5 5V13.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 2 13.5V8.207l-.646.647a.5.5 0 1 1-.708-.708L7.293 1.5Z"/>\n                                    <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm1.679-4.493-1.335 2.226a.75.75 0 0 1-1.174.144l-.774-.773a.5.5 0 0 1 .708-.707l.547.547 1.17-1.951a.5.5 0 1 1 .858.514Z"/>\n                                </svg>\n                                ':'\n                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-file-earmark me-2" viewBox="0 0 16 16">\n                                    <path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"/>\n                                </svg>\n                                ',' \n                        </div>\n                        <div class="timgc d-none">\n                            <a href="').concat(u("/edit/?id="+e._id+"&site="+x("id")),'"><img src="').concat(t,'" data-srcset="').concat(t,'" class="img-fluid rounded" alt="').concat(s("Product placeholder"),'" srcset="').concat(t,'" ></a>\n                        </div>\n            \n                        <div class="my-1"> \n                            <a class="text-body" href="').concat(u("/edit/?id="+e._id+"&site="+x("id")),'" >').concat(e.page.title?e.page.title:e.title,'<i style="color:#9b9b9b;font-size:15px;margin-left:8px;" title="').concat(s("Edit product"),'" class="mdi mdi-pencil menu-icon edit-page"></i></a>\n                        </div>\n                    </td>\n                    <td>\n                        <span>').concat(function(e,t){switch(t=parseInt(t)){case 0:return'<div class="badge bg-warning text-dark fw-light">'+e("Draft")+"</div>";case 1:return'<div class="badge bg-primary fw-light">'+e("Published")+"</div>";case 3:return'<div class="badge bg-secondary fw-light">'+e("Unpublished")+"</div>";default:return'<div class="badge bg-secondary fw-light">'+e("Drafts")+"</div>"}}(__,(e.status,1)),"</span>\n                    </td>\n                    <td>\n                        <span>").concat((__,a=e.updated,new Date(1e3*parseInt(a)).toLocaleDateString()),'</span>\n                    </td>\n                    <td class="text-end"> \n                        <div class="dropdown applicationsActionsCont">\n                            <svg id="applicationsActions').concat(n,'" data-bs-toggle="dropdown" data-bs-boundary="viewport" aria-expanded="false" xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" class="bi bi-three-dots-vertical dropdown-toggle po" viewBox="0 0 16 16">\n                                <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>\n                            </svg>\n                            <ul class="dropdown-menu" aria-labelledby="applicationsActions').concat(n,'">\n                                <li><a class="dropdown-item po edit-page" href="#" data-id="').concat(r(e._id),'" data-index="').concat(n,'">').concat(l("Edit"),'</a></li>\n                                <li><a class="dropdown-item po duplicate-page" href="#" data-id="').concat(r(e._id),'" data-index="').concat(n,'">').concat(l("Duplicate"),'</a></li>\n                                <li><hr class="dropdown-divider d-none-"></li>\n                                <li><a class="dropdown-item po remove-product" href="#" data-type="remove" data-id="').concat(r(e._id),'" data-index="').concat(n,'">').concat(l("Remove"),"</a></li>\n                            </ul>\n                        </div>\n                    </td>\n                </tr>");var a})).join("")}else document.querySelector(".table tbody").innerHTML='<tr><td colspan="6">'.concat(l("No pages to display."),"</td></tr>")})),t(this,"initListeners",(function(){b(".remove-product",n.listeners.removeProduct),b(".edit-page",n.listeners.editPage),b(".duplicate-page",n.listeners.duplicatePage),b(".table-p-list .bi-search",n.listeners.searchProductsActivate),n.state.firstLoad&&b(".btn-add",n.addPage)})),t(this,"listeners",{editPage:function(e){e.preventDefault(),(e=>{let t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(t)})(e.currentTarget.parentElement.parentElement.parentElement.parentElement.parentElement.querySelector(".timgc a"))},removeProduct:function(e){if(e.preventDefault(),confirm(l("Completely remove this page?"))){var t=n.state.pages.filter((function(t){return t._id==e.currentTarget.dataset.id}))[0];t.slug||(t.slug=((e,t)=>{e=String(e),t=Object(t);var n={delimiter:"-",limit:void 0,lowercase:!0,replacements:{},transliterate:"undefined"==typeof XRegExp};for(var a in n)t.hasOwnProperty(a)||(t[a]=n[a]);var i={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Å":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Å°":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","Å":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","Å±":"u","ý":"y","þ":"th","ÿ":"y","©":"(c)","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Î":"A","Î":"E","Î":"I","Î":"O","Î":"Y","Î":"H","Î":"W","Îª":"I","Î«":"Y","α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","Î¬":"a","Î­":"e","Î¯":"i","Ï":"o","Ï":"y","Î®":"h","Ï":"w","ς":"s","Ï":"i","Î°":"y","Ï":"y","Î":"i","Å":"S","Ä°":"I","Ç":"C","Ü":"U","Ö":"O","Ä":"G","Å":"s","Ä±":"i","ç":"c","ü":"u","ö":"o","Ä":"g","Ð":"A","Ð":"B","Ð":"V","Ð":"G","Ð":"D","Ð":"E","Ð":"Yo","Ð":"Zh","Ð":"Z","Ð":"I","Ð":"J","Ð":"K","Ð":"L","Ð":"M","Ð":"N","Ð":"O","Ð":"P","Ð ":"R","Ð¡":"S","Ð¢":"T","Ð£":"U","Ð¤":"F","Ð¥":"H","Ð¦":"C","Ð§":"Ch","Ð¨":"Sh","Ð©":"Sh","Ðª":"","Ð«":"Y","Ð¬":"","Ð­":"E","Ð®":"Yu","Ð¯":"Ya","Ð°":"a","Ð±":"b","Ð²":"v","Ð³":"g","Ð´":"d","Ðµ":"e","Ñ":"yo","Ð¶":"zh","Ð·":"z","Ð¸":"i","Ð¹":"j","Ðº":"k","Ð»":"l","Ð¼":"m","Ð½":"n","Ð¾":"o","Ð¿":"p","Ñ":"r","Ñ":"s","Ñ":"t","Ñ":"u","Ñ":"f","Ñ":"h","Ñ":"c","Ñ":"ch","Ñ":"sh","Ñ":"sh","Ñ":"","Ñ":"y","Ñ":"","Ñ":"e","Ñ":"yu","Ñ":"ya","Ð":"Ye","Ð":"I","Ð":"Yi","Ò":"G","Ñ":"ye","Ñ":"i","Ñ":"yi","Ò":"g","Ä":"C","Ä":"D","Ä":"E","Å":"N","Å":"R","Š":"S","Å¤":"T","Å®":"U","Å½":"Z","Ä":"c","Ä":"d","Ä":"e","Å":"n","Å":"r","š":"s","Å¥":"t","Å¯":"u","Å¾":"z","Ä":"A","Ä":"C","Ä":"e","Å":"L","Å":"N","Ó":"o","Å":"S","Å¹":"Z","Å»":"Z","Ä":"a","Ä":"c","Ä":"e","Å":"l","Å":"n","ó":"o","Å":"s","Åº":"z","Å¼":"z","Ä":"A","Ä":"C","Ä":"E","Ä¢":"G","Äª":"i","Ä¶":"k","Ä»":"L","Å":"N","Š":"S","Åª":"u","Å½":"Z","Ä":"a","Ä":"c","Ä":"e","Ä£":"g","Ä«":"i","Ä·":"k","Ä¼":"l","Å":"n","š":"s","Å«":"u","Å¾":"z"};for(var a in t.replacements)e=e.replace(RegExp(a,"g"),t.replacements[a]);if(t.transliterate)for(var a in i)e=e.replace(RegExp(a,"g"),i[a]);var o="undefined"==typeof XRegExp?RegExp("[^a-z0-9]+","ig"):XRegExp("[^\\p{L}\\p{N}]+","ig");return e=(e=(e=(e=e.replace(o,t.delimiter)).replace(RegExp("["+t.delimiter+"]{2,}","g"),t.delimiter)).substring(0,t.limit)).replace(RegExp("(^"+t.delimiter+"|"+t.delimiter+"$)","g"),""),t.lowercase?e.toLowerCase():e})(t.title)),c(),fetch("https://api-v1.kenzap.cloud/",{method:"post",headers:h(),body:JSON.stringify({query:{product:{type:"delete",key:"pages-page",id:e.currentTarget.dataset.id}}})}).then((function(e){return e.json()})).then((function(e){e.success?n.getData():f(e)})).catch((function(e){f(e)})),fetch("https://api.pages.app.kenzap.cloud/",{method:"post",headers:h(),body:JSON.stringify({query:{page:{type:"delete-page",id:e.currentTarget.dataset.id,slug:t.slug,sid:p()}}})}).then((function(e){return e.json()})).then((function(e){e.success?(d(),v(l("Page removed"))):f(e)})).catch((function(e){f(e)}))}},duplicatePage:function(e){if(e.preventDefault(),confirm(l("Create a copy of this page?"))){var t=n.state.pages.filter((function(t){return t._id==e.currentTarget.dataset.id}))[0];c(),fetch("https://api.pages.app.kenzap.cloud/",{method:"post",headers:h(),body:JSON.stringify({query:{page:{type:"duplicate-page",id:e.currentTarget.dataset.id,slug:t.slug,sid:p()}}})}).then((function(e){return e.json()})).then((function(e){e.success?(d(),n.getData(),v(l("Page copied"))):f(e)})).catch((function(e){f(e)}))}},searchProductsActivate:function(e){e.preventDefault(),document.querySelector(".table-p-list thead tr th:nth-child(2) span").style.display="none",document.querySelector(".table-p-list thead tr th:nth-child(2) .search-cont").style.display="flex",document.querySelector(".table-p-list thead tr th:nth-child(2) .search-cont input").focus(),((e,t)=>{if(document.querySelector(e))for(let n of document.querySelectorAll(e))n.removeEventListener("keyup",t,!0),n.addEventListener("keyup",t,!0)})(".table-p-list thead tr th:nth-child(2) .search-cont input",n.listeners.searchProducts)},searchProducts:function(e){e.preventDefault(),n.getData()},modalSuccessBtn:function(e){n.listeners.modalSuccessBtnFunc(e)},modalSuccessBtnFunc:null}),t(this,"addPage",(function(e){var t=document.querySelector(".modal"),n=new bootstrap.Modal(t);t.querySelector(".modal-title").innerHTML=l("Add Page"),t.querySelector(".modal-footer").innerHTML='\n            <button type="button" class="btn btn-primary btn-modal">'.concat(l("Add"),'</button>\n            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">').concat(l("Cancel"),"</button>\n        ");var a='\n        <div class="form-cont">\n            <img style="width:100%;max-height:200px;" class="mb-3" src="/assets/img/application-1.svg">\n            <div class="form-group mb-3">\n                <label for="p-title" class="form-label">'.concat(l("Title"),'</label>\n                <input type="text" class="form-control" id="p-title" autocomplete="off" placeholder="" value="').concat("",'">\n                <p class="form-text">').concat(l("You can update page title later."),'</p>\n            </div>\n            <div class="form-group mb-3 d-none">\n                <label for="p-slug" class="form-label">').concat(l("Slug (optional)"),'</label>\n                <input type="text" class="form-control" id="p-slug" autocomplete="off" placeholder="" value="').concat("",'">\n                <p class="form-text">').concat(l("Slug is generated automatically."),"</p>\n            </div>\n        </div>");t.querySelector(".modal-body").innerHTML=a,b(".btn-modal",(function(e){e.preventDefault();var n={};n.title=t.querySelector("#p-title").value.trim(),n.domain=t.querySelector("#p-slug").value.trim(),n.status="1",n.img=[],n.cats=[],n.site_id=x("id"),fetch("https://api-v1.kenzap.cloud/",{method:"post",headers:h(),body:JSON.stringify({query:{product:{type:"create",key:"pages-page",data:n}}})}).then((function(e){return e.json()})).then((function(e){e.success?window.location.href=u("/edit/?id=".concat(e.product.id,"&site=").concat(x("id"))):f(e)})).catch((function(e){f(e)}))})),n.show(),setTimeout((function(){return t.querySelector("#p-title").focus()}),100)})),t(this,"newPageWelcome",(function(){var e=document.querySelector(".modal");n.state.modalCont=new bootstrap.Modal(e),e.querySelector(".modal-dialog").style.maxWidth="600px",e.querySelector(".modal-title").innerHTML=l("Site Created"),e.querySelector(".btn-secondary").innerHTML=l("close"),e.querySelector(".modal-footer").innerHTML='\n            <button type="button" class="btn btn-primary btn-modal btn-help">'.concat(l("Add page"),'</button>\n            <button type="button" class="btn btn-secondary btn-modal" data-bs-dismiss="modal">').concat(l("Close"),"</button>\n        "),e.querySelector(".modal-body").innerHTML='\n\n            <div class="form-cont ge-form">\n                <img style="width:100%;max-height:240px;" class="mb-3" src="/assets/img/welcome.svg">\n                <p class="form-text-">'.concat(l("Your website is created and ready to serve first visitors. Hit on Add page button to create a new page."),"</p>\n            </div>\n        "),b(".btn-help",(function(e){n.state.modalCont.hide(),n.addPage()})),n.state.modalCont.show()})),t(this,"initPagination",(function(e){_(__,e.meta,n.getData)})),this.state={firstLoad:!0,settings:{},limit:10},this.getData()},w&&e(y.prototype,w),S&&e(y,S),Object.defineProperty(y,"prototype",{writable:!1}),y)}();
