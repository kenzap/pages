!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,o(a.key),a)}}function t(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function a(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,c=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){c=!0,r=e},f:function(){try{s||null==a.return||a.return()}finally{if(c)throw r}}}}function o(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const i=(e,t,...n)=>{let a=(e,t)=>(t.forEach(((t,n)=>{e=e.replace("%"+(n+1)+"$",t)})),e);return void 0===window.i18n||void 0===window.i18n.state.locale.values[e]?a(e,n):a(t(window.i18n.state.locale.values[e]),n)},r=e=>0===(e=String(e)).length?"":e.replace(/[&<>'"]/g,(e=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"}[e]))),s=(e,...t)=>{if(0===(e=String(e)).length)return"";return i(e,(e=>e.replace(/[<>'"]/g,(e=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"}[e])))),...t)},c=(e,...t)=>{if(0===(e=String(e)).length)return"";return i(e,(e=>e.replace(/[&<>'"]/g,(e=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"}[e])))),...t)},d=()=>{let e=document.querySelector(".loader");e&&(e.style.display="block")},l=()=>{let e=document.querySelector(".loader");e&&(e.style.display="none")},u=e=>{let t=new URLSearchParams(window.location.search),n=t.get("sid")?t.get("sid"):"",a=-1==e.indexOf("?")?"?sid="+n:"&sid="+n;return e+a},p=()=>{let e=new URLSearchParams(window.location.search);return e.get("sid")?e.get("sid"):""},m=e=>{let t=e+"=",n=decodeURIComponent(document.cookie).split(";");for(let e=0;e<n.length;e++){let a=n[e];for(;" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""},f=()=>{let e=localStorage.hasOwnProperty("header")&&localStorage.hasOwnProperty("header-version")?localStorage.getItem("header-version"):0,t=window.location.hostname+"/"+p()+"/"+m("locale");return t!=m("check")&&(e=0,console.log("refresh")),((e,t,n)=>{let a="";if(n){let e=new Date;e.setTime(e.getTime()+24*n*60*60*1e3),a=";expires="+e.toUTCString()}document.cookie=e+"="+(escape(t)||"")+a+";path=/;domain=.kenzap.cloud"})("check",t,5),e},h=()=>({Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+m("kenzap_api_key"),"Kenzap-Locale":m("locale")?m("locale"):"en","Kenzap-Header":f(),"Kenzap-Token":m("kenzap_token"),"Kenzap-Sid":p()});m("kenzap_api_key"),m("locale")&&m("locale"),f(),m("kenzap_token"),p();const v=e=>{if(console.log(e),isNaN(e.code)){let t=e;try{t=JSON.stringify(t)}catch(e){}let n=new URLSearchParams;return n.append("cmd","report"),n.append("sid",p()),n.append("token",m("kenzap_token")),n.append("data",t),fetch("https://api-v1.kenzap.cloud/error/",{method:"post",headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},body:n}),void alert("Can not connect to Kenzap Cloud")}if(401===e.code){if(-1!=window.location.href.indexOf("localhost"))return void alert(e.reason);location.href="https://auth.kenzap.com/?app=65432108792785&redirect="+encodeURIComponent(window.location.href)}else alert(e.reason)},y=(e,t)=>{if(document.querySelector(e))for(let n of document.querySelectorAll(e))n.removeEventListener("click",t,!0),n.addEventListener("click",t,!0)};var g,b,w,S=function(){var e=new URLSearchParams(window.location.search),t=e.get("page")?e.get("page"):1;return parseInt(t)},k=function(e,t,n){if(void 0!==t){var o=t.limit+t.offset;o>t.total_records&&(o=t.total_records),document.querySelector("#listing_info").innerHTML=e("Showing %1$ to %2$ of %3$ entries",1+t.offset,o,t.total_records);var i=Math.ceil(t.total_records/t.limit);document.querySelector("#listing_paginate").style.display=i<2?"none":"block";var r=S(),s='<ul class="pagination d-flex justify-content-end pagination-flat mb-0">';s+='<li class="paginate_button page-item previous" id="listing_previous"><a href="#" aria-controls="order-listing" data-type="prev" data-page="0" tabindex="0" class="page-link"><span aria-hidden="true">&laquo;</span></li>';for(var c=0;c<i;)(++c>=r-3&&c<=r||c<=r+3&&c>=r)&&(s+='<li class="paginate_button page-item '+(r==c?"active":"")+'"><a href="#" aria-controls="order-listing" data-type="page" data-page="'+c+'" tabindex="0" class="page-link">'+c+"</a></li>");s+='<li class="paginate_button page-item next" id="order-listing_next"><a href="#" aria-controls="order-listing" data-type="next" data-page="2" tabindex="0" class="page-link"><span aria-hidden="true">&raquo;</span></a></li>',s+="</ul>",document.querySelector("#listing_paginate").innerHTML=s;var d,l=a(document.querySelectorAll(".page-link"));try{var u=function(){var e=d.value;e.addEventListener("click",(function(t){var a,o,r,s,c,d=parseInt(S()),l=d;switch(e.dataset.type){case"prev":(d-=1)<1&&(d=1);break;case"page":d=e.dataset.page;break;case"next":(d+=1)>i&&(d=i)}if(window.history.replaceState){var u=window.location.search;a="page",o=d,r=u,s=new RegExp("([?;&])"+a+"[^&;]*[;&]?"),u=((c=r.replace(s,"$1").replace(/&$/,"")).length>2?c+"&":"?")+(o?a+"="+o:""),window.history.replaceState("kenzap-cloud",document.title,window.location.pathname+u)}return l!=d&&n(),t.preventDefault(),!1}))};for(l.s();!(d=l.n()).done;)u()}catch(e){l.e(e)}finally{l.f()}}else document.querySelector("#listing_info").innerHTML=e("no records to display")},x=function(e,t){switch(t=parseInt(t)){case 0:return'<div class="badge bg-warning text-dark fw-light">'+e("Draft")+"</div>";case 1:return'<div class="badge bg-primary fw-light">'+e("Published")+"</div>";case 3:return'<div class="badge bg-secondary fw-light">'+e("Unpublished")+"</div>";default:return'<div class="badge bg-secondary fw-light">'+e("Drafts")+"</div>"}};new(g=function e(){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t(this,"getData",(function(){n.state.firstLoad&&d();var e=document.querySelector(".search-cont input")?document.querySelector(".search-cont input").value:"";fetch("https://api-v1.kenzap.cloud/",{method:"post",headers:h(),body:JSON.stringify({query:{user:{type:"authenticate",fields:["avatar"],token:m("kenzap_token")},locale:{type:"locale",source:["extension"],key:"ecommerce"},settings:{type:"get",key:"sites-settings",fields:["currency","currency_symb","currency_symb_loc","tax_calc","tax_auto_rate","tax_rate","tax_display","fee_calc","fee_percent","fee_display"]},products:{type:"find",key:"pages-site",fields:["_id","id","img","status","domain","desc","title","updated"],limit:n.state.limit,offset:e.length>0?0:S()*n.state.limit-n.state.limit,search:{field:"title",s:e},sortby:{field:"created",order:"DESC"}}}})}).then((function(e){return e.json()})).then((function(e){var t,a;l(),e.success?((e=>{if(e.header&&localStorage.setItem("header",e.header),e.cdn&&localStorage.setItem("cdn",e.cdn),!document.querySelector("#k-script")){let e=document.createElement("div");e.innerHTML=localStorage.getItem("header"),e=e.firstChild,document.body.prepend(e),Function(document.querySelector("#k-script").innerHTML).call("test")}e.locale&&window.i18n.init(e.locale)})(e),n.html(),n.render(e),n.initListeners(),t=c("Pages 1.0.5 by %1$Kenzap%2$. ❤️ Licensed %3$GPLv3%4$.",'<a class="text-muted" href="https://kenzap.com/" target="_blank">',"</a>",'<a class="text-muted" href="https://github.com/kenzap/pages" target="_blank">',"</a>"),a=c("%1$Developer mode%2$",'<a class="text-muted" href="'.concat(u("/develop/"),'" target="_self">'),"</a>"),document.querySelector("footer .row").innerHTML='\n    <div class="d-sm-flex justify-content-center justify-content-sm-between">\n        <span class="text-muted text-center text-sm-left d-block d-sm-inline-block">'.concat(t,'</span>\n        <span class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center text-muted">').concat(a,"</span>\n    </div>"),n.state.firstLoad=!1):v(e)})).catch((function(e){v(e)}))})),t(this,"authUser",(function(e){e.user&&e.user.success})),t(this,"html",(function(){n.state.firstLoad&&(document.querySelector("#contents").innerHTML='\n    <div class="container">\n\n        <div class="d-md-flex justify-content-between bd-highlight mb-3">\n            <nav class="bc" aria-label="breadcrumb"></nav>\n            <button class="btn btn-primary btn-add mt-3 mb-1 mt-md-0 mb-md-0" type="button">'.concat(c("Add site"),'</button>\n        </div>\n\n        <div class="row">\n            <div class="col-md-12 grid-margin grid-margin-lg-0 grid-margin-md-0 stretch-card">\n                <div class="card border-white shadow-sm border-0">\n                    <div class="card-body p-0">\n                        <div class="no-footer">\n                            <div class="row">\n                                <div class="col-sm-12">\n                                    <div class="table-responsive">\n                                        <table class="table table-hover table-borderless align-middle table-striped- table-p-list mb-0" style="min-width: 800px;">\n                                            <thead>\n\n                                            </thead>\n                                            <tbody>\n\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n    <div class="modal" tabindex="-1">\n        <div class="modal-dialog">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <h5 class="modal-title"></h5>\n                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n                </div>\n                <div class="modal-body">\n\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-primary btn-modal"></button>\n                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"></button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="position-fixed bottom-0 p-2 m-4 end-0 align-items-center">\n        <div class="toast hide align-items-center text-white bg-dark border-0" role="alert" aria-live="assertive"\n            aria-atomic="true" data-bs-delay="3000">\n            <div class="d-flex">\n                <div class="toast-body"></div>\n                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"\n                    aria-label="Close"></button>\n            </div>\n        </div>\n    </div>\n    \n    '))})),t(this,"render",(function(e){if(n.state.firstLoad&&(e=>{let t='<ol class="breadcrumb mt-2 mb-0">';for(let n of e)void 0===n.link?t+=`<li class="breadcrumb-item">${n.text}</li>`:t+=`<li class="breadcrumb-item"><a href="${n.link}">${n.text}</a></li>`;t+="</ol>",document.querySelector(".bc").innerHTML=t})([{link:u("https://dashboard.kenzap.cloud"),text:c("Home")},{text:c("Sites")}]),(()=>{let e=new URLSearchParams(window.location.search);e.get("sid")&&e.get("sid")})(),n.state.settings=e.settings,n.state.sites=e.products,console.log(n.state.sites),0!=e.products.length){var t="";for(var a in e.products)void 0===e.products[a].img&&(e.products[a].img=[]),e.products[a].img[0]&&(CDN,e.products[a]._id,e.products[a].updated),e.products[a].status="1",t+='\n                <tr class="fs-5 ">\n                    <td class="destt" style="max-width:250px;min-width:250px;">\n                        <div class="my-1 my-3 ms-2 d-flex align-items-center"> \n                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-house-check me-3" viewBox="0 0 16 16">\n                                <path d="M7.293 1.5a1 1 0 0 1 1.414 0L11 3.793V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v3.293l2.354 2.353a.5.5 0 0 1-.708.708L8 2.207l-5 5V13.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 2 13.5V8.207l-.646.647a.5.5 0 1 1-.708-.708L7.293 1.5Z"/>\n                                <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm1.679-4.493-1.335 2.226a.75.75 0 0 1-1.174.144l-.774-.773a.5.5 0 0 1 .708-.707l.547.547 1.17-1.951a.5.5 0 1 1 .858.514Z"/>\n                            </svg>\n                            <a class="text-body" href="'.concat(u("/pages/?id="+e.products[a]._id),'" >').concat(e.products[a].domain,'<i style="color:#9b9b9b;font-size:15px;margin-left:8px;" title="').concat(s("Edit site"),'" class="mdi mdi-pencil menu-icon edit-site"></i></a>\n                        </div>\n                    </td>\n                    <td>\n                        <span>').concat(x(__,e.products[a].status),'</span>\n                    </td>\n                    <td class="text-end"> \n                        <div class="dropdown applicationsActionsCont">\n                            <svg id="applicationsActions').concat(a,'" data-bs-toggle="dropdown" data-boundary="viewport" aria-expanded="false" xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" class="bi bi-three-dots-vertical dropdown-toggle po" viewBox="0 0 16 16">\n                                <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>\n                            </svg>\n                            <ul class="dropdown-menu" aria-labelledby="applicationsActions').concat(a,'">\n                                <li><a class="dropdown-item po view-pages" href="#" data-id="').concat(r(e.products[a]._id),'" data-index="').concat(a,'">').concat(c("Pages"),'</a></li>\n                                <li><a class="dropdown-item po change-domain" href="#" data-id="').concat(r(e.products[a]._id),'" data-index="').concat(a,'">').concat(c("Domain"),'</a></li>\n                                <li><hr class="dropdown-divider "></li>\n                                <li><a class="dropdown-item po remove-product" href="#" data-type="remove" data-id="').concat(r(e.products[a]._id),'" data-index="').concat(a,'">').concat(c("Remove"),'</a></li>\n                            </ul>\n                        </div>\n                        <a href="#" data-id="').concat(e.products[a]._id,'" class="remove-product text-danger d-none me-2">\n                            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">\n                                <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>\n                                <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>\n                            </svg>\n                        </a>\n                    </td>\n                </tr>');document.querySelector(".table tbody").innerHTML=t}else document.querySelector(".table tbody").innerHTML='<tr><td colspan="6" class="text-center form-text fs-6 p-3">'.concat(c("no sites to display"),"</td></tr>")})),t(this,"initListeners",(function(){y(".remove-product",n.listeners.removeProduct),y(".view-pages",n.listeners.viewPages),y(".change-domain",n.listeners.changeDomain),y(".table-p-list .bi-search",n.listeners.searchProductsActivate),n.state.firstLoad&&(y(".btn-add",n.addSite),y(".btn-modal",n.listeners.modalSuccessBtn))})),t(this,"listeners",{removeProduct:function(e){if(e.preventDefault(),confirm(c("Completely remove this site?"))){var t=n.state.sites.filter((function(t){return t._id==e.currentTarget.dataset.id}))[0];fetch("https://api-v1.kenzap.cloud/",{method:"post",headers:h(),body:JSON.stringify({query:{product:{type:"delete",key:"pages-site",id:e.currentTarget.dataset.id}}})}).then((function(e){return e.json()})).then((function(e){e.success?n.getData():v(e)})).catch((function(e){v(e)})),fetch("https://api.pages.app.kenzap.cloud/",{method:"post",headers:h(),body:JSON.stringify({query:{page:{type:"delete-host",domain:t.domain,id:t._id,sid:p()}}})}).then((function(e){return e.json()})).then((function(e){e.success||v(e)})).catch((function(e){v(e)}))}},viewPages:function(e){e.preventDefault(),(e=>{let t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(t)})(e.currentTarget.parentElement.parentElement.parentElement.parentElement.parentElement.querySelector(".destt a"))},changeDomain:function(e){e.preventDefault();var t=n.state.sites.filter((function(t){return t._id==e.currentTarget.dataset.id}))[0];console.log(t._id);var a=document.querySelector(".modal"),o=new bootstrap.Modal(a);a.querySelector(".modal-title").innerHTML=c("Domain"),a.querySelector(".btn-primary").innerHTML=c("Update"),a.querySelector(".btn-secondary").innerHTML=c("Cancel");var i='\n            <div class="form-cont">\n                <img style="width:100%;max-height:200px;" class="mb-3" src="/assets/img/application-1.svg">\n                <div class="form-group mb-3">\n                    <label for="p-domain" class="form-label">'.concat(c("Domain"),'</label>\n                    <input type="text" class="form-control" id="p-domain" autocomplete="off" placeholder="" value="').concat(t.domain,'">\n                    <div id="domainFeedback" class="invalid-feedback"></div>\n                    <p class="form-text">').concat(c("Please make sure to point provided domain name to the following IP address 128.199.169.41."),"</p>\n                </div>\n            </div>");a.querySelector(".modal-body").innerHTML=i,n.listeners.modalSuccessBtnFunc=function(e){e.preventDefault();var i={};return i.domain=a.querySelector("#p-domain").value.trim().toLowerCase(),document.querySelector("#p-domain").classList.remove("is-invalid"),document.querySelector("#domainFeedback").innerHTML="",-1!=i.domain.indexOf("/")?(document.querySelector("#p-domain").classList.add("is-invalid"),void(document.querySelector("#domainFeedback").innerHTML=c("Remove http:// or https:// or other special characters."))):/^[a-zA-Z0-9][a-zA-Z0-9-_]{0,61}[a-zA-Z0-9]{0,1}\.([a-zA-Z]{1,11}|[a-zA-Z0-9-]{1,30}\.[a-zA-Z]{2,12})$/.test(i.domain)?(d(),fetch("https://api-v1.kenzap.cloud/",{method:"post",headers:h(),body:JSON.stringify({query:{site:{type:"update",key:"pages-site",id:t._id,data:i}}})}).then((function(e){return e.json()})).then((function(e){e.success?(o.hide(),n.getData()):v(e)})).catch((function(e){v(e)})),void fetch("https://api.pages.app.kenzap.cloud/",{method:"post",headers:h(),body:JSON.stringify({query:{page:{type:"domain",domain_from:t.domain,domain_to:i.domain,site_id:t._id,sid:p()}}})}).then((function(e){return e.json()})).then((function(e){e.success?l():v(e)})).catch((function(e){v(e)}))):(document.querySelector("#p-domain").classList.add("is-invalid"),void(document.querySelector("#domainFeedback").innerHTML=c("Domain name is invalid.")))},o.show()},searchProductsActivate:function(e){e.preventDefault(),document.querySelector(".table-p-list thead tr th:nth-child(2) span").style.display="none",document.querySelector(".table-p-list thead tr th:nth-child(2) .search-cont").style.display="flex",document.querySelector(".table-p-list thead tr th:nth-child(2) .search-cont input").focus(),((e,t)=>{if(document.querySelector(e))for(let n of document.querySelectorAll(e))n.removeEventListener("keyup",t,!0),n.addEventListener("keyup",t,!0)})(".table-p-list thead tr th:nth-child(2) .search-cont input",n.listeners.searchProducts)},searchProducts:function(e){e.preventDefault(),n.getData()},modalSuccessBtn:function(e){n.listeners.modalSuccessBtnFunc(e)},modalSuccessBtnFunc:null}),t(this,"addSite",(function(e){var t=document.querySelector(".modal"),a=new bootstrap.Modal(t);t.querySelector(".modal-title").innerHTML=c("Add Site"),t.querySelector(".btn-primary").innerHTML=c("Add"),t.querySelector(".btn-secondary").innerHTML=c("Cancel");var o='\n        <div class="form-cont">\n            <img style="width:100%;max-height:200px;" class="mb-3" src="/assets/img/application-1.svg">\n            <div class="form-group mb-3">\n                <div class="form-check">\n                    <input id="free-domain" class="form-check-input" type="radio" value="free" name="domain_type" checked>\n                    <label class="form-check-label" for="freeDomain">\n                        '.concat(c("Free Kenzap Domain"),'\n                    </label>\n                    <div id="freeDomainFeedback" class="invalid-feedback"></div>\n                    <p class="form-text">').concat(c("Host your pages free of charge under https://%1$.kenzap.site domain name.",p()),'</p>\n                </div>\n                <div class="form-check">\n                    <input id="my-domain" class="form-check-input" type="radio" value="custom" name="domain_type" >\n                    <label class="form-check-label" for="myDomain">\n                        ').concat(c("Custom Domain"),'\n                    </label>\n                    <p class="form-text">').concat(c("Connect your custom registered domain name."),'</p>\n                </div>\n                <div class="c-domain d-none">\n                    <label for="p-domain" class="form-label">').concat(c("Domain name"),'</label>\n                    <input id="p-domain" type="text" class="form-control" autocomplete="off" placeholder="" value="').concat("",'">\n                    <div id="domainFeedback" class="invalid-feedback"></div>\n                    <p class="form-text">').concat(c("Please make sure to point provided domain name to the following IP address 128.199.169.4."),"</p>\n                </div>\n            </div>\n        </div>");t.querySelector(".modal-body").innerHTML=o,((e,t)=>{if(document.querySelector(e))for(let n of document.querySelectorAll(e))n.removeEventListener("change",t,!0),n.addEventListener("change",t,!0)})('[name="domain_type"]',(function(e){"custom"==t.querySelector('[name="domain_type"]:checked').value?t.querySelector(".c-domain").classList.remove("d-none"):t.querySelector(".c-domain").classList.add("d-none")})),n.listeners.modalSuccessBtnFunc=function(e){e.preventDefault();var a={};return a.domain=t.querySelector("#p-domain").value.trim(),"free"==t.querySelector('[name="domain_type"]:checked').value&&(a.domain=p()+".kenzap.site"),a.status="0",a.img=[],a.cats=[],document.querySelector("#p-domain").classList.remove("is-invalid"),document.querySelector("#free-domain").classList.remove("is-invalid"),document.querySelector("#domainFeedback").innerHTML="",document.querySelector("#freeDomainFeedback").innerHTML="",n.state.sites.length>0&&"free"==t.querySelector('[name="domain_type"]:checked').value?(document.querySelector("#free-domain").classList.add("is-invalid"),void(document.querySelector("#freeDomainFeedback").innerHTML=c("Can not add new free site. Consider removing existing sites first."))):-1!=a.domain.indexOf("/")?(document.querySelector("#p-domain").classList.add("is-invalid"),void(document.querySelector("#domainFeedback").innerHTML=c("Remove http:// or https:// or other special characters."))):/^[a-zA-Z0-9][a-zA-Z0-9-_]{0,61}[a-zA-Z0-9]{0,1}\.([a-zA-Z]{1,11}|[a-zA-Z0-9-]{1,30}\.[a-zA-Z]{2,12})$/.test(a.domain)?(d(),void fetch("https://api-v1.kenzap.cloud/",{method:"post",headers:h(),body:JSON.stringify({query:{site:{type:"create",key:"pages-site",data:a}}})}).then((function(e){return e.json()})).then((function(e){e.success?(n.state.response_create=e,fetch("https://api.pages.app.kenzap.cloud/",{method:"post",headers:h(),body:JSON.stringify({query:{page:{type:"domain",domain_from:"",domain_to:a.domain,site_id:n.state.response_create.site.id,sid:p()}}})}).then((function(e){return e.json()})).then((function(e){e.success?(window.location.href=u("/pages/?id=".concat(n.state.response_create.site.id+(localStorage.lastSite?"":"&new=true"))),localStorage.setItem("lastSite","1")):v(e)})).catch((function(e){v(e)}))):v(e)})).catch((function(e){v(e)}))):(document.querySelector("#p-domain").classList.add("is-invalid"),void(document.querySelector("#domainFeedback").innerHTML=c("Domain name is invalid.")))},a.show(),setTimeout((function(){return t.querySelector("#p-domain").focus()}),100)})),t(this,"initPagination",(function(e){k(__,e.meta,n.getData)})),this.state={firstLoad:!0,settings:{},limit:10},this.getData()},b&&e(g.prototype,b),w&&e(g,w),Object.defineProperty(g,"prototype",{writable:!1}),g)}();
