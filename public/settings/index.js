!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,c(a.key),a)}}function t(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,l=function(){};return{s:l,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,s=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){i=!0,c=e},f:function(){try{s||null==n.return||n.return()}finally{if(i)throw c}}}}function c(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const s=(e,...t)=>{let n=(e,t)=>(t.forEach(((t,n)=>{e=e.replace("%"+(n+1)+"$",t)})),e);return void 0===window.i18n||void 0===window.i18n.state.locale.values[e]?n(e,t):n(window.i18n.state.locale.values[e],t)},i=(e,t,...n)=>{let a=(e,t)=>(t.forEach(((t,n)=>{e=e.replace("%"+(n+1)+"$",t)})),e);return void 0===window.i18n||void 0===window.i18n.state.locale.values[e]?a(e,n):a(t(window.i18n.state.locale.values[e]),n)},r=(e,...t)=>{if(0===(e=String(e)).length)return"";return i(e,(e=>e.replace(/[&<>'"]/g,(e=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"}[e])))),...t)},d=e=>{let t=new URLSearchParams(window.location.search),n=t.get("sid")?t.get("sid"):"",a=-1==e.indexOf("?")?"?sid="+n:"&sid="+n;return e+a},m=()=>{let e=new URLSearchParams(window.location.search);return e.get("sid")?e.get("sid"):""},p=e=>{let t=e+"=",n=decodeURIComponent(document.cookie).split(";");for(let e=0;e<n.length;e++){let a=n[e];for(;" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""},u=()=>{let e=localStorage.hasOwnProperty("header")&&localStorage.hasOwnProperty("header-version")?localStorage.getItem("header-version"):0,t=window.location.hostname+"/"+m()+"/"+p("locale");return t!=p("check")&&(e=0,console.log("refresh")),((e,t,n)=>{let a="";if(n){let e=new Date;e.setTime(e.getTime()+24*n*60*60*1e3),a=";expires="+e.toUTCString()}document.cookie=e+"="+(escape(t)||"")+a+";path=/;domain=.kenzap.cloud"})("check",t,5),e},v=()=>({Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+p("kenzap_api_key"),"Kenzap-Locale":p("locale")?p("locale"):"en","Kenzap-Header":u(),"Kenzap-Token":p("kenzap_token"),"Kenzap-Sid":m()}),b={Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+p("kenzap_api_key"),"Kenzap-Locale":p("locale")?p("locale"):"en","Kenzap-Header":u(),"Kenzap-Token":p("kenzap_token"),"Kenzap-Sid":m()},y=e=>{if(console.log(e),isNaN(e.code)){let t=e;try{t=JSON.stringify(t)}catch(e){}let n=new URLSearchParams;return n.append("cmd","report"),n.append("sid",m()),n.append("token",p("kenzap_token")),n.append("data",t),fetch("https://api-v1.kenzap.cloud/error/",{method:"post",headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},body:n}),void alert("Can not connect to Kenzap Cloud")}if(401===e.code){if(-1!=window.location.href.indexOf("localhost"))return void alert(e.reason);location.href="https://auth.kenzap.com/?app=65432108792785&redirect="+encodeURIComponent(window.location.href)}else alert(e.reason)},f=(e,t)=>{if(document.querySelector(e))for(let n of document.querySelectorAll(e))n.removeEventListener("click",t,!0),n.addEventListener("click",t,!0)},h=e=>{let t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(t)},g=e=>{if(!document.querySelector(".toast")){let e='\n        <div class="toast-cont position-fixed bottom-0 p-2 m-4 end-0 align-items-center" style="z-index:10000;">\n            <div class="toast hide align-items-center text-white bg-dark border-0" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="3000">\n                <div class="d-flex">\n                    <div class="toast-body"></div>\n                    <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>\n                </div>\n            </div>\n        </div>';document.querySelector("body > div")&&document.querySelector("body > div").insertAdjacentHTML("afterend",e)}let t=new bootstrap.Toast(document.querySelector(".toast"));document.querySelector(".toast .toast-body").innerHTML=e,t.show()};var w,x,_,S=function(e,t){switch(t=k(t),t=(Math.round(100*parseFloat(t))/100).toFixed(2),e.state.settings.currency_symb_loc){case"left":t=e.state.settings.currency_symb+" "+t;break;case"right":t+=e.state.settings.currency_symb}return t},k=function(e){return e=e||0,e=parseFloat(e),e=Math.round(100*e)/100},L=function(e,t){e.state.playSound.n=0,e.state.playSound.timer&&clearInterval(e.state.playSound.timer),e.state.playSound.allowed&&e.state.playSound.audio.play();try{e.state.playSound.allowed&&((n=navigator.userAgent.toLowerCase()).match(/iphone/i)||n.match(/ipod/i)||n.match(/ipad/i)||n.match(/android/i))&&window.navigator.vibrate(200)}catch(e){}var n;1!=t&&(e.state.playSound.timer=setInterval((function(){e.state.playSound.allowed&&(e.state.playSound.audio.play(),e.state.playSound.n>t&&clearInterval(e.state.playSound.timer),e.state.playSound.n+=1)}),5e3))},D=function(e,t){var n="",a=!1;if(t.forEach((function(t){e.state.playSound.nids.includes(t._id)||(e.state.playSound.nids.push(t._id),a=!0),document.querySelector('#contents .container [data-id="'+t._id+'"]')||(n+='\n\n            <div class="alert alert-'.concat(t.color,' alert-dismissible fade show" role="alert" data-id="').concat(t._id,'">\n                <div class="d-flex align-items-center">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-exclamation-square flex-shrink-0 me-2" viewBox="0 0 16 16">\n                        <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>\n                        <path d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"/>\n                    </svg>\n                    <div>\n                    ').concat(t.msg,'\n                    </div>\n                </div>\n                <button type="button" class="btn-close btn-dismiss-notify" data-bs-dismiss="alert" aria-label="Close" data-id="').concat(t._id,'"></button>\n            </div>'))})),a&&(L(e,1),e.getData()),document.querySelector("#contents .container")&&document.querySelector("#contents .container").insertAdjacentHTML("afterbegin",n),function(e,t){if(document.querySelector(e)){var n,a=l(document.querySelectorAll(e));try{for(a.s();!(n=a.n()).done;){var o=n.value;o.removeEventListener("click",t,!0),o.addEventListener("click",t,!0)}}catch(e){a.e(e)}finally{a.f()}}}(".btn-dismiss-notify",(function(e){fetch("https://api-v1.kenzap.cloud/ecommerce/",{method:"post",headers:v(),body:JSON.stringify({query:{updates:{type:"dismiss",id:e.currentTarget.dataset.id}}})}).then((function(e){return e.json()})).then((function(e){e.success})).catch((function(e){}))})),document.querySelector(".order-details")){var o,c=l(document.querySelectorAll(".order-details"));try{for(c.s();!(o=c.n()).done;){var s=o.value;if("1"==s.dataset.assigned)return;s.dataset.assigned=1,s.addEventListener("click",(function(e){var t=document.querySelector(".view-order[data-id='"+e.currentTarget.dataset.id+"']");h(t)}),!0)}}catch(e){c.e(e)}finally{c.f()}}},A=function(e){var t=r("Pages 1.0.6 by %1$Kenzap%2$. ❤️ Licensed %3$GPLv3%4$.",'<a class="text-muted" href="https://kenzap.com/" target="_blank">',"</a>",'<a class="text-muted" href="https://github.com/kenzap/pages" target="_blank">',"</a>"),n=r("%1$Developer mode%2$",'<a class="text-muted" href="'.concat(d("/develop/"),'" target="_self">'),"</a>");document.querySelector("footer .row").innerHTML='\n    <div class="d-sm-flex justify-content-center justify-content-sm-between">\n        <span class="text-muted text-center text-sm-left d-block d-sm-inline-block">'.concat(t,'</span>\n        <span class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center text-muted">').concat(n,"</span>\n    </div>")},T=function(e,t){var a,o=e.split("\n"),c="",s=l(o);try{var i=function(){var e=a.value,o=t,l=e.indexOf("[S]"),s=e.indexOf("[R]"),i=e.indexOf("[L]"),r=e.indexOf("[C]");if(o-=R(e)?R(e):1,-1!=l&&(e=e.substr(0,l)+e.substr(l+3,e.length)),-1!=s){var d=o-(e.substr(0,s)+e.substr(s+3,e.length)).length;-1!=i&&(d+=3),-1!=r&&(d+=3),e=e.substr(0,s)+q(d)+e.substr(s+3,e.length)}if(-1!=i){var m=o-(e.substr(0,i)+e.substr(i+3,e.length)).length;e=e.substr(0,i)+e.substr(i+3,e.length)+q(m)}if(-1!=r){var p=o-(e.substr(0,s)+e.substr(s+3,e.length)).length;e=q(Math.floor(p/2))+e.substr(0,r)+e.substr(r+3,e.length)+q(Math.ceil(p/2))}var u=0;if(n(e).forEach((function(e){" "==e&&(u+=1)})),u>=o&&(e=""),e.length>t){for(var v="",b=0,y=0;y<e.length;y++)b+=1,v+=e[y],y%t==0&&y>0&&(v+="\n",b=0);for(var f=b;f<t;f++)v+=" ";console.log(v),e=v}c+=e+"\n"};for(s.s();!(a=s.n()).done;)i()}catch(e){s.e(e)}finally{s.f()}return c},q=function(e){for(var t="",n=0;n<=e;n++)t+=" ";return t},C=function(e,t,n,a){a-=1;for(var o="",l=0,c=!0,s=0;s<e.length;s++)o+=e[s],l+=1+R(e[s]),c&&l>=a-(t+n)&&(o+="\n[L]",l=0,c=!1),l>=a-n&&(o+="\n[L]",l=0);return o},R=function(e){for(var t=/[\u3400-\u4db5\u4e00-\u9fa5\uf900-\ufa2d]/,n=0,a=!1,o=e.length,l=0;l<o;l++){var c=e.charAt(l);t.test(c)&&(n+=a?2:1,a=!1)}return n},P=function(e,t,n,a){var o="";for(var l in t.items)if(null==t.items[l].cats&&(t.items[l].cats=[]),t.items[l].cats.includes(n)||!(n.length>0)){var c=S(e,t.items[l].total);for(var i in o+="[L]".concat(t.items[l].qty," X ").concat(C(s(t.items[l].title),(t.items[l].qty+"").length+3,(c+"").length,a),"[R]").concat(c,"\n"),t.items[l].variations){for(var r in o+="[L] ".concat(C(s(t.items[l].variations[i].title),1,0,a),":"),t.items[l].variations[i].list)o+=" ".concat(s(t.items[l].variations[i].list[r].title),",");o.endsWith(",")&&(o=o.substring(0,o.length-1)+"\n"),o.endsWith("\n")||(o+="\n")}}return o.endsWith("\n")&&(o=o.substring(0,o.length-1)),o},E=function(e,t){g(s(t.reason)),document.querySelector('.alert[data-id="print-api"')&&document.querySelector('.alert[data-id="print-api"').remove();var n=[{_id:"print-api",color:"danger",msg:r(t.reason)}];D(e,n);try{isMobile()&&window.navigator.vibrate(200)}catch(e){}},M={_this:null,templateDefault:{auto_print:[],user_print:[],template:"",type:"receipt",user:""},init:function(e){M._this=e,M.renderSettings(e)},renderSettings:function(e){var t=[];e.state.response.settings.printers&&(t=e.state.response.settings.printers),Array.isArray(t)?t.forEach((function(e,t){document.querySelector(".printer-table tbody").insertAdjacentHTML("beforeend",M.structPrinterRow(e,t))})):(t=[],document.querySelector("#printers").value="[]"),document.querySelector("#printers").value=JSON.stringify(t),M.renderTemplatesSettings(e),M.initListeners(e)},renderTemplatesSettings:function(e){e.state.response.settings.templates||(e.state.response.settings.templates=[]),0==e.state.response.settings.templates.length&&e.state.response.settings.templates.push(M.templateDefault);var t="";e.state.response.settings.templates.forEach((function(n,a){t+=M.structPrintTemplateItem(e,a+1,!0)})),document.querySelector("#templates-list").innerHTML=t,M.templateListeners(e)},initListeners:function(e){var t=document.querySelector("#printers").value;t=t?JSON.parse(t):[],f(".btn-template-new",(function(t){e.state.response.settings.templates.push(M.templateDefault),document.querySelector("#templates-list").insertAdjacentHTML("beforeend",M.structPrintTemplateItem(e,e.state.response.settings.templates.length,!0)),M.templateListeners(e)})),f(".printer-type .dropdown-item",(function(e){M.modelSelect(e)})),f(".printer-paper-type .dropdown-item",(function(e){M.paperSelect(e)})),f(".remove-printer",M.removePrinter),f(".add-printer",(function(t){t.preventDefault();var n={};if(n.idd=document.querySelector(".printer-idd").value,n.type=document.querySelector(".printer-type button").dataset.value,n.paper=document.querySelector(".printer-paper-type button").dataset.value,n.ip=document.querySelector(".printer-ip").value,n.idd.length<1||n.type.length<1)return alert(__("Fill in all fields first!")),!1;document.querySelector(".printer-idd").value="",document.querySelector(".printer-type button").dataset.value="",document.querySelector(".printer-ip").value="";var a=document.querySelector("#printers").value;console.log(a),a=a?JSON.parse(a):[],Array.isArray(a)?a.push(n):a=[],document.querySelector("#printers").value=JSON.stringify(a),document.querySelector(".printer-table tbody").insertAdjacentHTML("beforeend",M.structPrinterRow(n,a.length-1)),f(".remove-printer",M.removePrinter),M.renderTemplatesSettings(e)}))},templateListeners:function(e){f(".remove-template",M.removeTemplateRow),((e,t)=>{if(document.querySelector(e))for(let n of document.querySelectorAll(e))n.removeEventListener("change",t,!0),n.addEventListener("change",t,!0)})(".template_auto_print_action",(function(e){""==e.currentTarget.value&&e.currentTarget.parentElement.querySelector(".template_auto_print").classList.add("d-none"),""!=e.currentTarget.value&&e.currentTarget.parentElement.querySelector(".template_auto_print").classList.remove("d-none")})),f(".test-template",(function(t){var n=document.querySelector("#printers").value;n=n?JSON.parse(n):[];var a=parseInt(t.currentTarget.dataset.index);if(confirm(__("Send this template to %1$ printer %2$?",n[a].type,a+1+"-"+n[a].idd))){var o={};o.template=t.currentTarget.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.querySelector(".template").value,o.type="receipt",o.user="",o.user_print=[],n[a].index=a+1,o.user_print.push(n[a]),console.log(o),function(e,t,n,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l={},c={},i=new Date;if("test"==t?l={_id:"test",id:"test",created:1649831099,from:"dine-in",idd:"",items:[{cats:[],id:"02de5fc62938ba0b031b4e80e962bac15a7285d8",index:"0",note:"",price:45,qty:2,sdesc:"Salted Egg Crab",title:"咸蛋螃蟹",total:45,type:"new",variations:[]},{cats:[],id:"69ae96cfb7b25c358dd07560fc55e7d83cae2eb7",index:"0",note:"",price:45,qty:1,sdesc:"Kam Heong Crab",title:"金香螃蟹",total:45,type:"new",variations:[]},{cats:["Other"],id:"a678f2b21a3a3f7e97b6707d8223f32d17ecbefa",index:"0",note:"",price:10,qty:12,sdesc:"",title:"鱼鳔羮",total:10,type:"new",variations:[]},{cats:["Other"],id:"a678f2b21a3a3f7e97b6707d8223f32d17ecbefa",index:"0",note:"",price:25,qty:1,sdesc:"",title:"螃蟹米粉汤 (粗/幼米粉）",total:25,type:"new",variations:[]},{cats:["Other"],id:"a678f2b21a3a3f7e97b6707d8223f32d17ecbefa",index:"0",note:"",price:4,qty:1,sdesc:"",title:"Fied Chicken Noodles",total:4,type:"new",variations:[]}],kid:"0",name:"dine-in",note:"",sid:m,status:"new",price:{discount_percent:10,discount_total:11.105,discount_value:0,fee_total:0,grand_total:99.95,payment_method:"Cash",tax_percent:0,tax_total:0,total:111.05},step:1,table:"table test",total:111.05,total_all:99.95,updated:1649833845}:(l=e.state.orders.filter((function(e){return e._id==t}))[0],c={},i=new Date),console.log(l),c.debug=o,a)c.print=a.template;else{var d=e.state.settings.templates.filter((function(t){return"receipt"==t.type&&t.user==e.state.user.id}));0==d.length&&(d=e.state.settings.templates.filter((function(e){return"receipt"==e.type&&""==e.user}))),c.print=d.length>0?d[0].template:"Kenzap Cloud: no receipt template found",a=d.length>0?d[0]:{}}var p=c.print.indexOf("[W:"),u=20;-1!=p&&(u=parseInt(c.print.substr(p+3,2)),c.print=c.print.substr(0,p)+c.print.substr(p+6,c.print.length)),c.print=c.print.replace(/{{order_id}}/g,l.id?l.id:"-"),c.print=c.print.replace(/{{order_from}}/g,l.from),c.print=c.print.replace(/{{order_takeaway}}/g,l.takeaway?"dine-in"==l.takeaway?r("dine-in"):r("take away"):r("dine-in")),c.print=c.print.replace(/{{order_note}}/g,l.note?l.note:""),c.print=c.print.replace(/{{order_phone}}/g,l.phone?l.phone:""),c.print=c.print.replace(/{{order_addr1}}/g,l.addr1?l.addr1:""),c.print=c.print.replace(/{{order_table}}/g,l.table?r("Table #%1$",l.table):""),c.print=c.print.replace(/{{date_time}}/g,i.toLocaleString([],{dateStyle:"medium",timeStyle:"short"})),c.print=c.print.replace(/{{order_items}}/g,P(e,l,"",u));var v=c.print.matchAll(/{{order_items:(.*?):start}}/g);Array.from(v,(function(e){return e[1]})).forEach((function(t){var n=P(e,l,t,u),a="{{order_items:"+t+"}}",o=new RegExp(a,"g");if(c.print=c.print.replace(o,n),n.length<2){var s=c.print.indexOf("{{order_items:"+t+":start}}"),i=c.print.indexOf("{{order_items:"+t+":end}}")+("{{order_items:"+t+":end}}").length;c.print=c.print.slice(0,s)+c.print.slice(i)}else a="\n{{order_items:"+t+":start}}",o=new RegExp(a,"g"),c.print=c.print.replace(o,""),a="\n{{order_items:"+t+":end}}",o=new RegExp(a,"g"),c.print=c.print.replace(o,"")})),c.print=c.print.replace(/{{total}}/g,S(e,l.price.total)),c.print=c.print.replace(/{{tax_total}}/g,S(e,l.price.tax_total)),c.print=c.print.replace(/{{discount_total}}/g,S(e,l.price.discount_total)),c.print=c.print.replace(/{{grand_total}}/g,S(e,l.price.grand_total));var f="";f+="[L]"+s("Subtotal")+"[R]"+S(e,l.price.total)+"\n",l.price.discount_total>0&&(f+="[L]"+s("Discount")+"[R]-"+S(e,l.price.discount_total)+"\n"),l.price.fee_total>0&&(f+="[L]"+e.state.settings.fee_display+"[R]"+S(e,l.price.fee_total)+"\n"),l.price.tax_total>0&&(f+="[L]"+e.state.settings.tax_display+"[R]"+S(e,l.price.tax_total)+"\n"),l.price.grand_total>0&&(f+="[L]"+s("Grand Total")+"[R]"+S(e,l.price.grand_total)),c.print=c.print.replace(/{{order_totals}}/g,f),document.querySelector("#qr-number")&&(c.print=c.print.replace(/{{qr_number}}/g,document.querySelector("#qr-number").value));var h="user"==n?a.user_print:a.auto_print;c.user=e.state.user.id,c.printers=[],c.printers.push(h[0]),c.type="receipt",c.print=T(c.print,u),fetch("https://api-v1.kenzap.cloud/ecommerce/",{method:"post",headers:b,body:JSON.stringify({query:{print:{type:"print",data:c,sid:m()}}})}).then((function(e){return e.json()})).then((function(t){t.success?g(s("Printing order #"+l.id)):E(e,t)})).catch((function(e){y(e)})),e.state.printRequest=null}(e,"test","user",o)}}))},saveFile:function(e,t){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(e,t);else{var n=document.createElement("a");document.body.appendChild(n);var a=window.URL.createObjectURL(e);n.href=a,n.download=t,n.click(),setTimeout((function(){window.URL.revokeObjectURL(a),document.body.removeChild(n)}),0)}},removeTemplateRow:function(e){console.log(e.currentTarget.dataset.index),confirm(__("Remove this template?"))&&document.querySelector('.templates-list .accordion-item[data-index="'+e.currentTarget.dataset.index+'"]').remove()},modelSelect:function(e){e.preventDefault(),document.querySelector(".printer-type button").innerHTML=e.currentTarget.innerHTML,document.querySelector(".printer-type button").dataset.value=e.currentTarget.dataset.value,"ethernet"==e.currentTarget.dataset.value&&(document.querySelector(".printer-ip-th").classList.remove("d-none"),document.querySelector(".printer-ip-td").classList.remove("d-none")),"bluetooth"!=e.currentTarget.dataset.value&&"usb"!=e.currentTarget.dataset.value||(document.querySelector(".printer-ip-th").classList.add("d-none"),document.querySelector(".printer-ip-td").classList.add("d-none"))},paperSelect:function(e){e.preventDefault(),document.querySelector(".printer-paper-type button").innerHTML=e.currentTarget.innerHTML,document.querySelector(".printer-paper-type button").dataset.value=e.currentTarget.dataset.value},removePrinter:function(e){if(e.preventDefault(),confirm(__("Remove this record?"))){var t=e.currentTarget.dataset.i,n=JSON.parse(document.querySelector("#printers").value);n.splice(t,1),document.querySelector("#printers").value=JSON.stringify(n),e.currentTarget.parentElement.parentElement.remove(),M.renderTemplatesSettings(M._this)}},save:function(e,t){if(t.templates=[],document.querySelector(".templates-list .accordion-item")){var n,a=l(document.querySelectorAll(".templates-list .accordion-item"));try{for(a.s();!(n=a.n()).done;){var o=n.value,c={};if(c.template=o.querySelector(".template").value,c.type=o.querySelector(".template_type").value,c.user=o.querySelector(".template_user").value,c.user_print=[],c.auto_print_action=o.querySelector(".template_auto_print_action").value,c.auto_print=[],o.querySelector("input.template_auto_print:checked")){var s,i=l(o.querySelectorAll("input.template_auto_print:checked"));try{for(i.s();!(s=i.n()).done;){var r=s.value;c.auto_print.push({index:r.dataset.index,idd:r.dataset.idd,type:r.dataset.type,ip:r.dataset.ip,paper:r.dataset.paper})}}catch(e){i.e(e)}finally{i.f()}}if(o.querySelector("input.template_user_print:checked")){var d,m=l(o.querySelectorAll("input.template_user_print:checked"));try{for(m.s();!(d=m.n()).done;){var p=d.value;c.user_print.push({index:p.dataset.index,idd:p.dataset.idd,type:p.dataset.type,ip:p.dataset.ip,paper:p.dataset.paper})}}catch(e){m.e(e)}finally{m.f()}}t.templates.push(c)}}catch(e){a.e(e)}finally{a.f()}}return t},structPrinterRow:function(e,t){return'\n      <tr class="printer-row form-text" >\n          <td class="tp">\n              <div class="me-1 me-sm-3 my-1 ">\n              '.concat(t+1,"-").concat(e.idd,'\n              </div>\n          </td>\n          <td>\n              <div class="me-1 me-sm-3 my-1">\n                ').concat("bluetooth"==e.type?'<img style="height:20px" src="/assets/img/bluetooth.webp" >':""," \n                ").concat("ethernet"==e.type?'<img style="height:20px" src="/assets/img/ethernet.png" >':""," \n                ").concat("usb"==e.type?'<img style="height:20px" src="/assets/img/usb.png" >':""," \n                ").concat(e.type,'\n              </div>\n          </td>\n          <td>\n              <div class="me-1 me-sm-3 my-1">\n                ').concat("58"!=e.paper&&e.paper?"":r("58mm")," \n                ").concat("80"==e.paper?r("80mm"):"",'\n              </div>\n          </td>\n          <td class="">\n              <div class="me-1 me-sm-3 my-1">\n                  ').concat(e.ip,'\n              </div>\n          </td>\n          <td class="align-middle text-center pt-2"> \n              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#ff0079" class="remove-printer bi bi-x-circle po" data-i="').concat(t,'" viewBox="0 0 16 16">\n                  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>\n                  <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path>\n              </svg>\n          </td>\n      </tr>')},structPrintTemplateItem:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.state.response.settings.templates[t-1],o=document.querySelector("#printers").value;o=o?JSON.parse(o):[];var l="";o.forEach((function(e,t){var n="";a.auto_print||(a.auto_print=[]),a.auto_print.filter((function(a){a.idd==e.idd&&a.index==t+1&&(n="checked")})),l+='\n        <div class="form-check">\n          <input id="auto_print'.concat(t+1,'" class="form-check-input template_auto_print" name="auto_print" type="checkbox" value="1" data-index="').concat(t+1,'" data-idd="').concat(e.idd,'" data-type="').concat(e.type,'" data-ip="').concat(e.ip,'" data-paper="').concat(e.paper,'" data-value="" data-type="checkbox" ').concat(n,'>\n          <label class="form-check-label" for="auto_print').concat(t+1,'">\n            ').concat(t+1,"-").concat(e.idd," \n\n            ").concat("bluetooth"==e.type?'<img style="height:20px" src="/assets/img/bluetooth.webp" >':""," \n            ").concat("ethernet"==e.type?'<img style="height:20px" src="/assets/img/ethernet.png" >':""," \n            ").concat("usb"==e.type?'<img style="height:20px" src="/assets/img/usb.png" >':""," \n\n          </label>\n        </div>\n      ")}));var c="";e.state.response.users.forEach((function(e,t){c+='<option value="'.concat(e.id,'" ').concat(a.user==e.id?"selected":"",">").concat(e.name,"</option>")}));var s,d="";return o.forEach((function(e,t){var n="";a.user_print||(a.user_print=[]),a.user_print.filter((function(a){a.idd==e.idd&&a.index==t+1&&(n="checked")})),d+='\n        <div class="form-check clearfix">\n          <input id="user_print'.concat(t+1,'" class="form-check-input template_user_print" name="user_print" type="checkbox" value="1" data-index="').concat(t+1,'" data-idd="').concat(e.idd,'" data-type="').concat(e.type,'" data-ip="').concat(e.ip,'" data-paper="').concat(e.paper,'" data-value="" data-type="checkbox" ').concat(n,'>\n          <label class="form-check-label" for="user_print').concat(t+1,'">\n            ').concat(t+1,"-").concat(e.idd,"\n\n            ").concat("bluetooth"==e.type?'<img style="height:20px" src="/assets/img/bluetooth.webp" >':""," \n            ").concat("ethernet"==e.type?'<img style="height:20px" src="/assets/img/ethernet.png" >':""," \n            ").concat("usb"==e.type?'<img style="height:20px" src="/assets/img/usb.png" >':"",' \n\n          </label>\n          <div class="d-inline   me-1" style="float:right;" title="').concat(((e,...t)=>0===(e=String(e)).length?"":i(e,(e=>e.replace(/[<>'"]/g,(e=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"}[e])))),...t))("click for test print"),'">\n            <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="currentColor" class="bi bi-printer test-template ms-2 po text-primary" viewBox="0 0 16 16" data-index="').concat(t,'">\n                    <path d="M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"></path>\n                    <path d="M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"></path>\n            </svg>\n          </div>\n        </div>\n      ')})),'\n    <div class="accordion-item border-0 mb-3" data-index="'.concat(t-1,'" >\n      <h2 class="accordion-header" id="flush-heading-').concat(t,'">\n        <button class="accordion-button ').concat(1==t||n?"":"collapsed",'" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapse-').concat(t,'" aria-expanded="').concat(1==(t||n)?"true":"false",'" aria-controls="flush-collapse-').concat(t,'">\n          ').concat(r("Template #%1$",t),'\n        </button>\n      </h2>\n      <div id="flush-collapse-').concat(t,'" class="accordion-collapse collapse ').concat(1==t||n?"show":"",' mt-3" aria-labelledby="flush-heading-').concat(t,'" data-bs-parent="#templates-list">\n        <div class="accordion-body">\n        \n          <div class="row inp-list">\n\n            <div class="col-lg-6 ">\n              <div class="form-group row mb-3 mt-1">\n                <div class="col-sm-12" >\n                  <textarea class="form-control template inp" name="template" rows="20" data-type="text" style="font-size:13px;font-family: monospace;">').concat(a.template,'</textarea>\n                  <p class="form-text">').concat(r("Template code."),'</p>\n                </div>\n              </div>\n            </div>\n\n            <div class="col-lg-6">\n              <div class="form-group row mb-3 mt-1 ">\n                <label class="col-sm-3 col-form-label">').concat(r("Template type"),'</label>\n                <div class="col-sm-9">\n                  <select class="form-select template_type" name="template_type" data-type="select">\n                    <option value="receipt" ').concat("receipt"==a.type?"selected":"",">").concat(r("Receipt"),'</option>\n                    <option value="invoice" ').concat("invoice"==a.type?"selected":"",">").concat(r("Invoice"),'</option>\n                    <option value="qr" ').concat("qr"==a.type?"selected":"",">").concat(r("QR-code"),'</option>\n                  </select>\n                  <p class="form-text">').concat(r("QR-code receipt type adds extra button to the orders page."),'</p>\n                </div> \n              </div>\n              <div class="form-group row mb-3 mt-1 ">\n                <label class="col-sm-3 col-form-label">').concat(r("Default for"),'</label>\n                <div class="col-sm-9">\n                  <select class="form-select template_user mb-2 mt-1" name="template_user" data-type="select">\n                    <option value="">').concat(r("All users"),"</option>\n                    ").concat(c,'\n                  </select>\n                  <div class="template_user_print">\n                    ').concat(d,'\n                  </div>\n                  <p class="form-text">').concat(r("Assign this receipt to one of the selected users and printers."),'</p>\n                </div> \n              </div>\n              <div class="form-group row mb-3 mt-1 ">\n                <label class="col-sm-3 col-form-label">').concat(r("Auto print"),'</label>\n                <div class="col-sm-9" >\n                  <select class="form-select template_auto_print_action mb-2 mt-1" name="template_auto_print_action" data-type="select">\n                    <option value="">').concat(r("Never"),'</option>\n                    <option value="new" ').concat("new"==a.auto_print_action?"selected":"",">").concat(r("New order"),'</option>\n                    <option value="completed" ').concat("completed"==a.auto_print_action?"selected":"",">").concat(r("Completed order"),'</option>\n                    <option value="canceled" ').concat("canceled"==a.auto_print_action?"selected":"",">").concat(r("Canceled order"),'</option>\n                    <option value="failed" ').concat("failed"==a.auto_print_action?"selected":"",">").concat(r("Failed order"),'</option>\n                  </select>\n                  <div class="template_auto_print ').concat(""==a.auto_print_action?"d-none":"",'" >\n                    ').concat(l,'\n                  </div>\n                  <p class="form-text">').concat(r("Auto print this template when selected action is triggered."),'</p>\n                </div> \n              </div>\n              <div class="form-group mb-3 mt-1 ">\n                <button class="d-none btn btn-sm btn-outline-success test-template mt-5 mb-1 mt-md-4 mb-md-0 d-flex align-items-center ms-auto bd-highlight" type="button" data-index="').concat(t-1,'">').concat(r("Test print"),'</button>\n                <button class="btn btn-sm btn-outline-danger remove-template mt-5 mb-1 mt-md-4 mb-md-0 d-flex align-items-center ms-auto bd-highlight" type="button" data-index="').concat(t-1,'">').concat(r("Remove template"),'</button>\n              </div>\n            </div>\n\n            <div class="col-lg-6 d-none">\n\n            </div>\n\n            <div class="col-lg-6 d-none">\n              <div class="form-group row mb-3 mt-1">\n                <div class="col-sm-12" >\n                  <iframe class="template-preview" style="width:600px;min-height:400px" srcdoc="').concat((s=a.template,0===(s=String(s)).length?"":s.replace(/[&<>'"]/g,(e=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"}[e])))),'"></iframe>\n                  <p class="form-text">').concat(r("Template preview."),"</p>\n                </div>\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    </div>")}},z=(w=function e(){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t(this,"getData",(function(){n.state.firstLoad&&(()=>{let e=document.querySelector(".loader");e&&(e.style.display="block")})(),document.querySelector(".search-cont input")&&document.querySelector(".search-cont input").value,fetch("https://api-v1.kenzap.cloud/",{method:"post",headers:v(),body:JSON.stringify({query:{user:{type:"authenticate",fields:["avatar"],token:p("kenzap_token")},users:{type:"users",fields:["id","name"]},locale:{type:"locale",source:["extension"],key:"ecommerce"},settings:{type:"get",key:"ecommerce-settings",fields:"*"}}})}).then((function(e){return e.json()})).then((function(e){n.state.settings=e.settings,n.state.user=e.user,(()=>{let e=document.querySelector(".loader");e&&(e.style.display="none")})(),e.success?((e=>{if(e.header&&localStorage.setItem("header",e.header),e.cdn&&localStorage.setItem("cdn",e.cdn),!document.querySelector("#k-script")){let e=document.createElement("div");e.innerHTML=localStorage.getItem("header"),e=e.firstChild,document.body.prepend(e),Function(document.querySelector("#k-script").innerHTML).call("test")}e.locale&&window.i18n.init(e.locale)})(e),n.html(),n.render(e),n.initListeners(),A(),n.state.firstLoad=!1):y(e)})).catch((function(e){y(e)}))})),t(this,"authUser",(function(e){e.user&&e.user.success})),t(this,"html",(function(){n.state.firstLoad&&(document.querySelector("#contents").innerHTML='\n    <div class="container p-edit">\n        <div class="d-md-flex justify-content-between bd-highlight mb-3">\n            <nav class="bc" aria-label="breadcrumb"></nav>\n            <button class="btn btn-primary btn-save mt-3 mb-1 mt-md-0 mb-md-0" type="button">'.concat(r("Save changes"),'</button>\n        </div>\n        <div class="row">\n            <div class="col-md-12 grid-margin grid-margin-lg-0 grid-margin-md-0 stretch-card">\n              <div class="card border-white shadow-sm p-sm-3 ">\n                <nav class="nav tab-content mb-4" role="tablist">\n                    <div class="nav nav-tabs" id="nav-tab" role="tablist">\n                        <a class="nav-link active" id="nav-notifications-link" data-bs-toggle="tab" data-bs-target="#nav-notifications" type="button" role="tab" aria-controls="nav-notifications" aria-selected="true" href="#">').concat(r("General"),'</a>\n                        <a class="nav-link d-none" id="nav-currency-link" data-bs-toggle="tab" data-bs-target="#nav-currency" type="button" role="tab" aria-controls="nav-currency" aria-selected="true" href="#">').concat(r("Currency &amp; Tax"),'</a>\n                        <a class="nav-link" id="nav-payout-link" data-bs-toggle="tab" data-bs-target="#nav-payout" type="button" role="tab" aria-controls="nav-payout" aria-selected="true"  href="#">').concat(r("Payout"),'</a>\n                        <a class="nav-link" id="nav-tax-link" data-bs-toggle="tab" data-bs-target="#nav-tax" type="button" role="tab" aria-controls="nav-tax" aria-selected="true"  href="#">').concat(r("Legal"),'</a>\n                    </div>\n                </nav>\n                <div class="card-body tab-content" id="nav-tabContent">\n                  <div class="tab-pane fade show active" id="nav-notifications" role="tabpanel" aria-labelledby="nav-notifications-link">\n                    \n                    <h4 id="h-orders" class="card-title mb-4">').concat(r("Orders"),'</h4>\n                    <div class="row">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Order ID"),'</label>\n                          <div class="col-sm-9">\n                            <input id="last_order_id" type="text" class="form-control inp" name="last_order_id" data-type="emails">\n                            <p class="form-text">').concat(r("Define next new order ID number."),'</p>\n                          </div>\n                        </div>\n                      </div>\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Auto complete"),'</label>\n                          <div class="col-sm-9">\n                            <select id="auto_complete" class="form-select inp" name="auto_complete" data-type="select">\n                                <option value="">').concat(r("None"),'</option>\n                                <option value="60">').concat(r("1 minute"),'</option>\n                                <option value="300">').concat(r("5 minutes"),'</option>\n                                <option value="1200">').concat(r("20 minutes"),'</option>\n                                <option value="3600">').concat(r("1 hour"),'</option>\n                                <option value="43200">').concat(r("12 hours"),'</option>\n                                <option value="86400">').concat(r("24 hours"),'</option>\n                            </select>\n                            <p class="form-text">').concat(r("Auto complete orders after certain amount of time."),'</p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div class="row">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Tables"),'</label>\n                          <div class="col-sm-9">\n                            <div class="form-check">\n                              <input id="tables" class="form-check-input inp" name="tables" type="checkbox" value="1" data-type="checkbox">\n                              <label class="form-check-label" for="tables">\n                                ').concat(r("Table mode"),'\n                              </label>\n                            </div>\n                            <p class="form-text">').concat(r("Enable table mode in orders dashboard."),'</p>\n                          </div> \n                        </div>\n                      </div>\n          \n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("List of tables"),'</label>\n                          <div class="col-sm-9">\n                            <textarea id="table_list" class="form-control inp" name="table_list" rows="4" data-type="text" style="font-size:13px;font-family: monospace;"></textarea>\n                            <p class="form-text">').concat(r("Provide one table per line. Example: 5."),'</p>\n                          </div> \n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div class="row">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Products"),'</label>\n                          <div class="col-sm-9">\n                            <div class="form-check">\n                              <input id="add_products" class="form-check-input inp" name="add_products" type="checkbox" value="1" data-type="checkbox">\n                              <label class="form-check-label" for="check">\n                                ').concat(r("Auto add products"),'\n                              </label>\n                            </div>\n                            <p class="form-text">').concat(r("Automatically add products to new orders."),'</p>\n                          </div> \n                        </div>\n                      </div>\n          \n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("List of products"),'</label>\n                          <div class="col-sm-9">\n                            <textarea id="add_products_list" class="form-control inp" name="add_products_list" rows="2" data-type="text" style="font-size:13px;font-family: monospace;"></textarea>\n                            <p class="form-text">').concat(r("Provide one product ID per line. Example: e98d438cby6g.."),'</p>\n                          </div> \n                        </div>\n                      </div>\n                    </div>\n\n                    <h4 id="h-notifications" class="card-title mb-4 mt-4">').concat(r("Notifications"),'</h4>\n                    <div class="row">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("New order"),'</label>\n                          <div class="col-sm-9">\n                            <select id="notify_new_order" class="form-select inp" name="notify_new_order" data-type="select">\n                                <option value="">').concat(r("None"),'</option>\n                                <option value="client">').concat(r("Client"),'</option>\n                                <option value="admin">').concat(r("Administrator"),'</option>\n                                <option value="both">').concat(r("Client and administrator"),'</option>\n                            </select>\n                          </div>\n                        </div>\n                      </div>\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Emails"),'</label>\n                          <div class="col-sm-9">\n                            <input id="notify_new_order_emails" type="text" class="form-control inp" name="notify_new_order_emails" data-type="emails">\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class="row">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Cancelled order"),'</label>\n                          <div class="col-sm-9">\n                            <select id="notify_cancel_order" class="form-select inp" name="notify_cancel_order" data-type="select">\n                                <option value="">').concat(r("None"),'</option>\n                                <option value="client">').concat(r("Client"),'</option>\n                                <option value="admin">').concat(r("Administrator"),'</option>\n                                <option value="both">').concat(r("Client and administrator"),'</option>\n                            </select>\n                          </div>\n                        </div>\n                      </div>\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Emails"),'</label>\n                          <div class="col-sm-9">\n                            <input id="notify_cancel_order_emails" type="text" class="form-control inp" name="notify_cancel_order_emails" data-type="emails">\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class="row">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Processing order"),'</label>\n                          <div class="col-sm-9">\n                            <select id="notify_proc_order" class="form-select inp" name="notify_proc_order" data-type="select">\n                                <option value="">').concat(r("None"),'</option>\n                                <option value="client">').concat(r("Client"),'</option>\n                                <option value="admin">').concat(r("Administrator"),'</option>\n                                <option value="both">').concat(r("Client and administrator"),'</option>\n                            </select>\n                          </div>\n                        </div>\n                      </div>\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Emails"),'</label>\n                          <div class="col-sm-9">\n                            <input id="notify_proc_order_emails" type="text" class="form-control inp" name="notify_proc_order_emails" data-type="emails">\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class="row">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Refunded order"),'</label>\n                          <div class="col-sm-9">\n                            <select id="notify_refunded_order" class="form-select inp" name="notify_refunded_order" data-type="select">\n                                <option value="">').concat(r("None"),'</option>\n                                <option value="client">').concat(r("Client"),'</option>\n                                <option value="admin">').concat(r("Administrator"),'</option>\n                                <option value="both">').concat(r("Client and administrator"),'</option>\n                            </select>\n                          </div>\n                        </div>\n                      </div>\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Emails"),'</label>\n                          <div class="col-sm-9">\n                            <input id="notify_refunded_order_emails" type="text" class="form-control inp" name="notify_refunded_order_emails" data-type="emails">\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class="row">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Completed order"),'</label>\n                          <div class="col-sm-9">\n                            <select id="notify_completed_order" class="form-select inp" name="notify_completed_order" data-type="select">\n                                <option value="">').concat(r("None"),'</option>\n                                <option value="client">').concat(r("Client"),'</option>\n                                <option value="admin">').concat(r("Administrator"),'</option>\n                                <option value="both">').concat(r("Client and administrator"),'</option>\n                            </select>\n                            <p class="form-text">').concat(r("Choose how to trigger notifications."),'</p>\n                          </div>\n                        </div>\n                      </div>\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Emails"),'</label>\n                          <div class="col-sm-9">\n                            <input id="notify_completed_order_emails" type="text" class="form-control inp" name="notify_completed_order_emails" data-type="emails">\n                            <p class="form-text d-none">').concat(r("Example: alex@kenzap.com, orders@kenzap.com"),'</p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class="row">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Low stock"),'</label>\n                          <div class="col-sm-9">\n                            <select id="notify_low_stock" class="form-select inp" name="notify_low_stock" data-type="select">\n                                <option value="">').concat(r("None"),'</option>\n                                <option value="dashboard">').concat(r("Via dashboard"),'</option>\n                                <option value="email">').concat(r("Via email"),'</option>\n                                <option value="all">').concat(r("Via dashboard and email"),'</option>\n                            </select>\n                            <p class="form-text">').concat(r("Product low stock notification settings."),'</p>\n                          </div>\n                        </div>\n                      </div>\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Emails"),'</label>\n                          <div class="col-sm-9">\n                            <input id="notify_low_stock_emails" type="text" class="form-control inp" name="notify_low_stock_emails" data-type="emails">\n                            <p class="form-text">').concat(r("Example: alex@kenzap.com, orders@kenzap.com"),'</p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <h4 id="h-currency" class="card-title mb-4 mt-4">').concat(r("Currency"),'</h4>\n                    <div class="row">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Currency"),'</label>\n                          <div class="col-sm-9">\n                            <select id="currency" class="form-select inp" name="currency" data-type="select">\n                              \n                            \n                            </select>\n                          </div>\n                        </div>\n                      </div>\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Currency symbol"),'</label>\n                          <div class="col-sm-9">\n                            <input id="currency_symb" type="text" class="form-select inp" name="currency_symb" value="" data-type="text">\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div class="row">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Position"),'</label>\n                          <div class="col-sm-9">\n                            <select id="currency_symb_loc" class="form-select inp" name="currency_symb_loc" data-type="select">\n                              <option value="left">').concat(r("Left"),'</option>\n                              <option value="right">').concat(r("Right"),'</option>\n                              <option value="left_space">').concat(r("Left with space"),'</option>\n                              <option value="right_space">').concat(r("Right with space"),'</option>\n                            </select>\n                            <p class="form-text">').concat(r("Currency position symbol."),'</p>\n                          </div>\n                        </div>\n                      </div>\n                      <div class="col-lg-6">\n\n                      </div>\n                    </div>\n\n                    <h4 id="h-tax" class="card-title mb-4 mt-4">').concat(r("Tax"),'</h4>\n                    <div class="row">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Tax"),'</label>\n                          <div class="col-sm-9">\n                            <div class="form-check">\n                              <input id="tax_calc" class="form-check-input inp" name="tax_calc" type="checkbox" value="1" data-type="checkbox">\n                              <label class="form-check-label" for="tax_calc">\n                                ').concat(r("Calculate"),'\n                              </label>\n                            </div>\n                            <p class="form-text">').concat(r("Enable tax calculations when processing orders."),'</p>\n                          </div> \n                        </div>\n                      </div>\n          \n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Geolocation"),'</label>\n                          <div class="col-sm-9">\n                            <div class="form-check">\n                              <input id="tax_percent_auto" class="form-check-input inp" name="tax_percent_auto" type="checkbox" value="1" data-type="checkbox">\n                              <label class="form-check-label" for="tax_percent_auto">\n                                ').concat(r("Auto tax rate"),'\n                              </label>\n                            </div>\n                            <p class="form-text">').concat(r("Automatically detect tax rate whenever applicable."),'</p>\n                          </div> \n                        </div>\n                      </div>\n                    </div>\n\n                    <div class="row">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Percent"),'</label>\n                          <div class="col-sm-9">\n                            <input id="tax_percent" type="text" class="form-control inp" placeholder="21" name="tax_percent" data-type="text">\n                            <p class="form-text">').concat(r("Default tax rate. Example, 9 or 21. Use numeric value."),'</p>\n                          </div>\n                        </div>\n                      </div>\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Display"),'</label>\n                          <div class="col-sm-9">\n                            <input id="tax_display" type="text" class="form-control inp" placeholder="VAT" name="tax_display" data-type="text">\n                            <p class="form-text">').concat(r("Tax title. Example, VAT or GST."),'</p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <h4 id="h-fees" class="card-title mb-4 mt-4">').concat(r("Fees"),'</h4>\n                    <div class="row">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Service"),'</label>\n                          <div class="col-sm-9">\n                            <div class="form-check">\n                              <input id="fee_calc" class="form-check-input inp" name="fee_calc" type="checkbox" value="1" data-type="checkbox">\n                              <label class="form-check-label" for="fee_calc">\n                                ').concat(r("Calculate"),'\n                              </label>\n                            </div>\n                            <p class="form-text">').concat(r("Calculate service fee when processing orders."),'</p>\n                          </div> \n                        </div>\n                      </div>\n          \n                      <div class="col-lg-6 d-none">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Geolocation"),'</label>\n                          <div class="col-sm-9">\n                            <div class="form-check">\n                              <input id="tax_auto_rate" class="form-check-input inp" name="tax_auto_rate" type="checkbox" value="1" data-type="checkbox">\n                              <label class="form-check-label" for="tax_auto_rate">\n                                ').concat(r("Auto tax rate"),'\n                              </label>\n                            </div>\n                            <p class="form-text">').concat(r("Automatically detect tax rate whenever applicable."),'</p>\n                          </div> \n                        </div>\n                      </div>\n                    </div>\n\n                    <div class="row">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Percent"),'</label>\n                          <div class="col-sm-9">\n                            <input id="fee_percent" type="text" class="form-control inp" placeholder="5" name="fee_percent" data-type="text">\n                            <p class="form-text">').concat(r("Default fee rate. Example, 5 or 7. Use numeric value."),'</p>\n                          </div>\n                        </div>\n                      </div>\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Display"),'</label>\n                          <div class="col-sm-9">\n                            <input id="fee_display" type="text" class="form-control inp" placeholder="Service fee" name="fee_display" data-type="text">\n                            <p class="form-text">').concat(r("Fee title. Example, Service fee."),'</p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <h4 id="h-payment" class="card-title mb-4 mt-4">').concat(r("Payment"),'</h4>\n                    <div class="row">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Methods"),'</label>\n                          <div class="col-sm-9">\n                            <div class="form-check">\n                              <input id="custom_payment_method" class="form-check-input inp" name="custom_payment_method" type="checkbox" value="1" data-type="checkbox">\n                              <label class="form-check-label" for="custom_payment_method">\n                                ').concat(r("Custom methods"),'\n                              </label>\n                            </div>\n                            <p class="form-text">').concat(r("Allow changing of payment method in the dashboard."),'</p>\n                          </div> \n                        </div>\n                      </div>\n          \n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("List of Methods"),'</label>\n                          <div class="col-sm-9">\n                            <textarea id="payment_methods" class="form-control inp" name="payment_methods" rows="4" data-type="text" style="font-size:13px;font-family: monospace;"></textarea>\n                            <p class="form-text">').concat(r("Provide list of available payment methods. Example: PayPal, PayNow."),'</p>\n                          </div> \n                        </div>\n                      </div>\n                    </div>\n\n                    <h4 id="h-discounts" class="card-title mb-4 mt-4">').concat(r("Discounts"),'</h4>\n                    <div class="row">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Coupons"),'</label>\n                          <div class="col-sm-9">\n                            <div class="form-check">\n                              <input id="coupons" class="form-check-input inp" name="coupons" type="checkbox" value="1" data-type="checkbox">\n                              <label class="form-check-label" for="coupons">\n                                ').concat(r("Enable coupons"),'\n                              </label>\n                            </div>\n                            <p class="form-text">').concat(r("Allow use of coupons upon checkout."),'</p>\n                          </div> \n                        </div>\n                      </div>\n          \n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("List of coupons"),'</label>\n                          <div class="col-sm-9">\n                            <textarea id="coupon_list" class="form-control inp" name="coupon_list" rows="2" data-type="text" style="font-size:13px;font-family: monospace;"></textarea>\n                            <p class="form-text">').concat(r("Provide one coupon and its discount rate per line. Example: BESTDEALS 15."),'</p>\n                          </div> \n                        </div>\n                      </div>\n                    </div>\n\n                    <div class="row">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Products"),'</label>\n                          <div class="col-sm-9">\n                            <div class="form-check">\n                              <input id="product_discounts" class="form-check-input inp" name="product_discounts" type="checkbox" value="1" data-type="checkbox">\n                              <label class="form-check-label" for="product_discounts">\n                                ').concat(r("Product discounts"),'\n                              </label>\n                            </div>\n                            <p class="form-text">').concat(r("Enable or disable all discounts defined under individual products page."),'</p>\n                          </div>\n                        </div>\n                      </div>\n                      <div class="col-lg-6 d-none">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("List of hours"),'</label>\n                          <div class="col-sm-9">\n                            <textarea id="happy_hours_list" class="form-control inp" name="happy_hours_list" rows="2" data-type="text" style="font-size:13px;font-family: monospace;"></textarea>\n                            <p class="form-text">').concat(r("Provide one happy hour, its discount per line. Example: Monday 15:00-17:30 10."),'</p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <h4 id="h-webhooks" class="card-title mb-4 mt-4">').concat(r("Webhooks"),'</h4>\n                    <div class="row webhook-list">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Trigger"),'</label>\n                          <div class="col-sm-9">\n                            <select id="webhook1_trigger" class="form-select webhook_trigger" name="webhook1_trigger" data-type="select">\n                                <option value="">').concat(r("None"),'</option>\n                                <option value="new_order">').concat(r("New order"),'</option>\n                                <option value="canceled_order">').concat(r("Canceled order"),'</option>\n                                <option value="refunded_order">').concat(r("Refunded order"),'</option>\n                                <option value="completed_order">').concat(r("Completed order"),'</option>\n                                <option value="low_stock">').concat(r("Low stock"),'</option>\n                            </select>\n                            <p class="form-text">').concat(r("Action when the URL is called."),'</p>\n                          </div>\n                        </div>\n                      </div>\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Webhook"),'</label>\n                          <div class="col-sm-9">\n                            <input id="webhook1_url" type="text" class="form-control webhook_url" name="webhook1_url" >\n                            <p class="form-text">').concat(r("URL with parameters. Ex.: https://example.com/{{order_id}}"),'</p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <h4 id="h-printing" class="card-title mb-4 mt-4">').concat(r("Printing"),'</h4>\n\n                      <div class="row">\n\n                        <div class="col-xl-6">\n                          <div class="form-group row mb-3 mt-1">\n                            <label class="col-sm-3 col-form-label d-none">').concat(r("Printers"),'</label>\n                            <div class="col-sm-12">\n\n                              <input id="printers" class="form-control inp d-none" name="printers" type="text" value="1" data-type="text">\n                              \n                              <table class="printer-table order-form mb-3">\n                                <theader>\n                                  <tr><th><div class="me-1 me-sm-3">').concat(r("Device ID"),'</div></th><th class="tp"><div class="me-1 me-sm-3">').concat(r("Type"),'</div></th><th class="tp"><div class="me-1 me-sm-3">').concat(r("Paper"),'</div></th><th class="printer-ip-th d-none"><div class="me-1 me-sm-3 ">').concat(r("IP Address"),'</div></th><th></th></tr>\n                                  <tr class="new-item-row">\n                                      <td>\n                                        <div class="me-1 me-sm-3 mt-2">\n                                            <input type="text" value="" autocomplete="off" placeholder="').concat(r("AW4FROYNFRGV"),'" class="form-control form-control-sm printer-idd" style="max-width: 156px;" data-id="" data-index="" list="item-suggestions">\n                                        </div>\n                                      </td>\n                                      <td class="printer-type">\n                                          <div class="me-1 me-sm-3 mt-2">\n                                            <button class="form-control form-control-sm dropdown-toggle" type="button" id="printer_type"  data-value="" data-bs-toggle="dropdown" aria-expanded="false">\n                                              ').concat(r("Select"),'\n                                            </button>\n                                            <ul class="dropdown-menu" aria-labelledby="printer_type">\n                                              <li><a class="dropdown-item" data-value="bluetooth" href="#"><img style="height:24px" src="/assets/img/bluetooth.webp" > ').concat(r("bluetooth"),'</a></li>\n                                              <li><a class="dropdown-item" data-value="ethernet" href="#"><img style="height:24px" src="/assets/img/ethernet.png" > ').concat(r("ethernet"),'</a></li>\n                                              <li><a class="dropdown-item" data-value="usb" href="#"><img style="height:24px" src="/assets/img/usb.png" > ').concat(r("usb"),'</a></li>\n                                            </ul>\n                                          </div>\n                                      </td>\n                                      <td class="printer-paper-type">\n                                          <div class="me-1 me-sm-3 mt-2">\n                                            <button class="form-control form-control-sm dropdown-toggle" type="button" id="printer_paper_type"  data-value="" data-bs-toggle="dropdown" aria-expanded="false">\n                                              ').concat(r("Select"),'\n                                            </button>\n                                            <ul class="dropdown-menu" aria-labelledby="printer_paper_type">\n                                              <li><a class="dropdown-item" data-value="58" href="#">').concat(r("58mm"),'</a></li>\n                                              <li><a class="dropdown-item" data-value="80" href="#">').concat(r("80mm"),'</a></li>\n                                            </ul>\n                                          </div>\n                                      </td>\n                                      <td class="printer-ip-td d-none">\n                                        <div class="me-1 me-sm-3 mt-2"> \n                                          <input type="text" value="" autocomplete="off" placeholder="').concat(r("192.168.1.12"),'" class="form-control form-control-sm printer-ip" style="max-width: 156px;" data-id="" data-index="" >\n                                        </div>\n                                      </td>\n                                      <td class="align-middle text-center pt-2"> \n                                          <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" width="24" height="24" class="bi bi-plus-circle text-success align-middle add-printer po"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path><path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"></path></svg>\n                                      </td>\n                                  </tr>\n                                </theader>\n                                <tbody>\n\n\n                                </tbody>\n                              </table>\n                              <p class="form-text">').concat(r("List all printers connected to the Cloud."),'</p>\n                            </div>\n                          </div>\n                        </div>\n                        <div class="col-xl-6">\n                          <div class="form-group row mb-3 mt-1">\n                            <label class="col-sm-3 col-form-label">').concat(r("Action"),'</label>\n                            <div class="col-sm-9">\n                              <select id="print_action" class="form-select inp" name="print_action" data-type="select">\n                                <option value="system">').concat(r("Default printing dialogue"),'</option>\n                                <option value="app">').concat(r("Kenzap print app"),'</option>\n                              </select>\n                              <p class="form-text">').concat(r("Choose action when printing icon is clicked."),'</p>\n                            </div> \n                          </div>\n                        </div>\n                      </div>\n\n                      <div class="border-top my-3 mb-5 d-none"></div>\n\n                      <h4 id="h-templates" class="card-title mb-4 mt-4">').concat(r("Templates"),'</h4>\n\n                      <input id="templates" class="form-control inp d-none" name="templates" type="text" value="" data-type="text">\n\n                      <div id="templates-list" class="accordion accordion-flush templates-list" > </div>\n\n                      <div class="row">\n                        <div class="col-lg-12">\n                          <div class="text-end "> \n                            <button class="btn btn-outline-primary btn-template-new mt-5 mb-1 mt-md-4 mb-md-0 d-flex align-items-center" type="button"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" width="16" height="16" class="bi bi-plus-circle align-middle me-2 po" ><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path><path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"></path></svg>').concat(r("New template"),'</button>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class="row d-none">\n                        <div class="col-lg-6">\n                          <div class="form-group row mb-3 mt-1">\n                            <label class="col-sm-3 col-form-label">').concat(r("QR code"),'</label>\n                            <div class="col-sm-9">\n                              <div class="form-check">\n                                <input id="qr_print" class="form-check-input inp" name="qr_print" type="checkbox" value="1" data-type="checkbox">\n                                <label class="form-check-label" for="qr_print">\n                                  ').concat(r("QR code printing"),'\n                                </label>\n                              </div>\n                              <p class="form-text">').concat(r('Allow "Scan me to order" QR-code printing from orders dashboard.'),'</p>\n                            </div>\n                          </div>\n                        </div>\n                        <div class="col-lg-6">\n                          <div class="form-group row mb-3 mt-1">\n                            <label class="col-sm-3 col-form-label">').concat(r("QR printing"),'</label>\n                            <div class="col-sm-9">\n                              <textarea id="qr_template" class="form-control inp" name="qr_template" rows="10" data-type="text" style="font-size:13px;font-family: monospace;"></textarea>\n                              <p class="form-text">').concat(r('Default "Scan me to order" template for printers.'),'</p>\n                            </div> \n                          </div>\n                        </div>\n                      </div>\n\n\n                    </div>\n\n                    <div class="tab-pane fade" id="nav-currency" role="tabpanel" aria-labelledby="nav-currency-link">\n                      <br>\n                      <hr>\n                      <br>\n                      <br>\n                    </div>\n                    \n                    <div class="tab-pane fade" id="nav-tax" role="tabpanel" aria-labelledby="nav-tax-link">\n                    <h4 id="h-tax" class="card-title mb-4">').concat(r("Your tax information"),'</h4>\n                    <p class="card-description"> ').concat(r("Invoice info (this information will be not revealed public)"),' </p>\n\n                    <div class="row">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Tax ID"),'</label>\n                          <div class="col-sm-9">\n                            <input id="vat" type="text" class="form-control inp" name="vat" data-type="text">\n                          </div>\n                        </div>\n                      </div>\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Email"),'</label>\n                          <div class="col-sm-9">\n                            <input id="email" type="email" class="form-control inp" name="email" data-type="email">\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class="row">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Company"),'</label>\n                          <div class="col-sm-9">\n                            <input id="company" type="text" class="form-control inp inp" name="company" data-type="text">\n                          </div>\n                        </div>\n                      </div>\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Type"),'</label>\n                          <div class="col-sm-4">\n                            <div class="form-check">\n                              <label class="form-check-label">\n                                <input type="radio" class="form-check-input inp" name="entity_type" value="individual" data-type="radio" checked="true">\n                                ').concat(r("Individual"),'\n                                <i class="input-helper"></i></label>\n                            </div>\n                          </div>\n                          <div class="col-sm-5">\n                            <div class="form-check">\n                              <label class="form-check-label">\n                                <input type="radio" class="form-check-input inp" name="entity_type" value="business" data-type="radio">\n                                ').concat(r("Business"),'\n                                <i class="input-helper"></i></label>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <p class="card-description">\n                        ').concat(r("Address"),'\n                    </p>\n                    <div class="row">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label"> ').concat(r("Address 1"),'</label>\n                          <div class="col-sm-9">\n                            <input id="addr1" type="text" class="form-control inp" name="addr1" data-type="text">\n                          </div>\n                        </div>\n                      </div>\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("State"),'</label>\n                          <div class="col-sm-9">\n                            <input id="state" type="text" class="form-control inp" name="state" data-type="text">\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class="row">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Address 2"),'</label>\n                          <div class="col-sm-9">\n                            <input id="addr2" type="text" class="form-control inp" name="addr2" data-type="text">\n                          </div>\n                        </div>\n                      </div>\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Postcode"),'</label>\n                          <div class="col-sm-9">\n                            <input id="post" type="text" class="form-control inp" name="post" data-type="text">\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class="row">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("City"),'</label>\n                          <div class="col-sm-9">\n                            <input id="city" type="text" class="form-control inp" name="city" data-type="text">\n                          </div>\n                        </div>\n                      </div>\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Country"),'</label>\n                          <div class="col-sm-9">\n                            <select id="country" class="form-select inp" name="country" data-type="select">\n                              \n                            </select>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <br>\n                    <hr>\n                    <br>\n                    <br>\n                    </div>\n                    <div class="tab-pane fade" id="nav-payout" role="tabpanel" aria-labelledby="nav-payout-link">\n                    <h4 id="h-payout" class="card-title mb-4" title="payouts">').concat(r("Payout data"),'</h4>\n                    <p class="card-description">').concat(r("This information is used to process your earnings as part of Kenzap Affiliate or Kenzap Designing programs."),'</p>\n\n                    <div class="row">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Bank account holder's name"),'</label>\n                          <div class="col-sm-9">\n                            <input id="y1" type="text" class="form-control inp" name="y1" minlength="2" data-type="text">\n                          </div>\n                        </div>\n                      </div>\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("IBAN/Account Nr."),'</label>\n                          <div class="col-sm-9">\n                            <input id="y2" type="text" class="form-control inp" name="y2" minlength="2" data-type="text">\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class="row">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("SWIFT Code"),'</label>\n                          <div class="col-sm-9">\n                            <input id="y3" type="text" class="form-control inp" name="y3" data-type="text">\n                          </div>\n                        </div>\n                      </div>\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Bank name"),'</label>\n                          <div class="col-sm-9">\n                            <input id="y4" type="text" class="form-control inp" name="y4" data-type="text">\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class="row">\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Bank branch city"),'</label>\n                          <div class="col-sm-9">\n                            <input id="y5" type="text" class="form-control inp" name="y5" data-type="text">\n                          </div>\n                        </div>\n                      </div>\n                      <div class="col-lg-6">\n                        <div class="form-group row mb-3 mt-1">\n                          <label class="col-sm-3 col-form-label">').concat(r("Bank branch country"),'</label>\n                          <div class="col-sm-9">\n                            <select id="y6" class="form-select inp" name="y6" data-type="select">\n                              \n                            </select>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n        </div>\n    </div>\n    \n    <div class="position-fixed bottom-0 p-2 m-4 end-0 align-items-center" >   \n      <div class="toast hide align-items-center text-white bg-dark border-0" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="3000">\n        <div class="d-flex">  \n          <div class="toast-body"></div>\n          <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>\n        </div>\n      </div>\n    </div>\n    '))})),t(this,"render",(function(e){n.state.response=e,n.state.firstLoad&&(e=>{let t='<ol class="breadcrumb mt-2 mb-0">';for(let n of e)void 0===n.link?t+=`<li class="breadcrumb-item">${n.text}</li>`:t+=`<li class="breadcrumb-item"><a href="${n.link}">${n.text}</a></li>`;t+="</ol>",document.querySelector(".bc").innerHTML=t})([{link:d("https://dashboard.kenzap.cloud"),text:r("Home")},{link:d("/"),text:r("E-commerce")},{text:r("Settings")}]);var t,a='<option value="">'+r("Choose currency")+"</option>",o=l([{name:"Afghan Afghani",code:"AFA",symbol:"؋"},{name:"Albanian Lek",code:"ALL",symbol:"Lek"},{name:"Algerian Dinar",code:"DZD",symbol:"دج"},{name:"Angolan Kwanza",code:"AOA",symbol:"Kz"},{name:"Argentine Peso",code:"ARS",symbol:"$"},{name:"Armenian Dram",code:"AMD",symbol:"֏"},{name:"Aruban Florin",code:"AWG",symbol:"ƒ"},{name:"Australian Dollar",code:"AUD",symbol:"$"},{name:"Azerbaijani Manat",code:"AZN",symbol:"m"},{name:"Bahamian Dollar",code:"BSD",symbol:"B$"},{name:"Bahraini Dinar",code:"BHD",symbol:".د.ب"},{name:"Bangladeshi Taka",code:"BDT",symbol:"৳"},{name:"Barbadian Dollar",code:"BBD",symbol:"Bds$"},{name:"Belarusian Ruble",code:"BYR",symbol:"Br"},{name:"Belgian Franc",code:"BEF",symbol:"fr"},{name:"Belize Dollar",code:"BZD",symbol:"$"},{name:"Bermudan Dollar",code:"BMD",symbol:"$"},{name:"Bhutanese Ngultrum",code:"BTN",symbol:"Nu."},{name:"Bitcoin",code:"BTC",symbol:"฿"},{name:"Bolivian Boliviano",code:"BOB",symbol:"Bs."},{name:"Bosnia-Herzegovina Convertible Mark",code:"BAM",symbol:"KM"},{name:"Botswanan Pula",code:"BWP",symbol:"P"},{name:"Brazilian Real",code:"BRL",symbol:"R$"},{name:"British Pound Sterling",code:"GBP",symbol:"£"},{name:"Brunei Dollar",code:"BND",symbol:"B$"},{name:"Bulgarian Lev",code:"BGN",symbol:"Лв."},{name:"Burundian Franc",code:"BIF",symbol:"FBu"},{name:"Cambodian Riel",code:"KHR",symbol:"KHR"},{name:"Canadian Dollar",code:"CAD",symbol:"$"},{name:"Cape Verdean Escudo",code:"CVE",symbol:"$"},{name:"Cayman Islands Dollar",code:"KYD",symbol:"$"},{name:"CFA Franc BCEAO",code:"XOF",symbol:"CFA"},{name:"CFA Franc BEAC",code:"XAF",symbol:"FCFA"},{name:"CFP Franc",code:"XPF",symbol:"₣"},{name:"Chilean Peso",code:"CLP",symbol:"$"},{name:"Chinese Yuan",code:"CNY",symbol:"¥"},{name:"Colombian Peso",code:"COP",symbol:"$"},{name:"Comorian Franc",code:"KMF",symbol:"CF"},{name:"Congolese Franc",code:"CDF",symbol:"FC"},{name:"Costa Rican Colón",code:"CRC",symbol:"₡"},{name:"Croatian Kuna",code:"HRK",symbol:"kn"},{name:"Cuban Convertible Peso",code:"CUC",symbol:"$, CUC"},{name:"Czech Republic Koruna",code:"CZK",symbol:"Kč"},{name:"Danish Krone",code:"DKK",symbol:"Kr."},{name:"Djiboutian Franc",code:"DJF",symbol:"Fdj"},{name:"Dominican Peso",code:"DOP",symbol:"$"},{name:"East Caribbean Dollar",code:"XCD",symbol:"$"},{name:"Egyptian Pound",code:"EGP",symbol:"ج.م"},{name:"Eritrean Nakfa",code:"ERN",symbol:"Nfk"},{name:"Estonian Kroon",code:"EEK",symbol:"kr"},{name:"Ethiopian Birr",code:"ETB",symbol:"Nkf"},{name:"Euro",code:"EUR",symbol:"€"},{name:"Falkland Islands Pound",code:"FKP",symbol:"£"},{name:"Fijian Dollar",code:"FJD",symbol:"FJ$"},{name:"Gambian Dalasi",code:"GMD",symbol:"D"},{name:"Georgian Lari",code:"GEL",symbol:"ლ"},{name:"German Mark",code:"DEM",symbol:"DM"},{name:"Ghanaian Cedi",code:"GHS",symbol:"GH₵"},{name:"Gibraltar Pound",code:"GIP",symbol:"£"},{name:"Greek Drachma",code:"GRD",symbol:"₯, Δρχ, Δρ"},{name:"Guatemalan Quetzal",code:"GTQ",symbol:"Q"},{name:"Guinean Franc",code:"GNF",symbol:"FG"},{name:"Guyanaese Dollar",code:"GYD",symbol:"$"},{name:"Haitian Gourde",code:"HTG",symbol:"G"},{name:"Honduran Lempira",code:"HNL",symbol:"L"},{name:"Hong Kong Dollar",code:"HKD",symbol:"$"},{name:"Hungarian Forint",code:"HUF",symbol:"Ft"},{name:"Icelandic króna",code:"ISK",symbol:"kr"},{name:"Indian Rupee",code:"INR",symbol:"₹"},{name:"Indonesian Rupiah",code:"IDR",symbol:"Rp"},{name:"Iranian Rial",code:"IRR",symbol:"﷼"},{name:"Iraqi Dinar",code:"IQD",symbol:"د.ع"},{name:"Israeli New Sheqel",code:"ILS",symbol:"₪"},{name:"Italian Lira",code:"ITL",symbol:"L,£"},{name:"Jamaican Dollar",code:"JMD",symbol:"J$"},{name:"Japanese Yen",code:"JPY",symbol:"¥"},{name:"Jordanian Dinar",code:"JOD",symbol:"ا.د"},{name:"Kazakhstani Tenge",code:"KZT",symbol:"лв"},{name:"Kenyan Shilling",code:"KES",symbol:"KSh"},{name:"Kuwaiti Dinar",code:"KWD",symbol:"ك.د"},{name:"Kyrgystani Som",code:"KGS",symbol:"лв"},{name:"Laotian Kip",code:"LAK",symbol:"₭"},{name:"Latvian Lats",code:"LVL",symbol:"Ls"},{name:"Lebanese Pound",code:"LBP",symbol:"£"},{name:"Lesotho Loti",code:"LSL",symbol:"L"},{name:"Liberian Dollar",code:"LRD",symbol:"$"},{name:"Libyan Dinar",code:"LYD",symbol:"د.ل"},{name:"Lithuanian Litas",code:"LTL",symbol:"Lt"},{name:"Macanese Pataca",code:"MOP",symbol:"$"},{name:"Macedonian Denar",code:"MKD",symbol:"ден"},{name:"Malagasy Ariary",code:"MGA",symbol:"Ar"},{name:"Malawian Kwacha",code:"MWK",symbol:"MK"},{name:"Malaysian Ringgit",code:"MYR",symbol:"RM"},{name:"Maldivian Rufiyaa",code:"MVR",symbol:"Rf"},{name:"Mauritanian Ouguiya",code:"MRO",symbol:"MRU"},{name:"Mauritian Rupee",code:"MUR",symbol:"₨"},{name:"Mexican Peso",code:"MXN",symbol:"$"},{name:"Moldovan Leu",code:"MDL",symbol:"L"},{name:"Mongolian Tugrik",code:"MNT",symbol:"₮"},{name:"Moroccan Dirham",code:"MAD",symbol:"MAD"},{name:"Mozambican Metical",code:"MZM",symbol:"MT"},{name:"Myanmar Kyat",code:"MMK",symbol:"K"},{name:"Namibian Dollar",code:"NAD",symbol:"$"},{name:"Nepalese Rupee",code:"NPR",symbol:"₨"},{name:"Netherlands Antillean Guilder",code:"ANG",symbol:"ƒ"},{name:"New Taiwan Dollar",code:"TWD",symbol:"$"},{name:"New Zealand Dollar",code:"NZD",symbol:"$"},{name:"Nicaraguan Córdoba",code:"NIO",symbol:"C$"},{name:"Nigerian Naira",code:"NGN",symbol:"₦"},{name:"North Korean Won",code:"KPW",symbol:"₩"},{name:"Norwegian Krone",code:"NOK",symbol:"kr"},{name:"Omani Rial",code:"OMR",symbol:".ع.ر"},{name:"Pakistani Rupee",code:"PKR",symbol:"₨"},{name:"Panamanian Balboa",code:"PAB",symbol:"B/."},{name:"Papua New Guinean Kina",code:"PGK",symbol:"K"},{name:"Paraguayan Guarani",code:"PYG",symbol:"₲"},{name:"Peruvian Nuevo Sol",code:"PEN",symbol:"S/."},{name:"Philippine Peso",code:"PHP",symbol:"₱"},{name:"Polish Zloty",code:"PLN",symbol:"zł"},{name:"Qatari Rial",code:"QAR",symbol:"ق.ر"},{name:"Romanian Leu",code:"RON",symbol:"lei"},{name:"Russian Ruble",code:"RUB",symbol:"₽"},{name:"Rwandan Franc",code:"RWF",symbol:"FRw"},{name:"Salvadoran Colón",code:"SVC",symbol:"₡"},{name:"Samoan Tala",code:"WST",symbol:"SAT"},{name:"Saudi Riyal",code:"SAR",symbol:"﷼"},{name:"Serbian Dinar",code:"RSD",symbol:"din"},{name:"Seychellois Rupee",code:"SCR",symbol:"SRe"},{name:"Sierra Leonean Leone",code:"SLL",symbol:"Le"},{name:"Singapore Dollar",code:"SGD",symbol:"$"},{name:"Slovak Koruna",code:"SKK",symbol:"Sk"},{name:"Solomon Islands Dollar",code:"SBD",symbol:"Si$"},{name:"Somali Shilling",code:"SOS",symbol:"Sh.so."},{name:"South African Rand",code:"ZAR",symbol:"R"},{name:"South Korean Won",code:"KRW",symbol:"₩"},{name:"Special Drawing Rights",code:"XDR",symbol:"SDR"},{name:"Sri Lankan Rupee",code:"LKR",symbol:"Rs"},{name:"St. Helena Pound",code:"SHP",symbol:"£"},{name:"Sudanese Pound",code:"SDG",symbol:".س.ج"},{name:"Surinamese Dollar",code:"SRD",symbol:"$"},{name:"Swazi Lilangeni",code:"SZL",symbol:"E"},{name:"Swedish Krona",code:"SEK",symbol:"kr"},{name:"Swiss Franc",code:"CHF",symbol:"CHf"},{name:"Syrian Pound",code:"SYP",symbol:"LS"},{name:"São Tomé and Príncipe Dobra",code:"STD",symbol:"Db"},{name:"Tajikistani Somoni",code:"TJS",symbol:"SM"},{name:"Tanzanian Shilling",code:"TZS",symbol:"TSh"},{name:"Thai Baht",code:"THB",symbol:"฿"},{name:"Tongan Pa'anga",code:"TOP",symbol:"$"},{name:"Trinidad & Tobago Dollar",code:"TTD",symbol:"$"},{name:"Tunisian Dinar",code:"TND",symbol:"ت.د"},{name:"Turkish Lira",code:"TRY",symbol:"₺"},{name:"Turkmenistani Manat",code:"TMT",symbol:"T"},{name:"Ugandan Shilling",code:"UGX",symbol:"USh"},{name:"Ukrainian Hryvnia",code:"UAH",symbol:"₴"},{name:"United Arab Emirates Dirham",code:"AED",symbol:"إ.د"},{name:"Uruguayan Peso",code:"UYU",symbol:"$"},{name:"US Dollar",code:"USD",symbol:"$"},{name:"Uzbekistan Som",code:"UZS",symbol:"лв"},{name:"Vanuatu Vatu",code:"VUV",symbol:"VT"},{name:"Venezuelan  Bolívar",code:"VEF",symbol:"Bs"},{name:"Vietnamese Dong",code:"VND",symbol:"₫"},{name:"Yemeni Rial",code:"YER",symbol:"﷼"},{name:"Zambian Kwacha",code:"ZMK",symbol:"ZK"}]);try{for(o.s();!(t=o.n()).done;){var c=t.value;a+='<option value="'.concat(c.code,'">').concat(r(c.name)," (").concat(r(c.code),")</option>")}}catch(e){o.e(e)}finally{o.f()}for(var s in document.querySelector("#currency").innerHTML=a,e.settings)if(void 0!==e.settings[s]&&""!=e.settings[s]&&document.querySelector("[name='"+s+"']"))switch(document.querySelector("[name='"+s+"']").dataset.type){case"text":case"email":case"emails":case"select":case"textarea":document.querySelector("#"+s).value=e.settings[s];break;case"checkbox":document.querySelector("#"+s).checked="1"==e.settings[s];break;case"radio":document.querySelector("[name='"+s+"'][value='"+e.settings[s]+"']").checked=!0}var i,m=l(document.querySelectorAll(".inp-local"));try{for(m.s();!(i=m.n()).done;){var p=i.value;switch(document.querySelector("[name='"+p.name+"']").dataset.type){case"text":case"email":case"emails":case"select":case"textarea":p.value=localStorage.hasOwnProperty(p.name)?localStorage.getItem(p.name):"";break;case"checkbox":console.log(!!localStorage.hasOwnProperty(p.name)&&localStorage.getItem(p.name)),p.checked=!!localStorage.hasOwnProperty(p.name)&&"true"==localStorage.getItem(p.name)}}}catch(e){m.e(e)}finally{m.f()}M.init(n),e.settings.webhooks&&e.settings.webhooks.forEach((function(e,t){document.querySelector('[name="webhook1_trigger"]').value=e.trigger,document.querySelector('[name="webhook1_url"]').value=e.url}))})),t(this,"initListeners",(function(){n.state.firstLoad&&f(".btn-save",n.saveSettings)})),t(this,"listeners",{removeProduct:function(e){e.preventDefault(),confirm(r("Completely remove this product?"))&&fetch("https://api-v1.kenzap.cloud/",{method:"post",headers:v(),body:JSON.stringify({query:{product:{type:"delete",key:"product",id:e.currentTarget.dataset.id}}})}).then((function(e){return e.json()})).then((function(e){e.success?n.getData():y(e)})).catch((function(e){y(e)}))},searchProductsActivate:function(e){e.preventDefault(),document.querySelector(".table-p-list thead tr th:nth-child(2) span").style.display="none",document.querySelector(".table-p-list thead tr th:nth-child(2) .search-cont").style.display="flex",document.querySelector(".table-p-list thead tr th:nth-child(2) .search-cont input").focus(),((e,t)=>{if(document.querySelector(e))for(let n of document.querySelectorAll(e))n.removeEventListener("keyup",t,!0),n.addEventListener("keyup",t,!0)})(".table-p-list thead tr th:nth-child(2) .search-cont input",n.listeners.searchProducts)},searchProducts:function(e){e.preventDefault(),n.getData()},modalSuccessBtn:function(e){n.listeners.modalSuccessBtnFunc(e)},modalSuccessBtnFunc:null}),t(this,"saveSettings",(function(e){e.preventDefault();var t,a={},o=l(document.querySelectorAll(".inp"));try{for(o.s();!(t=o.n()).done;){var c=t.value;switch(c.dataset.type){case"text":case"email":case"emails":case"select":case"textarea":a[c.id]=c.value;break;case"checkbox":a[c.id]=c.checked?c.value:"";break;case"radio":a[c.name]=c.parentElement.parentElement.parentElement.parentElement.querySelector("input:checked").value}}}catch(e){o.e(e)}finally{o.f()}var s,i=l(document.querySelectorAll(".inp-local"));try{for(i.s();!(s=i.n()).done;){var r=s.value;switch(document.querySelector("[name='"+r.name+"']").dataset.type){case"text":case"email":case"emails":case"select":case"textarea":localStorage.setItem(r.name,r.value);break;case"checkbox":localStorage.setItem(r.name,r.checked)}}}catch(e){i.e(e)}finally{i.f()}n.state.response.settings.last_order_id==a.last_order_id&&delete a.last_order_id,a.printers&&(a.printers=JSON.parse(a.printers)),(a=M.save(n,a)).webhooks=[];var d,m=l(document.querySelectorAll(".webhook-list"));try{for(m.s();!(d=m.n()).done;){var p=d.value,u={};u.trigger=p.querySelector(".webhook_trigger").value,u.url=p.querySelector(".webhook_url").value,a.webhooks.push(u)}}catch(e){m.e(e)}finally{m.f()}console.log(a),fetch("https://api-v1.kenzap.cloud/",{method:"post",headers:v(),body:JSON.stringify({query:{settings:{type:"set",key:"ecommerce-settings",data:a}}})}).then((function(e){return e.json()})).then((function(e){e.success?g("Changes applied"):y(e)})).catch((function(e){y(e)}))})),t(this,"initFooter",(function(){A(r("Created by %1$Kenzap%2$. ❤️ Licensed %3$GPL3%4$.",'<a class="text-muted" href="https://kenzap.com/" target="_blank">',"</a>",'<a class="text-muted" href="https://github.com/kenzap/ecommerce" target="_blank">',"</a>"))})),this.state={firstLoad:!0,response:null,limit:10},this.getData()},x&&e(w.prototype,x),_&&e(w,_),Object.defineProperty(w,"prototype",{writable:!1}),w);new z}();
