{"version":3,"file":"index.js","sources":["../../node_modules/@kenzap/k-cloud/index.js","../../src/_/_helpers.js","../../src/_/_cnt_settings.js","../../src/_/_print.js","../../src/_/_printer_settings.js","../../src/settings/index.js"],"sourcesContent":["/**\n * @name initHeader\n * @description Initiates Kenzap Cloud extension header and related scripts. Verifies user sessions, handles SSO, does cloud space navigation, initializes i18n localization. \n * @param {object} response\n */\nexport const initHeader = (response) => {\n\n    // cache header from backend\n    if(response.header) localStorage.setItem('header', response.header);\n\n    // cache CDN link\n    if(response.cdn) localStorage.setItem('cdn', response.cdn);\n  \n    // load header to html if not present\n    if(!document.querySelector(\"#k-script\")){\n  \n        let child = document.createElement('div');\n        child.innerHTML = localStorage.getItem('header');\n        child = child.firstChild;\n        document.body.prepend(child);\n  \n        // run header scripts\n        Function(document.querySelector(\"#k-script\").innerHTML).call('test');\n    }\n  \n    // load locales if present\n    if(response.locale) window.i18n.init(response.locale); \n}\n\n/*\n * Translates string based on preloaded i18n locale values.\n * \n * @param text {String} text to translate\n * @param p {String} list of parameters, to be replaced with %1$, %2$..\n * @returns {String} - text\n */\nexport const __init = (locale) => {\n\n    if(typeof locale !== 'object' || locale === null) return;\n\n    if(typeof window.i18n === 'undefined') window.i18n = {};\n\n    if(typeof window.i18n.state === 'undefined') window.i18n.state = { locale: {} };\n   \n    window.i18n.state.locale = locale;\n}\n\n/*\n * Translates string based on preloaded i18n locale values.\n * \n * @param text {String} text to translate\n * @param p {String} list of parameters, to be replaced with %1$, %2$..\n * @returns {String} - text\n */\nexport const __ = (text, ...p) => {\n\n    let match = (input, pa) => {\n\n        pa.forEach((p, i) => { input = input.replace('%'+(i+1)+'$', p); }); \n        \n        return input;\n    }\n\n    if(typeof window.i18n === 'undefined') return match(text, p);\n    if(window.i18n.state.locale.values[text] === undefined) return match(text, p);\n\n\n\n    return match(window.i18n.state.locale.values[text], p);\n}\n\n/*\n * Translates string based on preloaded i18n locale values.\n * \n * @param text {String} text to translate\n * @param cb {Function} callback function to escape text variable\n * @param p {String} list of parameters, to be replaced with %1$, %2$..\n * @returns {String} - text\n */\nconst __esc = (text, cb, ...p) => {\n\n    let match = (input, pa) => {\n\n        pa.forEach((p, i) => { input = input.replace('%'+(i+1)+'$', p); }); \n        \n        return input;\n    }\n\n    if(typeof window.i18n === 'undefined') return match(text, p);\n    if(window.i18n.state.locale.values[text] === undefined) return match(text, p);\n\n    return match(cb(window.i18n.state.locale.values[text]), p);\n}\n\n/*\n * Converts special characters `&`, `<`, `>`, `\"`, `'` to HTML entities.\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const attr = (text) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    return text.replace(/[&<>'\"]/g, tag => (\n        {\n            '&': '&amp;',\n            '<': '&lt;',\n            '>': '&gt;',\n            \"'\": '&apos;',\n            '\"': '&quot;'\n        } [tag]));\n}\n\n/*\n * Converts special characters `&`, `<`, `>`, `\"`, `'` to HTML entities and does translation\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const __attr = (text, ...p) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    let cb = (text) => {\n\n        return text.replace(/[<>'\"]/g, tag => (\n            {\n                '&': '&amp;',\n                '<': '&lt;',\n                '>': '&gt;',\n                \"'\": '&apos;',\n                '\"': '&quot;'\n            } [tag]));\n    }\n\n    return __esc(text, cb, ...p);\n}\n\n/*\n * Removes special characters `<`, `>`, `\"`, `'` from the link.\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const src = (text) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    return text.replace(/[<>'\"]/g, tag => (\n        {\n            '<': '&lt;',\n            '>': '&gt;',\n            \"'\": '&apos;',\n            '\"': '&quot;'\n        } [tag]));\n    \n}\n\n/*\n * Converts special characters `<`, `>`, `\"`, `'` from the link and does translation\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const __src = (text, ...p) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    let cb = (text) => {\n\n        return text.replace(/[<>'\"]/g, tag => (\n            {\n                '<': '&lt;',\n                '>': '&gt;',\n                \"'\": '&apos;',\n                '\"': '&quot;'\n            } [tag]));\n    }\n\n    return __esc(text, cb, ...p);\n}\n\n/*\n * Converts special characters `&`, `<`, `>`, `\"`, `'` to HTML entities.\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const html = (text) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    return text.replace(/[&<>'\"]/g, tag => (\n        {\n            '&': '&amp;',\n            '<': '&lt;',\n            '>': '&gt;',\n            \"'\": '&apos;',\n            '\"': '&quot;'\n        } [tag]));\n}\n\n/*\n * Converts special characters `&`, `<`, `>`, `\"`, `'` to HTML entities and does translations\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const __html = (text, ...p) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    let cb = (text) => {\n\n        return text.replace(/[&<>'\"]/g, tag => (\n            {\n                '&': '&amp;',\n                '<': '&lt;',\n                '>': '&gt;',\n                \"'\": '&apos;',\n                '\"': '&quot;'\n            } [tag]));\n    }\n\n    return __esc(text, cb, ...p);\n}\n\n/**\n * @name showLoader\n * @description Initiates full screen three dots loader.\n */\nexport const showLoader = () => {\n\n    let el = document.querySelector(\".loader\");\n    if (el) el.style.display = 'block';\n}\n\n/**\n * @name hideLoader\n * @description Removes full screen three dots loader.\n */\nexport const hideLoader = () => {\n\n    let el = document.querySelector(\".loader\");\n    if (el) el.style.display = 'none';\n}\n\n/**\n * @name initFooter\n * @description Removes full screen three dots loader.\n * @param {string} left - Text or html code to be present on the left bottom side of screen\n * @param {string} right - Text or html code to be present on the left bottom side of screen\n */\nexport const initFooter = (left, right) => {\n\n    document.querySelector(\"footer .row\").innerHTML = `\n    <div class=\"d-sm-flex justify-content-center justify-content-sm-between\">\n        <span class=\"text-muted text-center text-sm-left d-block d-sm-inline-block\">${left}</span>\n        <span class=\"float-none float-sm-right d-block mt-1 mt-sm-0 text-center text-muted\">${right}</span>\n    </div>`;\n}\n\n/**\n * @name link\n * @description Handles Cloud navigation links between extensions and its pages. Takes care of custom url parameters.\n * @param {string} slug - Any inbound link\n * \n * @returns {string} link - Returns original link with kenzp cloud space ID identifier.\n */\nexport const link = (slug) => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let sid = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    let postfix = slug.indexOf('?') == -1 ? '?sid='+sid : '&sid='+sid;\n\n    return slug + postfix;\n}\n\n/**\n * @name getSiteId\n * @description Gets current Kenzap Cloud space ID identifier from the URL.\n * \n * @returns {string} id - Kenzap Cloud space ID.\n */\nexport const getSiteId = () => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let id = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    return id;\n}\n\n/**\n * @name spaceID\n * @description Gets current Kenzap Cloud space ID identifier from the URL.\n * \n * @returns {string} id - Kenzap Cloud space ID.\n */\n export const spaceID = () => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let id = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    return id;\n}\n\n/**\n * @name setCookie\n * @description Set cookie by its name to all .kenzap.cloud subdomains\n * @param {string} name - Cookie name.\n * @param {string} value - Cookie value.\n * @param {string} days - Number of days when cookie expires.\n */\n export const setCookie = (name, value, days) => {\n\n    let expires = \"\";\n    if (days) {\n        let date = new Date();\n        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n        expires = \";expires=\" + date.toUTCString();\n    }\n    document.cookie = name + \"=\" + (escape(value) || \"\") + expires + \";path=/;domain=.kenzap.cloud\"; \n}\n\n/**\n * @name getCookie\n * @description Read cookie by its name.\n * @param {string} cname - Cookie name.\n * \n * @returns {string} value - Cookie value.\n */\nexport const getCookie = (cname) => {\n\n    let name = cname + \"=\";\n    let decodedCookie = decodeURIComponent(document.cookie);\n    let ca = decodedCookie.split(';');\n    for (let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) == ' ') {\n            c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n            return c.substring(name.length, c.length);\n        }\n    }\n    return \"\";\n}\n\n/**\n * @name checkHeader\n * @description This function tracks UI updates, creates header version checksum and compares it after every page reload\n * @param {object} object - API response.\n */\n export const checkHeader = () => {\n\n    let version = (localStorage.hasOwnProperty('header') && localStorage.hasOwnProperty('header-version')) ? localStorage.getItem('header-version') : 0;\n    let check = window.location.hostname + '/' + spaceID() + '/' + getCookie('locale');\n    if(check != getCookie('check')){ version = 0; console.log('refresh'); }\n    \n    setCookie('check', check, 5);\n\n    return version\n}\n\n/**\n * @name headers\n * @description Default headers object for all Kenzap Cloud fetch queries.\n * @param {object} headers\n */\n export const H = () => {\n\n    return {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + getCookie('kenzap_api_key'),\n        'Kenzap-Locale': getCookie('locale') ? getCookie('locale') : \"en\",\n        'Kenzap-Header': checkHeader(),\n        'Kenzap-Token': getCookie('kenzap_token'),\n        'Kenzap-Sid': spaceID()\n    }\n}\n\n/**\n * @name headers\n * @description Default headers object for all Kenzap Cloud fetch queries. \n * @param {object} headers\n * @deprecated\n */\n export const headers = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    'Authorization': 'Bearer ' + getCookie('kenzap_api_key'),\n    'Kenzap-Locale': getCookie('locale') ? getCookie('locale') : \"en\",\n    'Kenzap-Header': checkHeader(),\n    'Kenzap-Token': getCookie('kenzap_token'),\n    'Kenzap-Sid': spaceID(),\n}\n\n/**\n * @name parseApiError\n * @description Set default logics for different API Error responses.\n * @param {object} object - API response.\n */\n export const parseApiError = (data) => {\n\n    // outout to frontend console\n    console.log(data);\n\n    // unstructured failure\n    if(isNaN(data.code)){\n    \n        // structure failure data\n        let log = data;\n        try{ log = JSON.stringify(log); }catch(e){ }\n\n        let params = new URLSearchParams();\n        params.append(\"cmd\", \"report\");\n        params.append(\"sid\", spaceID());\n        params.append(\"token\", getCookie('kenzap_token'));\n        params.append(\"data\", log);\n        \n        // report error\n        fetch('https://api-v1.kenzap.cloud/error/', { method: 'post', headers: { 'Accept': 'application/json', 'Content-type': 'application/x-www-form-urlencoded', }, body: params });\n\n        alert('Can not connect to Kenzap Cloud');  \n        return;\n    }\n    \n    // handle cloud error codes\n    switch(data.code){\n\n        // unauthorized\n        case 401:\n\n            // dev mode\n            if(window.location.href.indexOf('localhost')!=-1){ \n\n                alert(data.reason); \n                return; \n            }\n\n            // production mode\n            location.href=\"https://auth.kenzap.com/?app=65432108792785&redirect=\"+encodeURIComponent(window.location.href); break;\n        \n        // something else\n        default:\n\n            alert(data.reason); \n            break;\n    }\n}\n\n/**\n * @name CDN\n * @description Returns CDN URL of Kenzap Cloud file storage\n * @param {String} region - Default location Singapore. TODO, override by region variable\n */\nexport const CDN = (region = '') => {\n\n    if(localStorage.getItem('cdn')) return localStorage.getItem('cdn');\n\n    return 'https://kenzap-sites.oss-ap-southeast-1.aliyuncs.com';\n}\n\n/**\n * @name initBreadcrumbs\n * @description Render ui breadcrumbs.\n * @param {array} data - List of link objects containing link text and url. If url is missing then renders breadcrumb as static text. Requires html holder with .bc class.\n */\nexport const initBreadcrumbs = (data) => {\n\n    let html = '<ol class=\"breadcrumb mt-2 mb-0\">';\n    for(let bc of data){\n        \n        if(typeof(bc.link) === 'undefined'){\n\n            html += `<li class=\"breadcrumb-item\">${ bc.text }</li>`;\n        }else{\n\n            html += `<li class=\"breadcrumb-item\"><a href=\"${ bc.link }\">${ bc.text }</a></li>`;\n        }\n    }\n    html += '</ol>';\n    \n    document.querySelector(\".bc\").innerHTML = html;\n}\n\n/**\n * @name onClick\n * @description One row click event listener declaration. Works with one or many HTML selectors.\n * @param {string} sel - HTML selector, id, class, etc.\n * @param {string} fn - callback function fired on click event.\n */\nexport const onClick = (sel, fn) => {\n\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('click', fn, true);\n        e.addEventListener('click', fn, true);\n    }\n}\n\n/**\n * @name onKeyUp\n * @description One row key up event listener declaration. Works with one or many HTML selectors.\n * @param {string} sel - HTML selector, id, class, etc.\n * @param {string} fn - callback function fired on click event.\n */\nexport const onKeyUp = (sel, fn) => {\n\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('keyup', fn, true);\n        e.addEventListener('keyup', fn, true);\n    }\n}\n\n/**\n * @name onChange\n * @description One row change event listener declaration. Works with one or many HTML selectors.\n * @param {string} sel - HTML selector, id, class, etc.\n * @param {string} fn - callback function fired on click event.\n */\nexport const onChange = (sel, fn) => {\n\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('change', fn, true);\n        e.addEventListener('change', fn, true);\n    }\n}\n\n/**\n * @name loadScript\n * @description Asynchronous script loader function.\n * @param {string} url - HTML selector, id, class, etc.\n * @param {string} cb - callback function fired immediately after script is loaded.\n */\n export const loadScript = (url, cb) => {\n\n    if (!Array.from(document.querySelectorAll('script')).some(elm => elm.src == url)) {\n      let script = document.createElement('script')\n      script.onload = cb\n      script.src = url\n      document.getElementsByTagName('head')[0].appendChild(script)\n    }\n}\n\n/**\n * @name simulateClick\n * @description Trigger on click event without user interaction.\n * @param {string} elem - HTML selector, id, class, etc.\n */\n export const simulateClick = (elem) => {\n\n\t// create our event (with options)\n\tlet evt = new MouseEvent('click', {\n\t\tbubbles: true,\n\t\tcancelable: true,\n\t\tview: window\n\t});\n\n\t// if cancelled, don't dispatch the event\n\t!elem.dispatchEvent(evt);\n};\n\n/**\n * Create a web friendly URL slug from a string.\n *\n * Requires XRegExp (http://xregexp.com) with unicode add-ons for UTF-8 support.\n *\n * Although supported, transliteration is discouraged because\n *     1) most web browsers support UTF-8 characters in URLs\n *     2) transliteration causes a loss of information\n *\n * @author Sean Murphy <sean@iamseanmurphy.com>\n * @copyright Copyright 2012 Sean Murphy. All rights reserved.\n * @license http://creativecommons.org/publicdomain/zero/1.0/\n *\n * @param string s\n * @param object opt\n * @return string\n */\n export const slugify = (s, opt) => {\n\n\ts = String(s);\n\topt = Object(opt);\n\t\n\tvar defaults = {\n\t\t'delimiter': '-',\n\t\t'limit': undefined,\n\t\t'lowercase': true,\n\t\t'replacements': {},\n\t\t'transliterate': (typeof(XRegExp) === 'undefined') ? true : false\n\t};\n\t\n\t// Merge options\n\tfor (var k in defaults) {\n\t\tif (!opt.hasOwnProperty(k)) {\n\t\t\topt[k] = defaults[k];\n\t\t}\n\t}\n\t\n\tvar char_map = {\n\t\t// Latin\n\t\t'À': 'A', 'Á': 'A', 'Â': 'A', 'Ã': 'A', 'Ä': 'A', 'Å': 'A', 'Æ': 'AE', 'Ç': 'C', \n\t\t'È': 'E', 'É': 'E', 'Ê': 'E', 'Ë': 'E', 'Ì': 'I', 'Í': 'I', 'Î': 'I', 'Ï': 'I', \n\t\t'Ð': 'D', 'Ñ': 'N', 'Ò': 'O', 'Ó': 'O', 'Ô': 'O', 'Õ': 'O', 'Ö': 'O', 'Å': 'O', \n\t\t'Ø': 'O', 'Ù': 'U', 'Ú': 'U', 'Û': 'U', 'Ü': 'U', 'Å°': 'U', 'Ý': 'Y', 'Þ': 'TH', \n\t\t'ß': 'ss', \n\t\t'à': 'a', 'á': 'a', 'â': 'a', 'ã': 'a', 'ä': 'a', 'å': 'a', 'æ': 'ae', 'ç': 'c', \n\t\t'è': 'e', 'é': 'e', 'ê': 'e', 'ë': 'e', 'ì': 'i', 'í': 'i', 'î': 'i', 'ï': 'i', \n\t\t'ð': 'd', 'ñ': 'n', 'ò': 'o', 'ó': 'o', 'ô': 'o', 'õ': 'o', 'ö': 'o', 'Å': 'o', \n\t\t'ø': 'o', 'ù': 'u', 'ú': 'u', 'û': 'u', 'ü': 'u', 'Å±': 'u', 'ý': 'y', 'þ': 'th', \n\t\t'ÿ': 'y',\n\n\t\t// Latin symbols\n\t\t'©': '(c)',\n\n\t\t// Greek\n\t\t'Α': 'A', 'Β': 'B', 'Γ': 'G', 'Δ': 'D', 'Ε': 'E', 'Ζ': 'Z', 'Η': 'H', 'Θ': '8',\n\t\t'Ι': 'I', 'Κ': 'K', 'Λ': 'L', 'Μ': 'M', 'Ν': 'N', 'Ξ': '3', 'Ο': 'O', 'Π': 'P',\n\t\t'Ρ': 'R', 'Σ': 'S', 'Τ': 'T', 'Υ': 'Y', 'Φ': 'F', 'Χ': 'X', 'Ψ': 'PS', 'Ω': 'W',\n\t\t'Î': 'A', 'Î': 'E', 'Î': 'I', 'Î': 'O', 'Î': 'Y', 'Î': 'H', 'Î': 'W', 'Îª': 'I',\n\t\t'Î«': 'Y',\n\t\t'α': 'a', 'β': 'b', 'γ': 'g', 'δ': 'd', 'ε': 'e', 'ζ': 'z', 'η': 'h', 'θ': '8',\n\t\t'ι': 'i', 'κ': 'k', 'λ': 'l', 'μ': 'm', 'ν': 'n', 'ξ': '3', 'ο': 'o', 'π': 'p',\n\t\t'ρ': 'r', 'σ': 's', 'τ': 't', 'υ': 'y', 'φ': 'f', 'χ': 'x', 'ψ': 'ps', 'ω': 'w',\n\t\t'Î¬': 'a', 'Î­': 'e', 'Î¯': 'i', 'Ï': 'o', 'Ï': 'y', 'Î®': 'h', 'Ï': 'w', 'ς': 's',\n\t\t'Ï': 'i', 'Î°': 'y', 'Ï': 'y', 'Î': 'i',\n\n\t\t// Turkish\n\t\t'Å': 'S', 'Ä°': 'I', 'Ç': 'C', 'Ü': 'U', 'Ö': 'O', 'Ä': 'G',\n\t\t'Å': 's', 'Ä±': 'i', 'ç': 'c', 'ü': 'u', 'ö': 'o', 'Ä': 'g', \n\n\t\t// Russian\n\t\t'Ð': 'A', 'Ð': 'B', 'Ð': 'V', 'Ð': 'G', 'Ð': 'D', 'Ð': 'E', 'Ð': 'Yo', 'Ð': 'Zh',\n\t\t'Ð': 'Z', 'Ð': 'I', 'Ð': 'J', 'Ð': 'K', 'Ð': 'L', 'Ð': 'M', 'Ð': 'N', 'Ð': 'O',\n\t\t'Ð': 'P', 'Ð ': 'R', 'Ð¡': 'S', 'Ð¢': 'T', 'Ð£': 'U', 'Ð¤': 'F', 'Ð¥': 'H', 'Ð¦': 'C',\n\t\t'Ð§': 'Ch', 'Ð¨': 'Sh', 'Ð©': 'Sh', 'Ðª': '', 'Ð«': 'Y', 'Ð¬': '', 'Ð­': 'E', 'Ð®': 'Yu',\n\t\t'Ð¯': 'Ya',\n\t\t'Ð°': 'a', 'Ð±': 'b', 'Ð²': 'v', 'Ð³': 'g', 'Ð´': 'd', 'Ðµ': 'e', 'Ñ': 'yo', 'Ð¶': 'zh',\n\t\t'Ð·': 'z', 'Ð¸': 'i', 'Ð¹': 'j', 'Ðº': 'k', 'Ð»': 'l', 'Ð¼': 'm', 'Ð½': 'n', 'Ð¾': 'o',\n\t\t'Ð¿': 'p', 'Ñ': 'r', 'Ñ': 's', 'Ñ': 't', 'Ñ': 'u', 'Ñ': 'f', 'Ñ': 'h', 'Ñ': 'c',\n\t\t'Ñ': 'ch', 'Ñ': 'sh', 'Ñ': 'sh', 'Ñ': '', 'Ñ': 'y', 'Ñ': '', 'Ñ': 'e', 'Ñ': 'yu',\n\t\t'Ñ': 'ya',\n\n\t\t// Ukrainian\n\t\t'Ð': 'Ye', 'Ð': 'I', 'Ð': 'Yi', 'Ò': 'G',\n\t\t'Ñ': 'ye', 'Ñ': 'i', 'Ñ': 'yi', 'Ò': 'g',\n\n\t\t// Czech\n\t\t'Ä': 'C', 'Ä': 'D', 'Ä': 'E', 'Å': 'N', 'Å': 'R', 'Š': 'S', 'Å¤': 'T', 'Å®': 'U', \n\t\t'Å½': 'Z', \n\t\t'Ä': 'c', 'Ä': 'd', 'Ä': 'e', 'Å': 'n', 'Å': 'r', 'š': 's', 'Å¥': 't', 'Å¯': 'u',\n\t\t'Å¾': 'z', \n\n\t\t// Polish\n\t\t'Ä': 'A', 'Ä': 'C', 'Ä': 'e', 'Å': 'L', 'Å': 'N', 'Ó': 'o', 'Å': 'S', 'Å¹': 'Z', \n\t\t'Å»': 'Z', \n\t\t'Ä': 'a', 'Ä': 'c', 'Ä': 'e', 'Å': 'l', 'Å': 'n', 'ó': 'o', 'Å': 's', 'Åº': 'z',\n\t\t'Å¼': 'z',\n\n\t\t// Latvian\n\t\t'Ä': 'A', 'Ä': 'C', 'Ä': 'E', 'Ä¢': 'G', 'Äª': 'i', 'Ä¶': 'k', 'Ä»': 'L', 'Å': 'N', \n\t\t'Š': 'S', 'Åª': 'u', 'Å½': 'Z', \n\t\t'Ä': 'a', 'Ä': 'c', 'Ä': 'e', 'Ä£': 'g', 'Ä«': 'i', 'Ä·': 'k', 'Ä¼': 'l', 'Å': 'n',\n\t\t'š': 's', 'Å«': 'u', 'Å¾': 'z'\n\t};\n\t\n\t// Make custom replacements\n\tfor (var k in opt.replacements) {\n\t\ts = s.replace(RegExp(k, 'g'), opt.replacements[k]);\n\t}\n\t\n\t// Transliterate characters to ASCII\n\tif (opt.transliterate) {\n\t\tfor (var k in char_map) {\n\t\t\ts = s.replace(RegExp(k, 'g'), char_map[k]);\n\t\t}\n\t}\n\t\n\t// Replace non-alphanumeric characters with our delimiter\n\tvar alnum = (typeof(XRegExp) === 'undefined') ? RegExp('[^a-z0-9]+', 'ig') : XRegExp('[^\\\\p{L}\\\\p{N}]+', 'ig');\n\ts = s.replace(alnum, opt.delimiter);\n\t\n\t// Remove duplicate delimiters\n\ts = s.replace(RegExp('[' + opt.delimiter + ']{2,}', 'g'), opt.delimiter);\n\t\n\t// Truncate slug to max. characters\n\ts = s.substring(0, opt.limit);\n\t\n\t// Remove delimiter from ends\n\ts = s.replace(RegExp('(^' + opt.delimiter + '|' + opt.delimiter + '$)', 'g'), '');\n\t\n\treturn opt.lowercase ? s.toLowerCase() : s;\n}\n\n/**\n * @name toast\n * @description Triggers toast notification. Adds toast html to the page if missing.\n * @param {string} text - Toast notification.\n */\n export const toast = (text) => {\n\n    // only add once\n    if(!document.querySelector(\".toast\")){\n\n        let html = `\n        <div class=\"toast-cont position-fixed bottom-0 p-2 m-4 end-0 align-items-center\" style=\"z-index:10000;\">\n            <div class=\"toast hide align-items-center text-white bg-dark border-0\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" data-bs-delay=\"3000\">\n                <div class=\"d-flex\">\n                    <div class=\"toast-body\"></div>\n                    <button type=\"button\" class=\"btn-close btn-close-white me-2 m-auto\" data-bs-dismiss=\"toast\" aria-label=\"Close\"></button>\n                </div>\n            </div>\n        </div>`;\n        if(document.querySelector('body > div')) document.querySelector('body > div').insertAdjacentHTML('afterend', html);\n    }\n\n    let toast = new bootstrap.Toast(document.querySelector('.toast'));\n    document.querySelector('.toast .toast-body').innerHTML = text;  \n    toast.show();\n}","import { getCookie, H, getSiteId, simulateClick, link, parseApiError, __html } from '@kenzap/k-cloud';\n\n/* \ntexts to localize\n__('required')\n__('Size')\n__('Small')\n__('Regular')\n__('Large')\n__('Subtotal')\n__('Discount by %')\n__('Discount by value')\n__('Grand Total')\n*/\n\nexport const mt = (val) => {\n\n    return (\"\"+val).length < 2 ? \"0\"+val : val;\n}\n\nexport const isValidDomain = (str) => {\n \n    if (typeof value !== 'string') return false\n    if (!(opts instanceof Object)) opts = {}\n    value = value.toLowerCase()\n  \n    if (value.endsWith('.')) {\n      value = value.slice(0, value.length - 1)\n    }\n  \n    if (opts.allowUnicode) {\n      value = punycode.toASCII(value)\n    }\n  \n    if (value.length > 253) {\n      return false\n    }\n  \n    const validChars = /^([\\u0E00-\\u0E7Fa-z0-9-._*]+)$/g\n    if (!validChars.test(value)) {\n      return false\n    }\n  \n    if (opts.topLevel) {\n      if (ccTldMap[value.replace(/\\.$/, '')]) {\n        return true\n      }\n    }\n  \n    const sldRegex = /(.*)\\.(([\\u0E00-\\u0E7Fa-z0-9]+)(\\.[a-z0-9]+))/\n    const matches = value.match(sldRegex)\n    let tld = null\n    let labels = null\n    if (matches && matches.length > 2) {\n      if (sldMap[matches[2]]) {\n        tld = matches[2]\n        labels = matches[1].split('.')\n      }\n    }\n  \n    if (!labels) {\n      labels = value.split('.')\n      if (labels.length <= 1) return false\n  \n      tld = labels.pop()\n      const tldRegex = /^(?:xn--)?(?!^\\d+$)[\\u0E00-\\u0E7Fa-z0-9]+$/gi\n  \n      if (!tldRegex.test(tld)) return false\n    }\n  \n    if (opts.subdomain === false && labels.length > 1) return false\n  \n    const isValid = labels.every(function (label, index) {\n      if (opts.wildcard && index === 0 && label === '*' && labels.length > 1) {\n        return true\n      }\n  \n      let validLabelChars = /^([\\u0E00-\\u0E7Fa-zA-Z0-9-_]+)$/g\n      if (index === labels.length - 1) {\n        validLabelChars = /^([\\u0E00-\\u0E7Fa-zA-Z0-9-]+)$/g\n      }\n  \n      // https://github.com/miguelmota/is-valid-domain/issues/22\n      const doubleDashCount = (label.match(/--(--)?/g) || []).length\n      const xnDashCount = (label.match(/xn--/g) || []).length\n      if (index === labels.length - 1 && doubleDashCount !== xnDashCount) {\n        return false\n      }\n  \n      const isValid = (\n        validLabelChars.test(label) &&\n        label.length < 64 &&\n        !label.startsWith('-') &&\n        !label.endsWith('-')\n      )\n  \n      return isValid\n    })\n  \n    return isValid\n}\n\nexport const getParam = (param) => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let id = urlParams.get(param) ? urlParams.get(param) : \"\";\n    return id;\n}\n\nexport const getProductIdFromLink = () => {\n    \n    let url = new URL(window.location.href);\n    let id = url.pathname.trim().split('/').slice(-2)[0];\n    return id;\n}\n\nexport const replaceQueryParam = (param, newval, search) => {\n\n    let regex = new RegExp(\"([?;&])\" + param + \"[^&;]*[;&]?\");\n    let query = search.replace(regex, \"$1\").replace(/&$/, '');\n\n    return (query.length > 2 ? query + \"&\" : \"?\") + (newval ? param + \"=\" + newval : '');\n}\n\nexport const getPageNumberOld = () => {\n\n    let url = window.location.href.split('/');\n    let page = url[url.length-1];\n    let pageN = 1;\n    if(page.indexOf('page')==0){\n      pageN = page.replace('page', '').replace('#', '');\n    }\n    // console.log(pageN);\n    return parseInt(pageN);\n}\n\nexport const getPageNumber = () => {\n\n    let urlParams = new URLSearchParams(window.location.search);\n    let page = urlParams.get('page') ? urlParams.get('page') : 1;\n\n    return parseInt(page);\n}\n\nexport const getPagination = (__, meta, cb) => {\n\n    if(typeof(meta) === 'undefined'){ document.querySelector(\"#listing_info\").innerHTML = __('no records to display'); return; }\n\n    let offset = meta.limit+meta.offset;\n    if(offset>meta.total_records) offset = meta.total_records;\n\n    document.querySelector(\"#listing_info\").innerHTML = __(\"Showing %1$ to %2$ of %3$ entries\", (1+meta.offset), (offset), meta.total_records);\n    //  \"Showing \"+(1+meta.offset)+\" to \"+(offset)+\" of \"+meta.total_records+\" entries\";\n\n    let pbc = Math.ceil(meta.total_records / meta.limit);\n    document.querySelector(\"#listing_paginate\").style.display = (pbc < 2) ? \"none\" : \"block\";\n\n    let page = getPageNumber(); \n    let html = '<ul class=\"pagination d-flex justify-content-end pagination-flat mb-0\">';\n    html += '<li class=\"paginate_button page-item previous\" id=\"listing_previous\"><a href=\"#\" aria-controls=\"order-listing\" data-type=\"prev\" data-page=\"0\" tabindex=\"0\" class=\"page-link\"><span aria-hidden=\"true\">&laquo;</span></li>';\n    let i = 0;\n    while(i<pbc){\n\n        i++; \n        if(((i >= page-3) && (i <= page)) || ((i <= page+3) && (i >=page))){\n\n            html += '<li class=\"paginate_button page-item '+((page==i)?'active':'')+'\"><a href=\"#\" aria-controls=\"order-listing\" data-type=\"page\" data-page=\"'+i+'\" tabindex=\"0\" class=\"page-link\">'+(page==i?i:i)+'</a></li>';      \n        }\n    }  \n    html += '<li class=\"paginate_button page-item next\" id=\"order-listing_next\"><a href=\"#\" aria-controls=\"order-listing\" data-type=\"next\" data-page=\"2\" tabindex=\"0\" class=\"page-link\"><span aria-hidden=\"true\">&raquo;</span></a></li>';\n    html += '</ul>'\n\n    document.querySelector(\"#listing_paginate\").innerHTML = html;\n\n    let page_link = document.querySelectorAll(\".page-link\");\n    for (const l of page_link) {\n        \n        l.addEventListener('click', function(e) {\n\n            let p = parseInt(getPageNumber());\n            let ps = p;\n            switch(l.dataset.type){ \n                case 'prev': p-=1; if(p<1) p = 1; break;\n                case 'page': p=l.dataset.page; break;\n                case 'next': p+=1; if(p>pbc) p = pbc; break;\n            }\n            \n            // update url\n            if (window.history.replaceState) {\n\n                // let url = window.location.href.split('/page');\n                // let urlF = (url[0]+'/page'+p).replace('//page', '/page');\n\n                let str = window.location.search;\n                str = replaceQueryParam('page', p, str);\n                // window.location = window.location.pathname + str\n\n                // prevents browser from storing history with each change:\n                window.history.replaceState(\"kenzap-cloud\", document.title, window.location.pathname + str);\n            }\n\n            // only refresh if page differs\n            if(ps!=p) cb();\n            \n            e.preventDefault();\n            return false;\n        });\n    }\n}\n\nexport const stockBadge = (_this, inventory) => {\n\n    // console.log(inventory.stock_warning + \" \" + inventory.stock_amount);\n\n    if(inventory.stock_amount <= 0){\n\n        return '<div data-stock=\"out\" class=\"badge bg-danger text-light fw-light\">' + __html('Out of stock') + '</div>';\n    }else if(inventory.stock_warning >= inventory.stock_amount){\n\n        return '<div data-stock=\"low\" class=\"badge bg-warning text-dark fw-light\">' + __html('Low stock') + '</div>';\n    }else{\n\n        return '<div data-stock=\"in\" class=\"badge bg-success text-light fw-light\">' + __html('In stock') + '</div>';\n    }\n}\n\nexport const formatStatus = (__, st) => {\n\n    st = parseInt(st); \n    switch(st){ \n      case 0: return '<div class=\"badge bg-warning text-dark fw-light\">' + __('Draft') + '</div>';\n      case 1: return '<div class=\"badge bg-primary fw-light\">' + __('Published') + '</div>';\n      case 3: return '<div class=\"badge bg-secondary fw-light\">' + __('Unpublished') + '</div>';\n      default: return '<div class=\"badge bg-secondary fw-light\">' + __('Drafts') + '</div>';\n    }\n}\n\n/**\n    * Render price\n    * @public\n    */\n export const priceFormat = function(_this, price) {\n\n    price = makeNumber(price);\n\n    price = (Math.round(parseFloat(price) * 100)/100).toFixed(2);\n    \n    switch(_this.state.settings.currency_symb_loc){\n        case 'left': price = _this.state.settings.currency_symb + ' ' + price; break;\n        case 'right': price = price + _this.state.settings.currency_symb; break;\n    }\n\n    return price;\n}\n\nexport const makeNumber = function(price) {\n\n    price = price ? price : 0;\n    price = parseFloat(price);\n    price = Math.round(price * 100) / 100;\n    return price;\n}\n\nexport const formatTime = (__, timestamp) => {\n\t\n    const d = new Date(parseInt(timestamp) * 1000);\n    return d.toLocaleDateString();\n\n    let a = new Date(timestamp * 1000);\n    let months = [__('Jan'), __('Feb'), __('Mar'), __('Apr'), __('May'), __('Jun'), __('Jul'), __('Aug'), __('Sep'), __('Oct'), __('Nov'), __('Dec')];\n    let year = a.getFullYear();\n    let month = months[a.getMonth()];\n    let date = a.getDate();\n    let hour = a.getHours();\n    let min = a.getMinutes();\n    let sec = a.getSeconds();\n    let time = date + ' ' + month + ' ' + year; // + ' ' + hour + ':' + min + ':' + sec ;\n    return time;\n}\n\nexport const formatTimeDetailed = (__, timestamp) => {\n\t\n    // let a = new Date(timestamp * 1000);\n    // let hour = a.getHours();\n    // let min = a.getMinutes();\n\n    // console.log(hour+\":\"+min);\n\n    // server stores in UTC\n    // let offset = new Date().getTimezoneOffset();\n\n    const d = new Date(parseInt(timestamp) * 1000); //  + offset*60\n    \n    let t = d.toLocaleTimeString().split(':');\n\n    return d.toLocaleDateString() + \" \" + t[0] + \":\" + t[1];\n}\n\n// numbers only with allowed exceptions\n// export const onlyNumbers = (sel, chars) => {\n\n//     if(!document.querySelector(sel)) return;\n    \n//     document.querySelector(sel).addEventListener('keypress', (e) => {\n\n//         // console.log(e.which);\n\n//         if((!chars.includes(e.which) && isNaN(String.fromCharCode(e.which))) || e.which == 32 || (document.querySelector(sel).value.includes(String.fromCharCode(e.which)) && chars.includes(e.which))){\n\n//             // stop character from entering input\n//             e.preventDefault(); \n//             return false;\n//         }\n//     });\n// }\n\n// numbers only with allowed exceptions\nexport const onlyNumbers = (sel, chars) => {\n\n    if(!document.querySelector(sel)) return;\n\n    // arrow navigation\n    chars.push(...[9, 37, 38, 39, 40, 98, 100, 102, 104]);\n    \n    [...document.querySelectorAll(sel)].forEach(el => {\n\n        el.addEventListener('keydown', (e) => {\n\n            const key = e.key.toLowerCase();\n\n            // track potential paste event\n            if(key == 'control' || key == 'meta'){\n\n                window[key] = true;\n            }\n        \n            console.log(key.length + \" / \" + isNumber + \" / \" + e.which);\n\n            // not alphanumeric\n            // if (key.length != 1) {\n\n            //     e.preventDefault(); \n            //     return false;\n            // }\n        \n            // const isLetter = (key >= 'a' && key <= 'z');\n            const isNumber = (key >= '0' && key <= '9');\n\n            // add exception when Control or Meta (MAC) keys pressed\n            // console.log(window['meta'] + \" \" + window['control']);\n\n            // allow x c v a characters when meta ot control is pressed\n            if((window['control'] || window['meta']) && [86, 88, 65, 67, 90].includes(e.which)){ console.log(\"pushing\"); return true; }\n\n            // actual check\n            if (!isNumber && !chars.includes(e.which)) {\n\n                e.preventDefault(); \n                return false;\n            }\n        });\n\n        el.addEventListener('keyup', (e) => {\n\n            const key = e.key.toLowerCase();\n\n            // potential paste event\n            if(key == 'control' || key == 'meta'){\n\n                window[key] = false;\n            }\n        });\n    });\n}\n\n// nums only validation\nexport const numsOnly = (e, max) => {\n\n    // Only ASCII charactar in that range allowed \n    var ASCIICode = (e.which) ? e.which : e.keyCode \n    if (ASCIICode > 31 && ASCIICode != 46 && (ASCIICode < 48 || ASCIICode > 57)) \n    return false; \n\n    if(parseFloat(e.target.value)>max) \n    return false; \n\n    let dec = e.target.value.split('.');\n    if(dec.length>1)\n    if(dec[1].length>1)\n        return false;\n    \n    return true; \n}\n\nexport const onClick = (sel, fn) => {\n\n    // console.log('onClick');\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('click', fn, true);\n        e.addEventListener('click', fn, true);\n    }\n}\n\n// time elapsed since creation \nexport const timeConverterAgo = (__, now, time) => {\n\n    now = parseInt(now);\n    time = parseInt(time);\n\n    // parse as elapsed time\n    let past = now - time;\n    if(past < 60) return __('moments ago');\n    if(past < 3600) return parseInt(past / 60) + ' ' + __('minutes ago');\n    if(past < 86400) return parseInt(past / 60 / 60) + ' ' + __('hours ago');\n\n    // process as normal date\n    var a = new Date(time * 1000);\n    var months = [ __('Jan'), __('Feb'), __('Mar'), __('Apr'), __('May'), __('Jun'), __('Jul'), __('Aug'), __('Sep'), __('Oct'), __('Nov'), __('Dec') ];\n    var year = a.getFullYear();\n    var month = months[a.getMonth()];\n    var date = a.getDate();\n    var hour = a.getHours();\n    var min = a.getMinutes();\n    var sec = a.getSeconds();\n    var time = date + ' ' + month + ' ' + year; // + ' ' + hour + ':' + min + ':' + sec ;\n    return time;\n}\n\nexport const parseVariations = (_this, product) => {\n\n    let html_vars = '';\n    if(typeof(product.variations !== 'undefined'))\n    for(let v in product.variations){\n\n        // variation type\n        let type = '';\t\n        if(product.variations[v].type=='checkbox') type = 'check';\n        if(product.variations[v].type=='radio')    type = 'radio';\n\n        // struct variation\n        html_vars += '\\\n        <b>' + __html(product.variations[v].title) + (product.variations[v].required == '1' ? ' <span class=\"tag\">'+__html('required')+'</span>':'')+'</b>\\\n        <div class=\"kp-'+type+'\" >';\n\n        // variation labels\n        for(let d in product.variations[v].data){\n\n            let checked = false;\n            // for public qr feed\n            // if(typeof(cart.state.product.variations[v]) !== 'undefined' && typeof(cart.state.product.variations[v].list) !== 'undefined' && typeof(cart.state.product.variations[v].list[\"_\"+d]) !== 'undefined'){ checked = true; }\n            \n            // verify variation price validity\n            product.variations[v].data[d]['price'] = makeNumber(product.variations[v].data[d]['price']);\n\n            switch(type){\n                case 'check':\n\n                html_vars += '\\\n                    <label>\\\n                        <input type=\"checkbox\" data-required=\"'+product.variations[v].required+'\" data-indexv=\"'+v+'\" data-index=\"'+d+'\" data-title=\"'+product.variations[v].data[d]['title']+'\" data-titlev=\"'+__(product.variations[v].title)+'\" data-price=\"'+product.variations[v].data[d]['price']+'\" '+(checked?'checked=\"checked\"':'')+'>\\\n                        <div class=\"checkbox\">\\\n                            <svg width=\"20px\" height=\"20px\" viewBox=\"0 0 20 20\">\\\n                                <path d=\"M3,1 L17,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 L1,3 C1,1.8954305 1.8954305,1 3,1 Z\"></path>\\\n                                <polyline points=\"4 11 8 15 16 6\"></polyline>\\\n                            </svg>\\\n                        </div>\\\n                        <span>'+__html(product.variations[v].data[d]['title'])+'</span>\\\n                        <div class=\"price\">+ '+priceFormat(_this, product.variations[v].data[d]['price'])+'</div>\\\n                    </label>';\n                \n                break;\n                case 'radio':\n\n                html_vars += '\\\n                    <label>\\\n                        <input type=\"radio\" data-required=\"'+product.variations[v].required+'\" data-indexv=\"'+v+'\" name=\"radio'+v+'\" data-index=\"'+d+'\" data-title=\"'+product.variations[v].data[d]['title']+'\" data-titlev=\"'+__(product.variations[v].title)+'\" data-price=\"'+product.variations[v].data[d]['price']+'\" '+(checked?'checked=\"checked\"':'')+' />\\\n                        <span>'+__html(product.variations[v].data[d]['title'])+'</span>\\\n                        <div class=\"price\">+ '+priceFormat(_this, product.variations[v].data[d]['price'])+'</div>\\\n                    </label>';\n                \n                break;\n            }\n        }\n\n        html_vars += '</div>';\n    }\n\n    return html_vars;\n}\n\nexport const escape = (htmlStr) => {\n\n    return htmlStr.replace(/&/g, \"&amp;\")\n          .replace(/</g, \"&lt;\")\n          .replace(/>/g, \"&gt;\")\n          .replace(/\"/g, \"&quot;\")\n          .replace(/'/g, \"&#39;\");        \n \n}\n\nexport const unescape = (htmlStr) => {\n\n    htmlStr = htmlStr.replace(/&lt;/g , \"<\");\t \n    htmlStr = htmlStr.replace(/&gt;/g , \">\");     \n    htmlStr = htmlStr.replace(/&quot;/g , \"\\\"\");  \n    htmlStr = htmlStr.replace(/&#39;/g , \"\\'\");   \n    htmlStr = htmlStr.replace(/&amp;/g , \"&\");\n    return htmlStr;\n}\n\nexport const ecommerceUpdates = (_this, source, cb) => {\n\n    // do API query\n    fetch('https://api-v1.kenzap.cloud/ecommerce/', {\n        method: 'post',\n        headers: H(),\n        body: JSON.stringify({\n            query: {\n                updates: {\n                    type:       'updates',\n                    source:     source,\n                }\n            }\n        })\n    })\n    .then(response => response.json())\n    .then(response => {\n\n        if(response.success){\n\n            // do callback\n            cb(response);\n            \n            // parse notifications\n            renderNotifications(_this, response.messages);\n            \n        }else{\n\n\n        }\n    })\n    .catch(error => { // parseApiError(error); \n    });\n}\n\nexport const isMobile = () => {\n\n    const nav = navigator.userAgent.toLowerCase();\n    return (\n        nav.match(/iphone/i) || nav.match(/ipod/i) || nav.match(/ipad/i) || nav.match(/android/i)\n    );\n}\n\n// play notification sound. Ex.: when new order received\nexport const playSound = (_this, max) => {\n \n    // if(!max) max = _this.state.playSound.max_times;\n\n    _this.state.playSound.n = 0;\n\n    if(_this.state.playSound.timer) clearInterval(_this.state.playSound.timer);\n\n    if(_this.state.playSound.allowed) _this.state.playSound.audio.play();\n\n    // console.log(\"playing \" + _this.state.playSound.allowed);\n\n    try{\n        if(_this.state.playSound.allowed && isMobile()) window.navigator.vibrate(200);\n    }catch{\n\n    }\n\n    if(max==1) return;\n\n    _this.state.playSound.timer = setInterval(() => {\n\n        if(!_this.state.playSound.allowed) return;\n         \n        _this.state.playSound.audio.play();\n\n        if(_this.state.playSound.n > max){ clearInterval(_this.state.playSound.timer) }\n\n        _this.state.playSound.n += 1;\n\n    }, 5000);\n\n    // console.log('playSound');\n}\n\nexport const renderNotifications = (_this, messages) => {\n\n    let html = '';\n\n    let play = false;\n\n    // html\n    messages.forEach(msg => {\n\n        if(!_this.state.playSound.nids.includes(msg._id)){ _this.state.playSound.nids.push(msg._id); play = true; }\n\n        if(!document.querySelector('#contents .container [data-id=\"'+msg._id+'\"]')){\n        \n            html += `\n\n            <div class=\"alert alert-${ msg.color } alert-dismissible fade show\" role=\"alert\" data-id=\"${ msg._id }\">\n                <div class=\"d-flex align-items-center\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-exclamation-square flex-shrink-0 me-2\" viewBox=\"0 0 16 16\">\n                        <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/>\n                        <path d=\"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z\"/>\n                    </svg>\n                    <div>\n                    ${ msg.msg }\n                    </div>\n                </div>\n                <button type=\"button\" class=\"btn-close btn-dismiss-notify\" data-bs-dismiss=\"alert\" aria-label=\"Close\" data-id=\"${ msg._id }\"></button>\n            </div>`;\n        }\n    });\n\n    // play sound\n    if(play){ \n        // console.log('notify play sound'); \n        playSound(_this, 1); _this.getData(); \n    }\n\n    if(document.querySelector('#contents .container')) document.querySelector('#contents .container').insertAdjacentHTML(\"afterbegin\", html);\n\n    // listeners\n    onClick('.btn-dismiss-notify', (e) => {\n\n        // do API query\n        fetch('https://api-v1.kenzap.cloud/ecommerce/', {\n            method: 'post',\n            headers: H(),\n            body: JSON.stringify({\n                query: {\n                    updates: {\n                        type:       'dismiss',\n                        id:         e.currentTarget.dataset.id,\n                    }\n                }\n            })\n        })\n        .then(response => response.json())\n        .then(response => {\n\n            if(response.success){\n\n\n\n            }else{\n\n\n            }\n        })\n        .catch(error => { // parseApiError(error); \n        });\n    });\n\n    // order open listener\n    if(document.querySelector('.order-details')) for( let el of document.querySelectorAll('.order-details') ){\n\n        if(el.dataset.assigned == \"1\") return;\n\n        el.dataset.assigned = 1;\n\n        el.addEventListener('click', (e) => {\n\n            let el = document.querySelector(\".view-order[data-id='\"+e.currentTarget.dataset.id+\"']\");\n\n            simulateClick(el);\n\n        }, true);\n    }\n}\n\n/*\n* Load additional JS or CSS depencies\n*\n* @param    dep       dependecy. Ex.: hiebee.min.js \n* @param    cb        function to call after script is loaded (optional)       \n* @return \t{Boolen} \tresult status \n* \n*/\nexport const loadAddon = (dep, version, cb) => {\n\n    \n    const url = new URL(dep);\n\n    if(getCookie('debug')) dep = 'http://localhost:3000' + url.pathname;\n    \n    console.log(dep);\n\n    // dependency already loaded, skip\n    if(document.getElementById(dep)){ if(typeof cb === 'function') cb.call(); return; }\n\n    // detect dependency type\n    let t = dep.split('.').slice(-1)[0];\n    // console.log(dep+'loadAddon'+t);\n    switch(t){\n      case 'js':\n        \n        let js = document.createElement(\"script\");\n        js.setAttribute(\"src\", dep);\n        js.id = dep;\n        js.onload = js.onreadystatechange = function() {\n \n          if(!this.readyState || this.readyState == 'complete')\n            if(typeof cb === 'function') cb.call();\n        };\n        document.body.appendChild(js);\n        \n      break;\n      case 'css':\n\n        var head  = document.getElementsByTagName('head')[0];\n        var css  = document.createElement('link');\n        css.id   = dep;\n        css.rel  = 'stylesheet';\n        css.type = 'text/css';\n        css.href = dep;\n        head.appendChild(css);\n\n      break;\n    }\n}\n\nexport const getProductsById = (_this, products, cb) => {\n\n    // do API query\n    const response_raw = fetch('https://api-v1.kenzap.cloud/', {\n        method: 'post',\n        headers: H(),\n        body: JSON.stringify({\n            query: {\n                products: {\n                    type:       'find',\n                    fields:     '*',\n                    key:        'ecommerce-product',\n                    id:         products,\n                    sortby:     {\n                        field: 'created',\n                        order: 'DESC'\n                    }\n                }\n            }\n        })\n    })\n    .then(response => response.json())\n    .then(response => {\n\n        if (response.success) {\n\n            response.products.forEach((product, i) => {\n\n                _this.state.orderSingle.items.push({\n                    cats: [],\n                    id: product._id,\n                    index: i,\n                    note: \"\",\n                    price: product.price,\n                    qty: 1,\n                    sdesc: __html(product.sdesc),\n                    title: __html(product.title),\n                    total: product.price,\n                    type: \"new\",\n                    variations: []\n                });\n            });\n\n            cb(_this);\n        }\n    })\n    .catch(error => { console.log(error); parseApiError(error); });\n}\n\nexport let Base64={_keyStr:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",encode:function(e){var t=\"\";var n,r,i,s,o,u,a;var f=0;e=Base64._utf8_encode(e);while(f<e.length){n=e.charCodeAt(f++);r=e.charCodeAt(f++);i=e.charCodeAt(f++);s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(isNaN(r)){u=a=64}else if(isNaN(i)){a=64}t=t+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(u)+this._keyStr.charAt(a)}return t},decode:function(e){var t=\"\";var n,r,i;var s,o,u,a;var f=0;e=e.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\");while(f<e.length){s=this._keyStr.indexOf(e.charAt(f++));o=this._keyStr.indexOf(e.charAt(f++));u=this._keyStr.indexOf(e.charAt(f++));a=this._keyStr.indexOf(e.charAt(f++));n=s<<2|o>>4;r=(o&15)<<4|u>>2;i=(u&3)<<6|a;t=t+String.fromCharCode(n);if(u!=64){t=t+String.fromCharCode(r)}if(a!=64){t=t+String.fromCharCode(i)}}t=Base64._utf8_decode(t);return t},_utf8_encode:function(e){e=e.replace(/\\r\\n/g,\"\\n\");var t=\"\";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r)}else if(r>127&&r<2048){t+=String.fromCharCode(r>>6|192);t+=String.fromCharCode(r&63|128)}else{t+=String.fromCharCode(r>>12|224);t+=String.fromCharCode(r>>6&63|128);t+=String.fromCharCode(r&63|128)}}return t},_utf8_decode:function(e){var t=\"\";var n=0;var r=c1=c2=0;while(n<e.length){r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r);n++}else if(r>191&&r<224){c2=e.charCodeAt(n+1);t+=String.fromCharCode((r&31)<<6|c2&63);n+=2}else{c2=e.charCodeAt(n+1);c3=e.charCodeAt(n+2);t+=String.fromCharCode((r&15)<<12|(c2&63)<<6|c3&63);n+=3}}return t}}\n\nexport const makeid = (length) => {\n\n    let result = '';\n    const characters = 'abcdefghijklmnopqrstuvwxyz';\n    const charactersLength = characters.length;\n    let counter = 0;\n    while (counter < length) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n      counter += 1;\n    }\n    return result;\n}\n\n// categories input tags\nexport const simpleTags = (element) => {\n\n    if (!element) {\n        throw new Error(\"DOM Element is undifined! Please choose HTML target element.\")\n    }\n\n    let DOMParent = element\n    let DOMList\n    let DOMInput\n    let dataAttribute\n    let arrayOfList\n\n    function DOMCreate() {\n        let ul = document.createElement(\"ul\")\n        let input = document.createElement(\"input\")\n\n        input.setAttribute('placeholder', __html('new tag'));\n\n        DOMParent.appendChild(ul)\n        DOMParent.appendChild(input)\n\n        // first child is <ul>\n        DOMList = DOMParent.firstElementChild\n        // last child is <input>\n        DOMInput = DOMParent.lastElementChild\n    }\n\n    function DOMRender() {\n        // clear the entire <li> inside <ul>\n        DOMList.innerHTML = \"\"\n\n        // render each <li> to <ul>\n        arrayOfList.forEach((currentValue, index) => {\n\n            if (currentValue) {\n\n                let li = document.createElement(\"li\")\n                li.innerHTML = `${currentValue} <a>&times;</a>`\n                li.querySelector(\"a\").addEventListener(\"click\", function () {\n                    onDelete(index)\n                })\n\n                DOMList.appendChild(li)\n            }\n        })\n\n        setAttribute()\n    }\n\n    function onKeyUp() {\n        DOMInput.addEventListener(\"keyup\", function (event) {\n            let text = this.value.trim()\n\n            // check if ',' or 'enter' key was press\n            if (text.includes(\",\") || event.keyCode === 13) {\n                // check if empty text when ',' is remove\n                if (text.replace(\",\", \"\") !== \"\") {\n                    // push to array and remove ','\n                    arrayOfList.push(text.replace(\",\", \"\"))\n                }\n                // clear input\n                this.value = \"\"\n            }\n\n            DOMRender()\n        })\n    }\n\n    function onDelete(id) {\n        arrayOfList = arrayOfList.filter(function (currentValue, index) {\n            if (index === id) {\n                return false\n            }\n            return currentValue\n        })\n\n        DOMRender()\n    }\n\n    function getAttribute() {\n        dataAttribute = DOMParent.getAttribute(\"data-simple-tags\")\n        dataAttribute = dataAttribute.split(\",\")\n\n        // store array of data attribute in arrayOfList\n        arrayOfList = dataAttribute.map((currentValue) => {\n            return currentValue.trim()\n        })\n    }\n\n    function setAttribute() {\n        DOMParent.setAttribute(\"data-simple-tags\", arrayOfList.toString())\n    }\n\n    getAttribute()\n    DOMCreate()\n    DOMRender()\n    onKeyUp()\n}\n\nexport const initFooter = (_this) => {\n        \n    // Created by %1$Kenzap%2$. ❤️ \n    let left = __html('Pages 1.0.5 by %1$Kenzap%2$. ❤️ Licensed %3$GPLv3%4$.', '<a class=\"text-muted\" href=\"https://kenzap.com/\" target=\"_blank\">', '</a>', '<a class=\"text-muted\" href=\"https://github.com/kenzap/pages\" target=\"_blank\">', '</a>')  \n    let right = __html('%1$Developer mode%2$', `<a class=\"text-muted\" href=\"${ link('/develop/') }\" target=\"_self\">`, `</a>`)  ;\n    document.querySelector(\"footer .row\").innerHTML = `\n    <div class=\"d-sm-flex justify-content-center justify-content-sm-between\">\n        <span class=\"text-muted text-center text-sm-left d-block d-sm-inline-block\">${left}</span>\n        <span class=\"float-none float-sm-right d-block mt-1 mt-sm-0 text-center text-muted\">${right}</span>\n    </div>`;\n}\n\n/**\n * @name getAPI\n * @description Returns API link\n * @param {object} headers\n */\nexport const getSiteAPI = () => {\n\n    return window.location.host.indexOf(\"localhost\") == 0 ? \"https://siteapi-dev.kenzap.cloud/\" : \"https://siteapi.kenzap.cloud/\";\n}\n\nexport const getCurrencies = () => {\n\n    // length 164\n    return [\n        {\"name\":\"Afghan Afghani\",\"code\":\"AFA\",\"symbol\":\"؋\"},\n        {\"name\":\"Albanian Lek\",\"code\":\"ALL\",\"symbol\":\"Lek\"},\n        {\"name\":\"Algerian Dinar\",\"code\":\"DZD\",\"symbol\":\"دج\"},\n        {\"name\":\"Angolan Kwanza\",\"code\":\"AOA\",\"symbol\":\"Kz\"},\n        {\"name\":\"Argentine Peso\",\"code\":\"ARS\",\"symbol\":\"$\"},\n        {\"name\":\"Armenian Dram\",\"code\":\"AMD\",\"symbol\":\"֏\"},\n        {\"name\":\"Aruban Florin\",\"code\":\"AWG\",\"symbol\":\"ƒ\"},\n        {\"name\":\"Australian Dollar\",\"code\":\"AUD\",\"symbol\":\"$\"},\n        {\"name\":\"Azerbaijani Manat\",\"code\":\"AZN\",\"symbol\":\"m\"},\n        {\"name\":\"Bahamian Dollar\",\"code\":\"BSD\",\"symbol\":\"B$\"},\n        {\"name\":\"Bahraini Dinar\",\"code\":\"BHD\",\"symbol\":\".د.ب\"},\n        {\"name\":\"Bangladeshi Taka\",\"code\":\"BDT\",\"symbol\":\"৳\"},\n        {\"name\":\"Barbadian Dollar\",\"code\":\"BBD\",\"symbol\":\"Bds$\"},\n        {\"name\":\"Belarusian Ruble\",\"code\":\"BYR\",\"symbol\":\"Br\"},\n        {\"name\":\"Belgian Franc\",\"code\":\"BEF\",\"symbol\":\"fr\"},\n        {\"name\":\"Belize Dollar\",\"code\":\"BZD\",\"symbol\":\"$\"},\n        {\"name\":\"Bermudan Dollar\",\"code\":\"BMD\",\"symbol\":\"$\"},\n        {\"name\":\"Bhutanese Ngultrum\",\"code\":\"BTN\",\"symbol\":\"Nu.\"},\n        {\"name\":\"Bitcoin\",\"code\":\"BTC\",\"symbol\":\"฿\"},\n        {\"name\":\"Bolivian Boliviano\",\"code\":\"BOB\",\"symbol\":\"Bs.\"},\n        {\"name\":\"Bosnia-Herzegovina Convertible Mark\",\"code\":\"BAM\",\"symbol\":\"KM\"},\n        {\"name\":\"Botswanan Pula\",\"code\":\"BWP\",\"symbol\":\"P\"},\n        {\"name\":\"Brazilian Real\",\"code\":\"BRL\",\"symbol\":\"R$\"},\n        {\"name\":\"British Pound Sterling\",\"code\":\"GBP\",\"symbol\":\"£\"},\n        {\"name\":\"Brunei Dollar\",\"code\":\"BND\",\"symbol\":\"B$\"},\n        {\"name\":\"Bulgarian Lev\",\"code\":\"BGN\",\"symbol\":\"Лв.\"},\n        {\"name\":\"Burundian Franc\",\"code\":\"BIF\",\"symbol\":\"FBu\"},\n        {\"name\":\"Cambodian Riel\",\"code\":\"KHR\",\"symbol\":\"KHR\"},\n        {\"name\":\"Canadian Dollar\",\"code\":\"CAD\",\"symbol\":\"$\"},\n        {\"name\":\"Cape Verdean Escudo\",\"code\":\"CVE\",\"symbol\":\"$\"},\n        {\"name\":\"Cayman Islands Dollar\",\"code\":\"KYD\",\"symbol\":\"$\"},\n        {\"name\":\"CFA Franc BCEAO\",\"code\":\"XOF\",\"symbol\":\"CFA\"},\n        {\"name\":\"CFA Franc BEAC\",\"code\":\"XAF\",\"symbol\":\"FCFA\"},\n        {\"name\":\"CFP Franc\",\"code\":\"XPF\",\"symbol\":\"₣\"},\n        {\"name\":\"Chilean Peso\",\"code\":\"CLP\",\"symbol\":\"$\"},\n        {\"name\":\"Chinese Yuan\",\"code\":\"CNY\",\"symbol\":\"¥\"},\n        {\"name\":\"Colombian Peso\",\"code\":\"COP\",\"symbol\":\"$\"},\n        {\"name\":\"Comorian Franc\",\"code\":\"KMF\",\"symbol\":\"CF\"},\n        {\"name\":\"Congolese Franc\",\"code\":\"CDF\",\"symbol\":\"FC\"},\n        {\"name\":\"Costa Rican Colón\",\"code\":\"CRC\",\"symbol\":\"₡\"},\n        {\"name\":\"Croatian Kuna\",\"code\":\"HRK\",\"symbol\":\"kn\"},\n        {\"name\":\"Cuban Convertible Peso\",\"code\":\"CUC\",\"symbol\":\"$, CUC\"},\n        {\"name\":\"Czech Republic Koruna\",\"code\":\"CZK\",\"symbol\":\"Kč\"},\n        {\"name\":\"Danish Krone\",\"code\":\"DKK\",\"symbol\":\"Kr.\"},\n        {\"name\":\"Djiboutian Franc\",\"code\":\"DJF\",\"symbol\":\"Fdj\"},\n        {\"name\":\"Dominican Peso\",\"code\":\"DOP\",\"symbol\":\"$\"},\n        {\"name\":\"East Caribbean Dollar\",\"code\":\"XCD\",\"symbol\":\"$\"},\n        {\"name\":\"Egyptian Pound\",\"code\":\"EGP\",\"symbol\":\"ج.م\"},\n        {\"name\":\"Eritrean Nakfa\",\"code\":\"ERN\",\"symbol\":\"Nfk\"},\n        {\"name\":\"Estonian Kroon\",\"code\":\"EEK\",\"symbol\":\"kr\"},\n        {\"name\":\"Ethiopian Birr\",\"code\":\"ETB\",\"symbol\":\"Nkf\"},\n        {\"name\":\"Euro\",\"code\":\"EUR\",\"symbol\":\"€\"},\n        {\"name\":\"Falkland Islands Pound\",\"code\":\"FKP\",\"symbol\":\"£\"},\n        {\"name\":\"Fijian Dollar\",\"code\":\"FJD\",\"symbol\":\"FJ$\"},\n        {\"name\":\"Gambian Dalasi\",\"code\":\"GMD\",\"symbol\":\"D\"},\n        {\"name\":\"Georgian Lari\",\"code\":\"GEL\",\"symbol\":\"ლ\"},\n        {\"name\":\"German Mark\",\"code\":\"DEM\",\"symbol\":\"DM\"},\n        {\"name\":\"Ghanaian Cedi\",\"code\":\"GHS\",\"symbol\":\"GH₵\"},\n        {\"name\":\"Gibraltar Pound\",\"code\":\"GIP\",\"symbol\":\"£\"},\n        {\"name\":\"Greek Drachma\",\"code\":\"GRD\",\"symbol\":\"₯, Δρχ, Δρ\"},\n        {\"name\":\"Guatemalan Quetzal\",\"code\":\"GTQ\",\"symbol\":\"Q\"},\n        {\"name\":\"Guinean Franc\",\"code\":\"GNF\",\"symbol\":\"FG\"},\n        {\"name\":\"Guyanaese Dollar\",\"code\":\"GYD\",\"symbol\":\"$\"},\n        {\"name\":\"Haitian Gourde\",\"code\":\"HTG\",\"symbol\":\"G\"},\n        {\"name\":\"Honduran Lempira\",\"code\":\"HNL\",\"symbol\":\"L\"},\n        {\"name\":\"Hong Kong Dollar\",\"code\":\"HKD\",\"symbol\":\"$\"},\n        {\"name\":\"Hungarian Forint\",\"code\":\"HUF\",\"symbol\":\"Ft\"},\n        {\"name\":\"Icelandic króna\",\"code\":\"ISK\",\"symbol\":\"kr\"},\n        {\"name\":\"Indian Rupee\",\"code\":\"INR\",\"symbol\":\"₹\"},\n        {\"name\":\"Indonesian Rupiah\",\"code\":\"IDR\",\"symbol\":\"Rp\"},\n        {\"name\":\"Iranian Rial\",\"code\":\"IRR\",\"symbol\":\"﷼\"},\n        {\"name\":\"Iraqi Dinar\",\"code\":\"IQD\",\"symbol\":\"د.ع\"},\n        {\"name\":\"Israeli New Sheqel\",\"code\":\"ILS\",\"symbol\":\"₪\"},\n        {\"name\":\"Italian Lira\",\"code\":\"ITL\",\"symbol\":\"L,£\"},\n        {\"name\":\"Jamaican Dollar\",\"code\":\"JMD\",\"symbol\":\"J$\"},\n        {\"name\":\"Japanese Yen\",\"code\":\"JPY\",\"symbol\":\"¥\"},\n        {\"name\":\"Jordanian Dinar\",\"code\":\"JOD\",\"symbol\":\"ا.د\"},\n        {\"name\":\"Kazakhstani Tenge\",\"code\":\"KZT\",\"symbol\":\"лв\"},\n        {\"name\":\"Kenyan Shilling\",\"code\":\"KES\",\"symbol\":\"KSh\"},\n        {\"name\":\"Kuwaiti Dinar\",\"code\":\"KWD\",\"symbol\":\"ك.د\"},\n        {\"name\":\"Kyrgystani Som\",\"code\":\"KGS\",\"symbol\":\"лв\"},\n        {\"name\":\"Laotian Kip\",\"code\":\"LAK\",\"symbol\":\"₭\"},\n        {\"name\":\"Latvian Lats\",\"code\":\"LVL\",\"symbol\":\"Ls\"},\n        {\"name\":\"Lebanese Pound\",\"code\":\"LBP\",\"symbol\":\"£\"},\n        {\"name\":\"Lesotho Loti\",\"code\":\"LSL\",\"symbol\":\"L\"},\n        {\"name\":\"Liberian Dollar\",\"code\":\"LRD\",\"symbol\":\"$\"},\n        {\"name\":\"Libyan Dinar\",\"code\":\"LYD\",\"symbol\":\"د.ل\"},\n        {\"name\":\"Lithuanian Litas\",\"code\":\"LTL\",\"symbol\":\"Lt\"},\n        {\"name\":\"Macanese Pataca\",\"code\":\"MOP\",\"symbol\":\"$\"},\n        {\"name\":\"Macedonian Denar\",\"code\":\"MKD\",\"symbol\":\"ден\"},\n        {\"name\":\"Malagasy Ariary\",\"code\":\"MGA\",\"symbol\":\"Ar\"},\n        {\"name\":\"Malawian Kwacha\",\"code\":\"MWK\",\"symbol\":\"MK\"},\n        {\"name\":\"Malaysian Ringgit\",\"code\":\"MYR\",\"symbol\":\"RM\"},\n        {\"name\":\"Maldivian Rufiyaa\",\"code\":\"MVR\",\"symbol\":\"Rf\"},\n        {\"name\":\"Mauritanian Ouguiya\",\"code\":\"MRO\",\"symbol\":\"MRU\"},\n        {\"name\":\"Mauritian Rupee\",\"code\":\"MUR\",\"symbol\":\"₨\"},\n        {\"name\":\"Mexican Peso\",\"code\":\"MXN\",\"symbol\":\"$\"},\n        {\"name\":\"Moldovan Leu\",\"code\":\"MDL\",\"symbol\":\"L\"},\n        {\"name\":\"Mongolian Tugrik\",\"code\":\"MNT\",\"symbol\":\"₮\"},\n        {\"name\":\"Moroccan Dirham\",\"code\":\"MAD\",\"symbol\":\"MAD\"},\n        {\"name\":\"Mozambican Metical\",\"code\":\"MZM\",\"symbol\":\"MT\"},\n        {\"name\":\"Myanmar Kyat\",\"code\":\"MMK\",\"symbol\":\"K\"},\n        {\"name\":\"Namibian Dollar\",\"code\":\"NAD\",\"symbol\":\"$\"},\n        {\"name\":\"Nepalese Rupee\",\"code\":\"NPR\",\"symbol\":\"₨\"},\n        {\"name\":\"Netherlands Antillean Guilder\",\"code\":\"ANG\",\"symbol\":\"ƒ\"},\n        {\"name\":\"New Taiwan Dollar\",\"code\":\"TWD\",\"symbol\":\"$\"},\n        {\"name\":\"New Zealand Dollar\",\"code\":\"NZD\",\"symbol\":\"$\"},\n        {\"name\":\"Nicaraguan Córdoba\",\"code\":\"NIO\",\"symbol\":\"C$\"},\n        {\"name\":\"Nigerian Naira\",\"code\":\"NGN\",\"symbol\":\"₦\"},\n        {\"name\":\"North Korean Won\",\"code\":\"KPW\",\"symbol\":\"₩\"},\n        {\"name\":\"Norwegian Krone\",\"code\":\"NOK\",\"symbol\":\"kr\"},\n        {\"name\":\"Omani Rial\",\"code\":\"OMR\",\"symbol\":\".ع.ر\"},\n        {\"name\":\"Pakistani Rupee\",\"code\":\"PKR\",\"symbol\":\"₨\"},\n        {\"name\":\"Panamanian Balboa\",\"code\":\"PAB\",\"symbol\":\"B/.\"},\n        {\"name\":\"Papua New Guinean Kina\",\"code\":\"PGK\",\"symbol\":\"K\"},\n        {\"name\":\"Paraguayan Guarani\",\"code\":\"PYG\",\"symbol\":\"₲\"},\n        {\"name\":\"Peruvian Nuevo Sol\",\"code\":\"PEN\",\"symbol\":\"S/.\"},\n        {\"name\":\"Philippine Peso\",\"code\":\"PHP\",\"symbol\":\"₱\"},\n        {\"name\":\"Polish Zloty\",\"code\":\"PLN\",\"symbol\":\"zł\"},\n        {\"name\":\"Qatari Rial\",\"code\":\"QAR\",\"symbol\":\"ق.ر\"},\n        {\"name\":\"Romanian Leu\",\"code\":\"RON\",\"symbol\":\"lei\"},\n        {\"name\":\"Russian Ruble\",\"code\":\"RUB\",\"symbol\":\"₽\"},\n        {\"name\":\"Rwandan Franc\",\"code\":\"RWF\",\"symbol\":\"FRw\"},\n        {\"name\":\"Salvadoran Colón\",\"code\":\"SVC\",\"symbol\":\"₡\"},\n        {\"name\":\"Samoan Tala\",\"code\":\"WST\",\"symbol\":\"SAT\"},\n        {\"name\":\"Saudi Riyal\",\"code\":\"SAR\",\"symbol\":\"﷼\"},\n        {\"name\":\"Serbian Dinar\",\"code\":\"RSD\",\"symbol\":\"din\"},\n        {\"name\":\"Seychellois Rupee\",\"code\":\"SCR\",\"symbol\":\"SRe\"},\n        {\"name\":\"Sierra Leonean Leone\",\"code\":\"SLL\",\"symbol\":\"Le\"},\n        {\"name\":\"Singapore Dollar\",\"code\":\"SGD\",\"symbol\":\"$\"},\n        {\"name\":\"Slovak Koruna\",\"code\":\"SKK\",\"symbol\":\"Sk\"},\n        {\"name\":\"Solomon Islands Dollar\",\"code\":\"SBD\",\"symbol\":\"Si$\"},\n        {\"name\":\"Somali Shilling\",\"code\":\"SOS\",\"symbol\":\"Sh.so.\"},\n        {\"name\":\"South African Rand\",\"code\":\"ZAR\",\"symbol\":\"R\"},\n        {\"name\":\"South Korean Won\",\"code\":\"KRW\",\"symbol\":\"₩\"},\n        {\"name\":\"Special Drawing Rights\",\"code\":\"XDR\",\"symbol\":\"SDR\"},\n        {\"name\":\"Sri Lankan Rupee\",\"code\":\"LKR\",\"symbol\":\"Rs\"},\n        {\"name\":\"St. Helena Pound\",\"code\":\"SHP\",\"symbol\":\"£\"},\n        {\"name\":\"Sudanese Pound\",\"code\":\"SDG\",\"symbol\":\".س.ج\"},\n        {\"name\":\"Surinamese Dollar\",\"code\":\"SRD\",\"symbol\":\"$\"},\n        {\"name\":\"Swazi Lilangeni\",\"code\":\"SZL\",\"symbol\":\"E\"},\n        {\"name\":\"Swedish Krona\",\"code\":\"SEK\",\"symbol\":\"kr\"},\n        {\"name\":\"Swiss Franc\",\"code\":\"CHF\",\"symbol\":\"CHf\"},\n        {\"name\":\"Syrian Pound\",\"code\":\"SYP\",\"symbol\":\"LS\"},\n        {\"name\":\"São Tomé and Príncipe Dobra\",\"code\":\"STD\",\"symbol\":\"Db\"},\n        {\"name\":\"Tajikistani Somoni\",\"code\":\"TJS\",\"symbol\":\"SM\"},\n        {\"name\":\"Tanzanian Shilling\",\"code\":\"TZS\",\"symbol\":\"TSh\"},\n        {\"name\":\"Thai Baht\",\"code\":\"THB\",\"symbol\":\"฿\"},\n        {\"name\":\"Tongan Pa'anga\",\"code\":\"TOP\",\"symbol\":\"$\"},\n        {\"name\":\"Trinidad & Tobago Dollar\",\"code\":\"TTD\",\"symbol\":\"$\"},\n        {\"name\":\"Tunisian Dinar\",\"code\":\"TND\",\"symbol\":\"ت.د\"},\n        {\"name\":\"Turkish Lira\",\"code\":\"TRY\",\"symbol\":\"₺\"},\n        {\"name\":\"Turkmenistani Manat\",\"code\":\"TMT\",\"symbol\":\"T\"},\n        {\"name\":\"Ugandan Shilling\",\"code\":\"UGX\",\"symbol\":\"USh\"},\n        {\"name\":\"Ukrainian Hryvnia\",\"code\":\"UAH\",\"symbol\":\"₴\"},\n        {\"name\":\"United Arab Emirates Dirham\",\"code\":\"AED\",\"symbol\":\"إ.د\"},\n        {\"name\":\"Uruguayan Peso\",\"code\":\"UYU\",\"symbol\":\"$\"},\n        {\"name\":\"US Dollar\",\"code\":\"USD\",\"symbol\":\"$\"},\n        {\"name\":\"Uzbekistan Som\",\"code\":\"UZS\",\"symbol\":\"лв\"},\n        {\"name\":\"Vanuatu Vatu\",\"code\":\"VUV\",\"symbol\":\"VT\"},\n        {\"name\":\"Venezuelan  Bolívar\",\"code\":\"VEF\",\"symbol\":\"Bs\"},\n        {\"name\":\"Vietnamese Dong\",\"code\":\"VND\",\"symbol\":\"₫\"},\n        {\"name\":\"Yemeni Rial\",\"code\":\"YER\",\"symbol\":\"﷼\"},\n        {\"name\":\"Zambian Kwacha\",\"code\":\"ZMK\",\"symbol\":\"ZK\"}\n    ];\n}","import { __html } from '@kenzap/k-cloud';\n\nexport const HTMLContent = () => {\n\n  return `\n    <div class=\"container p-edit\">\n        <div class=\"d-md-flex justify-content-between bd-highlight mb-3\">\n            <nav class=\"bc\" aria-label=\"breadcrumb\"></nav>\n            <button class=\"btn btn-primary btn-save mt-3 mb-1 mt-md-0 mb-md-0\" type=\"button\">${__html('Save changes')}</button>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-md-12 grid-margin grid-margin-lg-0 grid-margin-md-0 stretch-card\">\n              <div class=\"card border-white shadow-sm p-sm-3 \">\n                <nav class=\"nav tab-content mb-4\" role=\"tablist\">\n                    <div class=\"nav nav-tabs\" id=\"nav-tab\" role=\"tablist\">\n                        <a class=\"nav-link active\" id=\"nav-notifications-link\" data-bs-toggle=\"tab\" data-bs-target=\"#nav-notifications\" type=\"button\" role=\"tab\" aria-controls=\"nav-notifications\" aria-selected=\"true\" href=\"#\">${__html('General')}</a>\n                        <a class=\"nav-link d-none\" id=\"nav-currency-link\" data-bs-toggle=\"tab\" data-bs-target=\"#nav-currency\" type=\"button\" role=\"tab\" aria-controls=\"nav-currency\" aria-selected=\"true\" href=\"#\">${__html('Currency &amp; Tax')}</a>\n                        <a class=\"nav-link\" id=\"nav-payout-link\" data-bs-toggle=\"tab\" data-bs-target=\"#nav-payout\" type=\"button\" role=\"tab\" aria-controls=\"nav-payout\" aria-selected=\"true\"  href=\"#\">${__html('Payout')}</a>\n                        <a class=\"nav-link\" id=\"nav-tax-link\" data-bs-toggle=\"tab\" data-bs-target=\"#nav-tax\" type=\"button\" role=\"tab\" aria-controls=\"nav-tax\" aria-selected=\"true\"  href=\"#\">${__html('Legal')}</a>\n                    </div>\n                </nav>\n                <div class=\"card-body tab-content\" id=\"nav-tabContent\">\n                  <div class=\"tab-pane fade show active\" id=\"nav-notifications\" role=\"tabpanel\" aria-labelledby=\"nav-notifications-link\">\n                    \n                    <h4 id=\"h-orders\" class=\"card-title mb-4\">${__html('Orders')}</h4>\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Order ID')}</label>\n                          <div class=\"col-sm-9\">\n                            <input id=\"last_order_id\" type=\"text\" class=\"form-control inp\" name=\"last_order_id\" data-type=\"emails\">\n                            <p class=\"form-text\">${__html('Define next new order ID number.')}</p>\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Auto complete')}</label>\n                          <div class=\"col-sm-9\">\n                            <select id=\"auto_complete\" class=\"form-select inp\" name=\"auto_complete\" data-type=\"select\">\n                                <option value=\"\">${__html('None')}</option>\n                                <option value=\"60\">${__html('1 minute')}</option>\n                                <option value=\"300\">${__html('5 minutes')}</option>\n                                <option value=\"1200\">${__html('20 minutes')}</option>\n                                <option value=\"3600\">${__html('1 hour')}</option>\n                                <option value=\"43200\">${__html('12 hours')}</option>\n                                <option value=\"86400\">${__html('24 hours')}</option>\n                            </select>\n                            <p class=\"form-text\">${__html('Auto complete orders after certain amount of time.')}</p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Tables')}</label>\n                          <div class=\"col-sm-9\">\n                            <div class=\"form-check\">\n                              <input id=\"tables\" class=\"form-check-input inp\" name=\"tables\" type=\"checkbox\" value=\"1\" data-type=\"checkbox\">\n                              <label class=\"form-check-label\" for=\"tables\">\n                                ${__html('Table mode')}\n                              </label>\n                            </div>\n                            <p class=\"form-text\">${__html('Enable table mode in orders dashboard.')}</p>\n                          </div> \n                        </div>\n                      </div>\n          \n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('List of tables')}</label>\n                          <div class=\"col-sm-9\">\n                            <textarea id=\"table_list\" class=\"form-control inp\" name=\"table_list\" rows=\"4\" data-type=\"text\" style=\"font-size:13px;font-family: monospace;\"></textarea>\n                            <p class=\"form-text\">${__html('Provide one table per line. Example: 5.')}</p>\n                          </div> \n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Products')}</label>\n                          <div class=\"col-sm-9\">\n                            <div class=\"form-check\">\n                              <input id=\"add_products\" class=\"form-check-input inp\" name=\"add_products\" type=\"checkbox\" value=\"1\" data-type=\"checkbox\">\n                              <label class=\"form-check-label\" for=\"check\">\n                                ${__html('Auto add products')}\n                              </label>\n                            </div>\n                            <p class=\"form-text\">${__html('Automatically add products to new orders.')}</p>\n                          </div> \n                        </div>\n                      </div>\n          \n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('List of products')}</label>\n                          <div class=\"col-sm-9\">\n                            <textarea id=\"add_products_list\" class=\"form-control inp\" name=\"add_products_list\" rows=\"2\" data-type=\"text\" style=\"font-size:13px;font-family: monospace;\"></textarea>\n                            <p class=\"form-text\">${__html('Provide one product ID per line. Example: e98d438cby6g..')}</p>\n                          </div> \n                        </div>\n                      </div>\n                    </div>\n\n                    <h4 id=\"h-notifications\" class=\"card-title mb-4 mt-4\">${__html('Notifications')}</h4>\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('New order')}</label>\n                          <div class=\"col-sm-9\">\n                            <select id=\"notify_new_order\" class=\"form-select inp\" name=\"notify_new_order\" data-type=\"select\">\n                                <option value=\"\">${__html('None')}</option>\n                                <option value=\"client\">${__html('Client')}</option>\n                                <option value=\"admin\">${__html('Administrator')}</option>\n                                <option value=\"both\">${__html('Client and administrator')}</option>\n                            </select>\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Emails')}</label>\n                          <div class=\"col-sm-9\">\n                            <input id=\"notify_new_order_emails\" type=\"text\" class=\"form-control inp\" name=\"notify_new_order_emails\" data-type=\"emails\">\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Cancelled order')}</label>\n                          <div class=\"col-sm-9\">\n                            <select id=\"notify_cancel_order\" class=\"form-select inp\" name=\"notify_cancel_order\" data-type=\"select\">\n                                <option value=\"\">${__html('None')}</option>\n                                <option value=\"client\">${__html('Client')}</option>\n                                <option value=\"admin\">${__html('Administrator')}</option>\n                                <option value=\"both\">${__html('Client and administrator')}</option>\n                            </select>\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Emails')}</label>\n                          <div class=\"col-sm-9\">\n                            <input id=\"notify_cancel_order_emails\" type=\"text\" class=\"form-control inp\" name=\"notify_cancel_order_emails\" data-type=\"emails\">\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Processing order')}</label>\n                          <div class=\"col-sm-9\">\n                            <select id=\"notify_proc_order\" class=\"form-select inp\" name=\"notify_proc_order\" data-type=\"select\">\n                                <option value=\"\">${__html('None')}</option>\n                                <option value=\"client\">${__html('Client')}</option>\n                                <option value=\"admin\">${__html('Administrator')}</option>\n                                <option value=\"both\">${__html('Client and administrator')}</option>\n                            </select>\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Emails')}</label>\n                          <div class=\"col-sm-9\">\n                            <input id=\"notify_proc_order_emails\" type=\"text\" class=\"form-control inp\" name=\"notify_proc_order_emails\" data-type=\"emails\">\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Refunded order')}</label>\n                          <div class=\"col-sm-9\">\n                            <select id=\"notify_refunded_order\" class=\"form-select inp\" name=\"notify_refunded_order\" data-type=\"select\">\n                                <option value=\"\">${__html('None')}</option>\n                                <option value=\"client\">${__html('Client')}</option>\n                                <option value=\"admin\">${__html('Administrator')}</option>\n                                <option value=\"both\">${__html('Client and administrator')}</option>\n                            </select>\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Emails')}</label>\n                          <div class=\"col-sm-9\">\n                            <input id=\"notify_refunded_order_emails\" type=\"text\" class=\"form-control inp\" name=\"notify_refunded_order_emails\" data-type=\"emails\">\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Completed order')}</label>\n                          <div class=\"col-sm-9\">\n                            <select id=\"notify_completed_order\" class=\"form-select inp\" name=\"notify_completed_order\" data-type=\"select\">\n                                <option value=\"\">${__html('None')}</option>\n                                <option value=\"client\">${__html('Client')}</option>\n                                <option value=\"admin\">${__html('Administrator')}</option>\n                                <option value=\"both\">${__html('Client and administrator')}</option>\n                            </select>\n                            <p class=\"form-text\">${__html('Choose how to trigger notifications.')}</p>\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Emails')}</label>\n                          <div class=\"col-sm-9\">\n                            <input id=\"notify_completed_order_emails\" type=\"text\" class=\"form-control inp\" name=\"notify_completed_order_emails\" data-type=\"emails\">\n                            <p class=\"form-text d-none\">${__html('Example: alex@kenzap.com, orders@kenzap.com')}</p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Low stock')}</label>\n                          <div class=\"col-sm-9\">\n                            <select id=\"notify_low_stock\" class=\"form-select inp\" name=\"notify_low_stock\" data-type=\"select\">\n                                <option value=\"\">${__html('None')}</option>\n                                <option value=\"dashboard\">${__html('Via dashboard')}</option>\n                                <option value=\"email\">${__html('Via email')}</option>\n                                <option value=\"all\">${__html('Via dashboard and email')}</option>\n                            </select>\n                            <p class=\"form-text\">${__html('Product low stock notification settings.')}</p>\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Emails')}</label>\n                          <div class=\"col-sm-9\">\n                            <input id=\"notify_low_stock_emails\" type=\"text\" class=\"form-control inp\" name=\"notify_low_stock_emails\" data-type=\"emails\">\n                            <p class=\"form-text\">${__html('Example: alex@kenzap.com, orders@kenzap.com')}</p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <h4 id=\"h-currency\" class=\"card-title mb-4 mt-4\">${__html('Currency')}</h4>\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Currency')}</label>\n                          <div class=\"col-sm-9\">\n                            <select id=\"currency\" class=\"form-select inp\" name=\"currency\" data-type=\"select\">\n                              \n                            \n                            </select>\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Currency symbol')}</label>\n                          <div class=\"col-sm-9\">\n                            <input id=\"currency_symb\" type=\"text\" class=\"form-select inp\" name=\"currency_symb\" value=\"\" data-type=\"text\">\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Position')}</label>\n                          <div class=\"col-sm-9\">\n                            <select id=\"currency_symb_loc\" class=\"form-select inp\" name=\"currency_symb_loc\" data-type=\"select\">\n                              <option value=\"left\">${__html('Left')}</option>\n                              <option value=\"right\">${__html('Right')}</option>\n                              <option value=\"left_space\">${__html('Left with space')}</option>\n                              <option value=\"right_space\">${__html('Right with space')}</option>\n                            </select>\n                            <p class=\"form-text\">${__html('Currency position symbol.')}</p>\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-lg-6\">\n\n                      </div>\n                    </div>\n\n                    <h4 id=\"h-tax\" class=\"card-title mb-4 mt-4\">${__html('Tax')}</h4>\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Tax')}</label>\n                          <div class=\"col-sm-9\">\n                            <div class=\"form-check\">\n                              <input id=\"tax_calc\" class=\"form-check-input inp\" name=\"tax_calc\" type=\"checkbox\" value=\"1\" data-type=\"checkbox\">\n                              <label class=\"form-check-label\" for=\"tax_calc\">\n                                ${__html('Calculate')}\n                              </label>\n                            </div>\n                            <p class=\"form-text\">${__html('Enable tax calculations when processing orders.')}</p>\n                          </div> \n                        </div>\n                      </div>\n          \n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Geolocation')}</label>\n                          <div class=\"col-sm-9\">\n                            <div class=\"form-check\">\n                              <input id=\"tax_percent_auto\" class=\"form-check-input inp\" name=\"tax_percent_auto\" type=\"checkbox\" value=\"1\" data-type=\"checkbox\">\n                              <label class=\"form-check-label\" for=\"tax_percent_auto\">\n                                ${__html('Auto tax rate')}\n                              </label>\n                            </div>\n                            <p class=\"form-text\">${__html('Automatically detect tax rate whenever applicable.')}</p>\n                          </div> \n                        </div>\n                      </div>\n                    </div>\n\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Percent')}</label>\n                          <div class=\"col-sm-9\">\n                            <input id=\"tax_percent\" type=\"text\" class=\"form-control inp\" placeholder=\"21\" name=\"tax_percent\" data-type=\"text\">\n                            <p class=\"form-text\">${__html('Default tax rate. Example, 9 or 21. Use numeric value.')}</p>\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Display')}</label>\n                          <div class=\"col-sm-9\">\n                            <input id=\"tax_display\" type=\"text\" class=\"form-control inp\" placeholder=\"VAT\" name=\"tax_display\" data-type=\"text\">\n                            <p class=\"form-text\">${__html('Tax title. Example, VAT or GST.')}</p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <h4 id=\"h-fees\" class=\"card-title mb-4 mt-4\">${__html('Fees')}</h4>\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Service')}</label>\n                          <div class=\"col-sm-9\">\n                            <div class=\"form-check\">\n                              <input id=\"fee_calc\" class=\"form-check-input inp\" name=\"fee_calc\" type=\"checkbox\" value=\"1\" data-type=\"checkbox\">\n                              <label class=\"form-check-label\" for=\"fee_calc\">\n                                ${__html('Calculate')}\n                              </label>\n                            </div>\n                            <p class=\"form-text\">${__html('Calculate service fee when processing orders.')}</p>\n                          </div> \n                        </div>\n                      </div>\n          \n                      <div class=\"col-lg-6 d-none\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Geolocation')}</label>\n                          <div class=\"col-sm-9\">\n                            <div class=\"form-check\">\n                              <input id=\"tax_auto_rate\" class=\"form-check-input inp\" name=\"tax_auto_rate\" type=\"checkbox\" value=\"1\" data-type=\"checkbox\">\n                              <label class=\"form-check-label\" for=\"tax_auto_rate\">\n                                ${__html('Auto tax rate')}\n                              </label>\n                            </div>\n                            <p class=\"form-text\">${__html('Automatically detect tax rate whenever applicable.')}</p>\n                          </div> \n                        </div>\n                      </div>\n                    </div>\n\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Percent')}</label>\n                          <div class=\"col-sm-9\">\n                            <input id=\"fee_percent\" type=\"text\" class=\"form-control inp\" placeholder=\"5\" name=\"fee_percent\" data-type=\"text\">\n                            <p class=\"form-text\">${__html('Default fee rate. Example, 5 or 7. Use numeric value.')}</p>\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Display')}</label>\n                          <div class=\"col-sm-9\">\n                            <input id=\"fee_display\" type=\"text\" class=\"form-control inp\" placeholder=\"Service fee\" name=\"fee_display\" data-type=\"text\">\n                            <p class=\"form-text\">${__html('Fee title. Example, Service fee.')}</p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <h4 id=\"h-payment\" class=\"card-title mb-4 mt-4\">${__html('Payment')}</h4>\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Methods')}</label>\n                          <div class=\"col-sm-9\">\n                            <div class=\"form-check\">\n                              <input id=\"custom_payment_method\" class=\"form-check-input inp\" name=\"custom_payment_method\" type=\"checkbox\" value=\"1\" data-type=\"checkbox\">\n                              <label class=\"form-check-label\" for=\"custom_payment_method\">\n                                ${__html('Custom methods')}\n                              </label>\n                            </div>\n                            <p class=\"form-text\">${__html('Allow changing of payment method in the dashboard.')}</p>\n                          </div> \n                        </div>\n                      </div>\n          \n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('List of Methods')}</label>\n                          <div class=\"col-sm-9\">\n                            <textarea id=\"payment_methods\" class=\"form-control inp\" name=\"payment_methods\" rows=\"4\" data-type=\"text\" style=\"font-size:13px;font-family: monospace;\"></textarea>\n                            <p class=\"form-text\">${__html('Provide list of available payment methods. Example: PayPal, PayNow.')}</p>\n                          </div> \n                        </div>\n                      </div>\n                    </div>\n\n                    <h4 id=\"h-discounts\" class=\"card-title mb-4 mt-4\">${__html('Discounts')}</h4>\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Coupons')}</label>\n                          <div class=\"col-sm-9\">\n                            <div class=\"form-check\">\n                              <input id=\"coupons\" class=\"form-check-input inp\" name=\"coupons\" type=\"checkbox\" value=\"1\" data-type=\"checkbox\">\n                              <label class=\"form-check-label\" for=\"coupons\">\n                                ${__html('Enable coupons')}\n                              </label>\n                            </div>\n                            <p class=\"form-text\">${__html('Allow use of coupons upon checkout.')}</p>\n                          </div> \n                        </div>\n                      </div>\n          \n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('List of coupons')}</label>\n                          <div class=\"col-sm-9\">\n                            <textarea id=\"coupon_list\" class=\"form-control inp\" name=\"coupon_list\" rows=\"2\" data-type=\"text\" style=\"font-size:13px;font-family: monospace;\"></textarea>\n                            <p class=\"form-text\">${__html('Provide one coupon and its discount rate per line. Example: BESTDEALS 15.')}</p>\n                          </div> \n                        </div>\n                      </div>\n                    </div>\n\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Products')}</label>\n                          <div class=\"col-sm-9\">\n                            <div class=\"form-check\">\n                              <input id=\"product_discounts\" class=\"form-check-input inp\" name=\"product_discounts\" type=\"checkbox\" value=\"1\" data-type=\"checkbox\">\n                              <label class=\"form-check-label\" for=\"product_discounts\">\n                                ${__html('Product discounts')}\n                              </label>\n                            </div>\n                            <p class=\"form-text\">${__html('Enable or disable all discounts defined under individual products page.')}</p>\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-lg-6 d-none\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('List of hours')}</label>\n                          <div class=\"col-sm-9\">\n                            <textarea id=\"happy_hours_list\" class=\"form-control inp\" name=\"happy_hours_list\" rows=\"2\" data-type=\"text\" style=\"font-size:13px;font-family: monospace;\"></textarea>\n                            <p class=\"form-text\">${__html('Provide one happy hour, its discount per line. Example: Monday 15:00-17:30 10.')}</p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <h4 id=\"h-webhooks\" class=\"card-title mb-4 mt-4\">${__html('Webhooks')}</h4>\n                    <div class=\"row webhook-list\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Trigger')}</label>\n                          <div class=\"col-sm-9\">\n                            <select id=\"webhook1_trigger\" class=\"form-select webhook_trigger\" name=\"webhook1_trigger\" data-type=\"select\">\n                                <option value=\"\">${__html('None')}</option>\n                                <option value=\"new_order\">${__html('New order')}</option>\n                                <option value=\"canceled_order\">${__html('Canceled order')}</option>\n                                <option value=\"refunded_order\">${__html('Refunded order')}</option>\n                                <option value=\"completed_order\">${__html('Completed order')}</option>\n                                <option value=\"low_stock\">${__html('Low stock')}</option>\n                            </select>\n                            <p class=\"form-text\">${__html('Action when the URL is called.')}</p>\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Webhook')}</label>\n                          <div class=\"col-sm-9\">\n                            <input id=\"webhook1_url\" type=\"text\" class=\"form-control webhook_url\" name=\"webhook1_url\" >\n                            <p class=\"form-text\">${__html('URL with parameters. Ex.: https://example.com/{{order_id}}')}</p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <h4 id=\"h-printing\" class=\"card-title mb-4 mt-4\">${__html('Printing')}</h4>\n\n                      <div class=\"row\">\n\n                        <div class=\"col-xl-6\">\n                          <div class=\"form-group row mb-3 mt-1\">\n                            <label class=\"col-sm-3 col-form-label d-none\">${__html('Printers')}</label>\n                            <div class=\"col-sm-12\">\n\n                              <input id=\"printers\" class=\"form-control inp d-none\" name=\"printers\" type=\"text\" value=\"1\" data-type=\"text\">\n                              \n                              <table class=\"printer-table order-form mb-3\">\n                                <theader>\n                                  <tr><th><div class=\"me-1 me-sm-3\">${ __html('Device ID') }</div></th><th class=\"tp\"><div class=\"me-1 me-sm-3\">${ __html('Type') }</div></th><th class=\"tp\"><div class=\"me-1 me-sm-3\">${ __html('Paper') }</div></th><th class=\"printer-ip-th d-none\"><div class=\"me-1 me-sm-3 \">${ __html('IP Address') }</div></th><th></th></tr>\n                                  <tr class=\"new-item-row\">\n                                      <td>\n                                        <div class=\"me-1 me-sm-3 mt-2\">\n                                            <input type=\"text\" value=\"\" autocomplete=\"off\" placeholder=\"${ __html('AW4FROYNFRGV') }\" class=\"form-control form-control-sm printer-idd\" style=\"max-width: 156px;\" data-id=\"\" data-index=\"\" list=\"item-suggestions\">\n                                        </div>\n                                      </td>\n                                      <td class=\"printer-type\">\n                                          <div class=\"me-1 me-sm-3 mt-2\">\n                                            <button class=\"form-control form-control-sm dropdown-toggle\" type=\"button\" id=\"printer_type\"  data-value=\"\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n                                              ${ __html('Select') }\n                                            </button>\n                                            <ul class=\"dropdown-menu\" aria-labelledby=\"printer_type\">\n                                              <li><a class=\"dropdown-item\" data-value=\"bluetooth\" href=\"#\"><img style=\"height:24px\" src=\"/assets/img/bluetooth.webp\" > ${ __html('bluetooth') }</a></li>\n                                              <li><a class=\"dropdown-item\" data-value=\"ethernet\" href=\"#\"><img style=\"height:24px\" src=\"/assets/img/ethernet.png\" > ${ __html('ethernet') }</a></li>\n                                              <li><a class=\"dropdown-item\" data-value=\"usb\" href=\"#\"><img style=\"height:24px\" src=\"/assets/img/usb.png\" > ${ __html('usb') }</a></li>\n                                            </ul>\n                                          </div>\n                                      </td>\n                                      <td class=\"printer-paper-type\">\n                                          <div class=\"me-1 me-sm-3 mt-2\">\n                                            <button class=\"form-control form-control-sm dropdown-toggle\" type=\"button\" id=\"printer_paper_type\"  data-value=\"\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n                                              ${ __html('Select') }\n                                            </button>\n                                            <ul class=\"dropdown-menu\" aria-labelledby=\"printer_paper_type\">\n                                              <li><a class=\"dropdown-item\" data-value=\"58\" href=\"#\">${ __html('58mm') }</a></li>\n                                              <li><a class=\"dropdown-item\" data-value=\"80\" href=\"#\">${ __html('80mm') }</a></li>\n                                            </ul>\n                                          </div>\n                                      </td>\n                                      <td class=\"printer-ip-td d-none\">\n                                        <div class=\"me-1 me-sm-3 mt-2\"> \n                                          <input type=\"text\" value=\"\" autocomplete=\"off\" placeholder=\"${ __html('192.168.1.12') }\" class=\"form-control form-control-sm printer-ip\" style=\"max-width: 156px;\" data-id=\"\" data-index=\"\" >\n                                        </div>\n                                      </td>\n                                      <td class=\"align-middle text-center pt-2\"> \n                                          <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 16 16\" width=\"24\" height=\"24\" class=\"bi bi-plus-circle text-success align-middle add-printer po\"><path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"></path><path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"></path></svg>\n                                      </td>\n                                  </tr>\n                                </theader>\n                                <tbody>\n\n\n                                </tbody>\n                              </table>\n                              <p class=\"form-text\">${__html('List all printers connected to the Cloud.')}</p>\n                            </div>\n                          </div>\n                        </div>\n                        <div class=\"col-xl-6\">\n                          <div class=\"form-group row mb-3 mt-1\">\n                            <label class=\"col-sm-3 col-form-label\">${__html('Action')}</label>\n                            <div class=\"col-sm-9\">\n                              <select id=\"print_action\" class=\"form-select inp\" name=\"print_action\" data-type=\"select\">\n                                <option value=\"system\">${__html('Default printing dialogue')}</option>\n                                <option value=\"app\">${__html('Kenzap print app')}</option>\n                              </select>\n                              <p class=\"form-text\">${__html('Choose action when printing icon is clicked.')}</p>\n                            </div> \n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"border-top my-3 mb-5 d-none\"></div>\n\n                      <h4 id=\"h-templates\" class=\"card-title mb-4 mt-4\">${__html('Templates')}</h4>\n\n                      <input id=\"templates\" class=\"form-control inp d-none\" name=\"templates\" type=\"text\" value=\"\" data-type=\"text\">\n\n                      <div id=\"templates-list\" class=\"accordion accordion-flush templates-list\" > </div>\n\n                      <div class=\"row\">\n                        <div class=\"col-lg-12\">\n                          <div class=\"text-end \"> \n                            <button class=\"btn btn-outline-primary btn-template-new mt-5 mb-1 mt-md-4 mb-md-0 d-flex align-items-center\" type=\"button\"><svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" class=\"bi bi-plus-circle align-middle me-2 po\" ><path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"></path><path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"></path></svg>${ __html('New template') }</button>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"row d-none\">\n                        <div class=\"col-lg-6\">\n                          <div class=\"form-group row mb-3 mt-1\">\n                            <label class=\"col-sm-3 col-form-label\">${__html('QR code')}</label>\n                            <div class=\"col-sm-9\">\n                              <div class=\"form-check\">\n                                <input id=\"qr_print\" class=\"form-check-input inp\" name=\"qr_print\" type=\"checkbox\" value=\"1\" data-type=\"checkbox\">\n                                <label class=\"form-check-label\" for=\"qr_print\">\n                                  ${__html('QR code printing')}\n                                </label>\n                              </div>\n                              <p class=\"form-text\">${__html('Allow \"Scan me to order\" QR-code printing from orders dashboard.')}</p>\n                            </div>\n                          </div>\n                        </div>\n                        <div class=\"col-lg-6\">\n                          <div class=\"form-group row mb-3 mt-1\">\n                            <label class=\"col-sm-3 col-form-label\">${__html('QR printing')}</label>\n                            <div class=\"col-sm-9\">\n                              <textarea id=\"qr_template\" class=\"form-control inp\" name=\"qr_template\" rows=\"10\" data-type=\"text\" style=\"font-size:13px;font-family: monospace;\"></textarea>\n                              <p class=\"form-text\">${__html('Default \"Scan me to order\" template for printers.')}</p>\n                            </div> \n                          </div>\n                        </div>\n                      </div>\n\n\n                    </div>\n\n                    <div class=\"tab-pane fade\" id=\"nav-currency\" role=\"tabpanel\" aria-labelledby=\"nav-currency-link\">\n                      <br>\n                      <hr>\n                      <br>\n                      <br>\n                    </div>\n                    \n                    <div class=\"tab-pane fade\" id=\"nav-tax\" role=\"tabpanel\" aria-labelledby=\"nav-tax-link\">\n                    <h4 id=\"h-tax\" class=\"card-title mb-4\">${__html('Your tax information')}</h4>\n                    <p class=\"card-description\"> ${__html('Invoice info (this information will be not revealed public)')} </p>\n\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Tax ID')}</label>\n                          <div class=\"col-sm-9\">\n                            <input id=\"vat\" type=\"text\" class=\"form-control inp\" name=\"vat\" data-type=\"text\">\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Email')}</label>\n                          <div class=\"col-sm-9\">\n                            <input id=\"email\" type=\"email\" class=\"form-control inp\" name=\"email\" data-type=\"email\">\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Company')}</label>\n                          <div class=\"col-sm-9\">\n                            <input id=\"company\" type=\"text\" class=\"form-control inp inp\" name=\"company\" data-type=\"text\">\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Type')}</label>\n                          <div class=\"col-sm-4\">\n                            <div class=\"form-check\">\n                              <label class=\"form-check-label\">\n                                <input type=\"radio\" class=\"form-check-input inp\" name=\"entity_type\" value=\"individual\" data-type=\"radio\" checked=\"true\">\n                                ${__html('Individual')}\n                                <i class=\"input-helper\"></i></label>\n                            </div>\n                          </div>\n                          <div class=\"col-sm-5\">\n                            <div class=\"form-check\">\n                              <label class=\"form-check-label\">\n                                <input type=\"radio\" class=\"form-check-input inp\" name=\"entity_type\" value=\"business\" data-type=\"radio\">\n                                ${__html('Business')}\n                                <i class=\"input-helper\"></i></label>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <p class=\"card-description\">\n                        ${__html('Address')}\n                    </p>\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\"> ${__html('Address 1')}</label>\n                          <div class=\"col-sm-9\">\n                            <input id=\"addr1\" type=\"text\" class=\"form-control inp\" name=\"addr1\" data-type=\"text\">\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('State')}</label>\n                          <div class=\"col-sm-9\">\n                            <input id=\"state\" type=\"text\" class=\"form-control inp\" name=\"state\" data-type=\"text\">\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Address 2')}</label>\n                          <div class=\"col-sm-9\">\n                            <input id=\"addr2\" type=\"text\" class=\"form-control inp\" name=\"addr2\" data-type=\"text\">\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Postcode')}</label>\n                          <div class=\"col-sm-9\">\n                            <input id=\"post\" type=\"text\" class=\"form-control inp\" name=\"post\" data-type=\"text\">\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('City')}</label>\n                          <div class=\"col-sm-9\">\n                            <input id=\"city\" type=\"text\" class=\"form-control inp\" name=\"city\" data-type=\"text\">\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Country')}</label>\n                          <div class=\"col-sm-9\">\n                            <select id=\"country\" class=\"form-select inp\" name=\"country\" data-type=\"select\">\n                              \n                            </select>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <br>\n                    <hr>\n                    <br>\n                    <br>\n                    </div>\n                    <div class=\"tab-pane fade\" id=\"nav-payout\" role=\"tabpanel\" aria-labelledby=\"nav-payout-link\">\n                    <h4 id=\"h-payout\" class=\"card-title mb-4\" title=\"payouts\">${__html('Payout data')}</h4>\n                    <p class=\"card-description\">${__html('This information is used to process your earnings as part of Kenzap Affiliate or Kenzap Designing programs.')}</p>\n\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html(\"Bank account holder's name\")}</label>\n                          <div class=\"col-sm-9\">\n                            <input id=\"y1\" type=\"text\" class=\"form-control inp\" name=\"y1\" minlength=\"2\" data-type=\"text\">\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('IBAN/Account Nr.')}</label>\n                          <div class=\"col-sm-9\">\n                            <input id=\"y2\" type=\"text\" class=\"form-control inp\" name=\"y2\" minlength=\"2\" data-type=\"text\">\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('SWIFT Code')}</label>\n                          <div class=\"col-sm-9\">\n                            <input id=\"y3\" type=\"text\" class=\"form-control inp\" name=\"y3\" data-type=\"text\">\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Bank name')}</label>\n                          <div class=\"col-sm-9\">\n                            <input id=\"y4\" type=\"text\" class=\"form-control inp\" name=\"y4\" data-type=\"text\">\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Bank branch city')}</label>\n                          <div class=\"col-sm-9\">\n                            <input id=\"y5\" type=\"text\" class=\"form-control inp\" name=\"y5\" data-type=\"text\">\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group row mb-3 mt-1\">\n                          <label class=\"col-sm-3 col-form-label\">${__html('Bank branch country')}</label>\n                          <div class=\"col-sm-9\">\n                            <select id=\"y6\" class=\"form-select inp\" name=\"y6\" data-type=\"select\">\n                              \n                            </select>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"position-fixed bottom-0 p-2 m-4 end-0 align-items-center\" >   \n      <div class=\"toast hide align-items-center text-white bg-dark border-0\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" data-bs-delay=\"3000\">\n        <div class=\"d-flex\">  \n          <div class=\"toast-body\"></div>\n          <button type=\"button\" class=\"btn-close btn-close-white me-2 m-auto\" data-bs-dismiss=\"toast\" aria-label=\"Close\"></button>\n        </div>\n      </div>\n    </div>\n    `;\n}","import { headers, __html, parseApiError, spaceID, toast, __ } from '@kenzap/k-cloud';\nimport { priceFormat, renderNotifications } from \"../_/_helpers.js\"\n\nexport const printReceipt = (_this, _id, type, template, debug = false) => {\n\n    let o = {}, data = {}, date = new Date();\n    if(_id==\"test\"){\n\n        o = {\n            _id: \"test\",\n            id: \"test\",\n            created: 1649831099,\n            from: \"dine-in\",\n            idd: \"\",\n            items: [\n                {\n                    cats: [],\n                    id: \"02de5fc62938ba0b031b4e80e962bac15a7285d8\",\n                    index: \"0\",\n                    note: \"\",\n                    price: 45,\n                    qty: 2,\n                    sdesc: \"Salted Egg Crab\",\n                    title: \"咸蛋螃蟹\",\n                    total: 45,\n                    type: \"new\",\n                    variations: [],\n                },\n                {\n                    cats: [],\n                    id: \"69ae96cfb7b25c358dd07560fc55e7d83cae2eb7\",\n                    index: \"0\",\n                    note: \"\",\n                    price: 45,\n                    qty: 1,\n                    sdesc: \"Kam Heong Crab\",\n                    title: \"金香螃蟹\",\n                    total: 45,\n                    type: \"new\",\n                    variations: [],\n                },\n                {\n                    cats: ['Other'],\n                    id: \"a678f2b21a3a3f7e97b6707d8223f32d17ecbefa\",\n                    index: \"0\",\n                    note: \"\",\n                    price: 10,\n                    qty: 12,\n                    sdesc: \"\",\n                    title: \"鱼鳔羮\",\n                    total: 10,\n                    type: \"new\",\n                    variations: [],\n                },\n                {\n                    cats: ['Other'],\n                    id: \"a678f2b21a3a3f7e97b6707d8223f32d17ecbefa\",\n                    index: \"0\",\n                    note: \"\",\n                    price: 25,\n                    qty: 1,\n                    sdesc: \"\",\n                    title: \"螃蟹米粉汤 (粗/幼米粉）\",\n                    total: 25,\n                    type: \"new\",\n                    variations: [],\n                },\n                {\n                    cats: ['Other'],\n                    id: \"a678f2b21a3a3f7e97b6707d8223f32d17ecbefa\",\n                    index: \"0\",\n                    note: \"\",\n                    price: 4,\n                    qty: 1,\n                    sdesc: \"\",\n                    title: \"Fied Chicken Noodles\",\n                    total: 4,\n                    type: \"new\",\n                    variations: [],\n                }\n            ],\n            kid: \"0\",\n            name: \"dine-in\",\n            note: \"\",\n            sid: spaceID,\n            status: \"new\",\n            price: { \n                discount_percent: 10,\n                discount_total: 11.105,\n                discount_value: 0,\n                fee_total: 0,\n                grand_total: 99.95,\n                payment_method: \"Cash\",\n                tax_percent: 0,\n                tax_total: 0,\n                total: 111.05 \n            },\n            step: 1,\n            table: \"table test\",\n            total: 111.05,\n            total_all: 99.95,\n            updated: 1649833845\n        }\n\n    }else{\n        o = _this.state.orders.filter(order => { return order._id == _id; })[0], data = {}, date = new Date();\n    }\n \n    console.log(o);\n\n    // debug vs actual print\n    data.debug = debug;\n\n    // find receipt template if none is provided\n    if(!template){\n\n        // any user designated templates?\n        let templates = _this.state.settings['templates'].filter(template => { return template.type == \"receipt\" && (template.user == _this.state.user.id); });\n        \n        // get default template\n        if(templates.length == 0) templates = _this.state.settings['templates'].filter(template => { return template.type == \"receipt\" && (template.user == \"\"); });\n\n        // assign template\n        data.print = templates.length > 0 ? templates[0].template : \"Kenzap Cloud: no receipt template found\";\n\n        // default\n        template = templates.length > 0 ? templates[0] : {};\n    }else{\n\n        data.print = template.template;\n    }\n\n    // find max char per line parameter\n    let cols_p = data.print.indexOf('[W:'); let cols = 20;\n    if(cols_p!=-1){ cols = parseInt(data.print.substr(cols_p+3, 2)); data.print = data.print.substr(0, cols_p) + data.print.substr(cols_p+6, data.print.length); }\n\n    // order id\n    data.print = data.print.replace(/{{order_id}}/g, o.id ? o.id : \"-\");\n\n    // order from\n    data.print = data.print.replace(/{{order_from}}/g, o.from);\n\n    // take away\n    data.print = data.print.replace(/{{order_takeaway}}/g, o.takeaway ? (o.takeaway == \"dine-in\" ? __html(\"dine-in\") : __html(\"take away\")) : __html(\"dine-in\"));\n\n    // order note\n    data.print = data.print.replace(/{{order_note}}/g, o.note ? o.note : \"\");\n\n    // phone\n    data.print = data.print.replace(/{{order_phone}}/g, o.phone ? o.phone : \"\");\n    \n    // phone\n    data.print = data.print.replace(/{{order_addr1}}/g, o.addr1 ? o.addr1 : \"\");\n    \n    // table no\n    data.print = data.print.replace(/{{order_table}}/g, o.table ? __html(\"Table #%1$\", o.table) : \"\");\n\n    // current time\n    data.print = data.print.replace(/{{date_time}}/g, date.toLocaleString([], { dateStyle: 'medium', timeStyle: 'short', }));\n\n    // order items\n    data.print = data.print.replace(/{{order_items}}/g, getPrintItems(_this, o, '', cols));\n\n    // order items restricted by category\n    const matches = data.print.matchAll(/{{order_items:(.*?):start}}/g);\n    Array.from(matches, x => x[1]).forEach(cat => {\n\n        // console.log(cat);\n\n        // const items_match = data.print.matchAll(/{{order_items:Frog:start}}([\\s\\S]*?){{order_items:Frog:end}}/g);\n\n        let items_restricted = getPrintItems(_this, o, cat, cols);\n\n        // order items cat\n        let replace = \"{{order_items:\"+cat+\"}}\";\n        let re = new RegExp(replace,\"g\");\n        data.print = data.print.replace(re, items_restricted);\n\n        // remove entire block if no items for requested category are present \n        if(items_restricted.length<2){\n\n            let start = data.print.indexOf(\"{{order_items:\"+cat+\":start}}\");\n            let end = data.print.indexOf(\"{{order_items:\"+cat+\":end}}\") + (\"{{order_items:\"+cat+\":end}}\").length;\n\n            data.print = data.print.slice(0, start) + data.print.slice(end);\n\n        // get rid of start/end row indicators\n        }else{\n\n            replace = \"\\n{{order_items:\"+cat+\":start}}\";\n            re = new RegExp(replace,\"g\");\n            data.print = data.print.replace(re, '');\n\n            replace = \"\\n{{order_items:\"+cat+\":end}}\";\n            re = new RegExp(replace,\"g\");\n            data.print = data.print.replace(re, '');\n        }\n    });\n\n    // order note\n    // let note = !o.note || o.note == '<br>' ? '' : o.note;\n    // if(note.length>0){\n    //     //  data.print += '[C]================================';\n    //     data.print = data.print.replace(/{{order_note}}/g, '[C]================================\\n' + note + '\\n[C]================================\\n');\n    // }\n\n    // order totals\n    data.print = data.print.replace(/{{total}}/g, priceFormat(_this, o.price.total));\n    data.print = data.print.replace(/{{tax_total}}/g, priceFormat(_this, o.price.tax_total));\n    data.print = data.print.replace(/{{discount_total}}/g, priceFormat(_this, o.price.discount_total));\n    data.print = data.print.replace(/{{grand_total}}/g, priceFormat(_this, o.price.grand_total));\n\n    let order_totals  = '';\n    order_totals += '[L]' + __('Subtotal')+'[R]' + priceFormat(_this, o.price.total) + '\\n';\n    if(o.price.discount_total > 0) order_totals += '[L]'+__('Discount')+'[R]-' + priceFormat(_this, o.price.discount_total) + '\\n';\n    if(o.price.fee_total > 0) order_totals += '[L]'+_this.state.settings.fee_display+'[R]' + priceFormat(_this, o.price.fee_total) + '\\n';\n    if(o.price.tax_total > 0) order_totals += '[L]'+_this.state.settings.tax_display+'[R]' + priceFormat(_this, o.price.tax_total) + '\\n';\n    if(o.price.grand_total > 0) order_totals += '[L]'+__('Grand Total')+'[R]' + priceFormat(_this, o.price.grand_total);\n\n    data.print = data.print.replace(/{{order_totals}}/g, order_totals);\n\n    // qr link\n    // data.print = data.print.replace(/{{qr_link}}/g, 'http://'+_this.state.qr_settings.slug + '.kenzap.site');\n    if(document.querySelector('#qr-number')) data.print = data.print.replace(/{{qr_number}}/g, document.querySelector('#qr-number').value);\n\n    let printers = type == \"user\" ? template[\"user_print\"] : template[\"auto_print\"];\n\n    // console.log(printers);\n\n    data[\"user\"] = _this.state.user.id;\n    data[\"printers\"] = []; data[\"printers\"].push(printers[0]); // one by one\n    data[\"type\"] = \"receipt\";\n\n    // process styling\n    data.print = processStyling(data.print, cols);\n\n    // console.log(data.print); \n    // return;\n\n    // send data\n    fetch('https://api-v1.kenzap.cloud/ecommerce/', {\n        method: 'post',\n        headers: headers,\n        body: JSON.stringify({\n            query: {\n                print: {\n                    type:       'print',\n                    data:       data,\n                    sid:        spaceID(),\n                }\n            }\n        })\n    })\n    .then(response => response.json())\n    .then(response => {\n\n        if (response.success){\n\n            toast( __('Printing order #'+o.id) );\n\n        }else{\n\n            parsePrintError(_this, response);\n\n            // parseApiError(response);\n        }\n    })\n    .catch(error => {\n\n        parseApiError(error);\n    });\n\n    _this.state.printRequest = null;\n\n    return true;\n}\n\nexport const processStyling = (print, cols) => {\n\n    // preprocess lines\n    let rows = print.split('\\n');\n    let output = \"\";\n    for(let row of rows){\n\n        let max_char = cols;\n\n        let s = row.indexOf('[S]');\n        let r = row.indexOf('[R]');\n        let l = row.indexOf('[L]');\n        let c = row.indexOf('[C]');\n        \n        // chinese, japanese.. chars are twice the size of latin chars, deduct it\n        max_char -= countDoubledChars(row) ? countDoubledChars(row) : 1;\n\n        // [S] stretch to fit row width\n        if(s!=-1){\n\n            row = row.substr(0, s) + row.substr(s+3, row.length);\n        }\n\n        // [R] right aign text\n        if(r!=-1){ \n\n            let spaceN = max_char - (row.substr(0, r) + row.substr(r+3, row.length)).length;\n\n            // other tags offset\n            if(l!=-1) spaceN += 3; if(c!=-1) spaceN += 3;\n\n            row = row.substr(0, r) + addSpaces(spaceN) + row.substr(r+3, row.length)\n        }\n\n        // [L] left align text\n        if(l!=-1){\n\n            let spaceN = max_char - (row.substr(0, l) + row.substr(l+3, row.length)).length;\n            row = row.substr(0, l) + row.substr(l+3, row.length) + addSpaces(spaceN); \n        }\n\n        // [C] center align text\n        if(c!=-1){ \n            \n            let spaceN = max_char - (row.substr(0, r) + row.substr(r+3, row.length)).length;\n\n            row = addSpaces(Math.floor(spaceN/2)) + row.substr(0, c) + row.substr(c+3, row.length) + addSpaces(Math.ceil(spaceN/2));\n        }\n\n        // clean empty row\n        let empty = 0; [...row].forEach(char => { if (char==\" \") empty +=1 ; }); if(empty>=max_char) row = \"\"; // console.log(empty + \" \" + max_char);\n\n        // split very long rows to fit max col size\n        if(row.length > cols){\n\n            let rowNew = \"\", last_row_length = 0;\n            for (let i = 0; i < row.length; i++){\n\n                last_row_length += 1;\n                rowNew += row[i];\n                if(i % cols == 0 && i>0){ rowNew += \"\\n\"; last_row_length = 0; } \n            }\n\n            // add remaining trailing spaces\n            for (let i = last_row_length; i < cols; i++){\n                \n                rowNew += \" \";\n            }\n\n            console.log(rowNew)\n            // rowNew += \"\\n\";\n\n            row = rowNew;\n        }\n\n        output += row+\"\\n\";\n    }\n\n    return output;\n}\n\nexport const addSpaces = (l) => {\n\n    let s = \"\";\n    for(let i=0;i<=l;i++){s+=\" \";}\n    return s;\n}\n\nexport const printReceiptLegacy = (_this, _id, type, template) => {\n\n    let o = _this.state.orders.filter(order => { return order._id == _id; })[0], data = {}, date = new Date();\n\n    // debug vs actual print\n    data.debug = false;\n\n    // find receipt template if none is provided\n    if(!template){\n\n        // any user designated templates?\n        let templates = _this.state.settings['templates'].filter(template => { return template.type == \"receipt\" && (template.user == _this.state.user.id); });\n        \n        // get default templagte\n        if(templates.length == 0) templates = _this.state.settings['templates'].filter(template => { return template.type == \"receipt\" && (template.user == \"\"); });\n\n        // assign template\n        data.print = templates.length > 0 ? templates[0].template : \"Kenzap Cloud: no receipt template found\";\n\n        // default\n        template = templates.length > 0 ? templates[0] : {};\n    }else{\n\n        data.print = template.template;\n    }\n\n    // order id\n    data.print = data.print.replace(/{{order_id}}/g, o.id);\n\n    // table no\n    data.print = data.print.replace(/{{order_table}}/g, o.table ? __html(\"Table #%1$\", o.table) : \"\");\n\n    // current time\n    data.print = data.print.replace(/{{date_time}}/g, date.toLocaleString([], { dateStyle: 'medium', timeStyle: 'short', }));\n\n    // order items\n    data.print = data.print.replace(/{{order_items}}/g, getPrintItems(_this, o, ''));\n\n    // order items restricted by category\n    const matches = data.print.matchAll(/{{order_items:(.*?):start}}/g);\n    Array.from(matches, x => x[1]).forEach(cat => {\n\n        // const items_match = data.print.matchAll(/{{order_items:Frog:start}}([\\s\\S]*?){{order_items:Frog:end}}/g);\n\n        let items_restricted = getPrintItems(_this, o, cat);\n\n        // order items cat\n        let replace = \"{{order_items:\"+cat+\"}}\";\n        let re = new RegExp(replace,\"g\");\n        data.print = data.print.replace(re, items_restricted);\n\n        // remove entire block if no items for requested category are present \n        if(items_restricted.length<2){\n\n            console.log(\"removing entire block\");\n\n            let start = data.print.indexOf(\"{{order_items:\"+cat+\":start}}\");\n            let end = data.print.indexOf(\"{{order_items:\"+cat+\":end}}\") + (\"{{order_items:\"+cat+\":end}}\").length;\n\n            data.print = data.print.slice(0, start) + data.print.slice(end);\n\n            // replace = \"\\n{{order_items:\"+cat+\":start}}([\\s\\S]){{order_items:\"+cat+\":end}}\";\n            // re = new RegExp(replace,\"g\");\n            // data.print = data.print.replace(re, \"\");\n\n        // get rid of start/end row indicators\n        }else{\n\n            replace = \"\\n{{order_items:\"+cat+\":start}}\";\n            re = new RegExp(replace,\"g\");\n            data.print = data.print.replace(re, '');\n\n            replace = \"\\n{{order_items:\"+cat+\":end}}\";\n            re = new RegExp(replace,\"g\");\n            data.print = data.print.replace(re, '');\n        }\n    });\n\n    // order note\n    // let note = !o.note || o.note == '<br>' ? '' : o.note;\n    // if(note.length>0){\n    //     //  data.print += '[C]================================';\n    //     data.print = data.print.replace(/{{order_note}}/g, '[C]================================\\n' + note + '\\n[C]================================\\n');\n    // }\n\n    // order totals\n    data.print = data.print.replace(/{{total}}/g, priceFormat(_this, o.price.total));\n    data.print = data.print.replace(/{{tax_total}}/g, priceFormat(_this, o.price.tax_total));\n    data.print = data.print.replace(/{{discount_total}}/g, priceFormat(_this, o.price.discount_total));\n    data.print = data.print.replace(/{{grand_total}}/g, priceFormat(_this, o.price.grand_total));\n\n    let order_totals  = '';\n    order_totals += '[L]'+__('Subtotal')+'[R]' + priceFormat(_this, o.price.total) + '\\n';\n    if(o.price.discount_total > 0) order_totals += '[L]'+__('Discount')+'[R]-' + priceFormat(_this, o.price.discount_total) + '\\n';\n    if(o.price.fee_total > 0) order_totals += '[L]'+_this.state.settings.fee_display+'[R]' + priceFormat(_this, o.price.fee_total) + '\\n';\n    if(o.price.tax_total > 0) order_totals += '[L]'+_this.state.settings.tax_display+'[R]' + priceFormat(_this, o.price.tax_total) + '\\n';\n    if(o.price.grand_total > 0) order_totals += '[L]'+__('Grand Total')+'[R]' + priceFormat(_this, o.price.grand_total);\n\n    data.print = data.print.replace(/{{order_totals}}/g, order_totals);\n\n    // qr link\n    data.print = data.print.replace(/{{qr_link}}/g, 'http://'+_this.state.qr_settings.slug + '.kenzap.site');\n    data.print = data.print.replace(/{{qr_number}}/g, document.querySelector('#qr-number').value);\n\n    // let str = 'kenzapprint://kenzapprint.app?data='+encodeURIComponent(JSON.stringify(data));\n    \n    console.log(data.print);\n\n    if(data.debug){ console.log(data.print); console.log(str); }\n\n    let printers = type == \"user\" ? template[\"user_print\"] : template[\"auto_print\"];\n\n    data[\"user\"] = _this.state.user.id;\n    data[\"printers\"] = printers;\n    data[\"type\"] = \"receipt\";\n\n    // send data\n    fetch('https://api-v1.kenzap.cloud/ecommerce/', {\n        method: 'post',\n        headers: headers,\n        body: JSON.stringify({\n            query: {\n                print: {\n                    type:       'print',\n                    data:       data,\n                    sid:        spaceID(),\n                }\n            }\n        })\n    })\n    .then(response => response.json())\n    .then(response => {\n\n        if (response.success){\n\n            toast( __('Printing order #'+o.id) );\n\n        }else{\n\n            parsePrintError(_this, response);\n            \n            // parseApiError(response);\n        }\n    })\n    .catch(error => {\n\n        parseApiError(error);\n    });\n\n    _this.state.printRequest = null;\n\n    return true;\n}\n\n/*\n* 58mm wide thermal printers are best to display 20-32 chars per line\n*\n* @param    txt         text with long product item titles to process\n* @param    end_ofst    previous iteation offset     \n* @param    cols        max chars per line \n* @return \t{String} \ttxt\n* \n*/\nexport const row_latin = (txt, end_ofst) => {\n\n    let output = '', max_char = 32 - end_ofst, max_ofst = 4, ofst_prev = 0, ofst = 0, ci = 0;\n    // console.log(max_char);\n    for(let i = 0; i < Math.ceil(txt.length / max_char); i++){\n\n        // add new line print from second loop only\n        if(i>0) output += '\\n[L]';\n\n        // ofst store first available whitespace break in words\n        ofst = ci = 0;\n        for(let e = max_ofst; e > -1 * max_ofst; e--){\n\n            ci = ((max_char + ofst_prev) * i) + max_char + e; if(txt[ci] == ' ' || ci == txt.length){ ofst += e; break; }\n        }\n\n        // add line row\n        output += txt.substr((max_char + ofst_prev) * i, max_char + ofst);\n\n        // line ends earlier than expected, skip loop\n        if(ci == txt.length) break;\n\n        ofst_prev = ofst;\n    }\n\n    return output;\n};\n\nexport const row = (txt, start_ofst, end_ofst, cols) => {\n\n    cols-=1;\n\n    let output = '', max_ofst = 6, ofst_prev = 0, ofst = 0, ci = 0;\n\n    let first_row = true;\n\n    for(let i = 0; i < txt.length; i++){\n        \n        output += txt[i];\n\n        ofst += (1 + countDoubledChars(txt[i]));\n\n        // first loop\n        if(first_row && ofst >= cols - (start_ofst + end_ofst)){ output += '\\n[L]'; ofst = 0; first_row = false;}\n\n        // other loops\n        if(ofst >= cols - end_ofst){ output += '\\n[L]'; ofst = 0; }\n    }\n\n    return output;\n}\n\nexport const countDoubledChars = (text) => {\n\n    // This matches all CJK ideographs.\n    var cjkRegEx = /[\\u3400-\\u4db5\\u4e00-\\u9fa5\\uf900-\\ufa2d]/;\n  \n    var wordCount = 0;\n    var inWord = false;\n    var length = text.length;\n    for (var i = 0; i < length; i++) {\n\n      var curChar = text.charAt(i);\n      if (cjkRegEx.test(curChar)) {\n\n        // Character is a CJK ideograph.\n        // Count it as a word.\n        wordCount += inWord ? 2 : 1;\n        inWord = false;\n      }\n    }\n\n    return wordCount;\n}\n\nexport const getPrintItems = (_this, o, cat, cols) => {\n\n    let items = '';\n\n    // console.log(o.items);\n  \n    for(let i in o.items){\n\n        if(o.items[i].cats == undefined) o.items[i].cats = [];\n\n        if(!o.items[i].cats.includes(cat) && cat.length > 0) continue;\n\n        let total = priceFormat(_this, o.items[i].total);\n        // let end_ofst = ((o.items[i].qty+\"\") + \" X \" + (total+\"\")).length;\n        // items += `[L]<b>${ o.items[i].qty } X ${ row(__(o.items[i].title), end_ofst) }</b>[R]${ total }\\n`;\n        items += `[L]${ o.items[i].qty } X ${ row( __(o.items[i].title), (o.items[i].qty+\"\").length + 3, (total+\"\").length, cols) }[R]${ total }\\n`;\n        for(let v in o.items[i].variations){\n\n            items += `[L] ${ row( __(o.items[i].variations[v].title), 1, 0, cols) }:`;\n            for(let l in  o.items[i].variations[v].list) items += ` ${ __(o.items[i].variations[v].list[l].title) },`;\n\n            if(items.endsWith(',')) items = items.substring(0, items.length - 1) + '\\n';\n            if(!items.endsWith('\\n')) items = items + '\\n';\n        }\n    }\n\n    if(items.endsWith('\\n')) items = items.substring(0, items.length - 1);\n \n    return items;\n}\n\nexport const printQRNative = (_this, order) => {\n\n    // vars\n    let o = order, data = {}, date = new Date();\n\n    // debug vs actual print\n    data.debug = false;\n\n    // get qr template\n    data.print = _this.state.settings.qr_template;\n\n    // qr link\n    data.print = data.print.replace(/{{qr_link}}/g, 'http://'+_this.state.qr_settings.slug + '.kenzap.site');\n    data.print = data.print.replace(/{{qr_number}}/g, document.querySelector('#qr-number').value);\n\n    if(data.debug) { console.log(data.print); console.log(str); }\n\n    let str = 'kenzapprint://kenzapprint.app?data='+encodeURIComponent(JSON.stringify(data));\n\n    return str;\n}\n\nexport const printQR = (_this, qrnum) => {\n\n    // vars\n    let data = {}, date = new Date();\n\n    // debug vs actual print\n    data.debug = false;\n\n    // find QR template\n    let templates = _this.state.settings['templates'].filter(template => { return template.type == \"qr\" && (template.user == \"\" || template.user == _this.state.user.id); });\n\n    // get qr template\n    data.print = templates.length > 0 ? templates[0].template : \"Kenzap Cloud: no qr template found\";\n\n    // qr link\n    data.print = data.print.replace(/{{qr_link}}/g, 'http://'+_this.state.qr_settings.slug + '.kenzap.site');\n\n    // qr number\n    qrnum = qrnum ? qrnum : document.querySelector('#qr-number').value;\n\n    // qr number replace\n    data.print = data.print.replace(/{{qr_number}}/g, qrnum);\n\n    // find max char per line parameter\n    let cols_p = data.print.indexOf('[W:'); let cols = 20;\n    if(cols_p!=-1){ cols = parseInt(data.print.substr(cols_p+3, 2)); data.print = data.print.substr(0, cols_p) + data.print.substr(cols_p+6, data.print.length); }\n    \n    // process styling\n    data.print = processStyling(data.print, cols);\n  \n    // if(data.debug) { console.log(data.print); }\n    console.log(data.print);\n\n    let printers = templates[0][\"user_print\"];\n\n    data[\"user\"] = _this.state.user.id;\n    data[\"printers\"] = printers;\n    data[\"type\"] = \"qr\";\n\n    // return;\n\n    // send data\n    fetch('https://api-v1.kenzap.cloud/ecommerce/', {\n        method: 'post',\n        headers: headers,\n        body: JSON.stringify({\n            query: {\n                print: {\n                    type:       'print',\n                    data:       data,\n                    sid:        spaceID(),\n                }\n            }\n        })\n    })\n    .then(response => response.json())\n    .then(response => {\n\n        if (response.success){\n\n            toast( __('Printing') );\n\n        }else{\n\n            parsePrintError(_this, response);\n\n            // parseApiError(response);\n        }\n    })\n    .catch(error => {\n\n        parseApiError(error);\n    });\n}\n\nexport const autoPrint = (_this) => {\n    \n    if(!_this.state.lastPrintTime) _this.state.lastPrintTime = Math.floor(Date.now() / 1000);\n\n    // process printing pending tasks\n    setInterval((_this) => { \n\n        if((Math.floor(Date.now() / 1000) - _this.state.lastPrintTime) > 7 && _this.state.printQueue.length > 0){\n\n            // console.log(\"pending printing\");\n            // console.log(_this.state.printQueue);\n\n            let _obj = _this.state.printQueue.shift();\n\n            printReceipt(_this, _obj._id, _obj.type, _obj.template);\n\n            _this.state.lastPrintTime = Math.floor(Date.now() / 1000);\n        }\n\n    }, 50, _this);\n\n    // find auto printing receipt\n    let templates = _this.state.settings['templates'].filter(template => { return template.auto_print_action == \"new\" && template.type == \"receipt\" && (template.user == \"\" || template.user == _this.state.user.id); });\n\n    // if no templates stop here\n    if(templates.length == 0) return false;\n\n    // iterate orders and match with templates\n    setInterval((_this) => {\n        \n        // get last order id\n        let last_print_id = localStorage.hasOwnProperty(\"last_print_id\") ? localStorage.getItem(\"last_print_id\") : 0;\n\n        // get orders pending printing \n        let orders = _this.state.orders.filter((o, i) => { return o.status == \"new\" && parseInt(_this.state.orders[i].id) > last_print_id });\n\n        // iterate through all templates\n        orders.reverse();\n        templates.forEach((template, t) => {\n\n            orders.forEach((o, i) => {\n\n                // console.log(template);\n\n                template.auto_print.forEach((p, a) => {\n\n                    let template_temp = {\n                        auto_print: [],\n                        auto_print_action: template.auto_print_action,\n                        template: template.template,\n                        type: template.type,\n                        user: template.user\n                    };\n\n                    template_temp.auto_print.push(p);\n\n                    _this.state.printQueue.push({id: o.id, _id: o._id, type: \"auto\", template: template_temp});\n                });\n                \n                if(o.id > last_print_id) last_print_id = o.id;\n            });\n        });\n\n        // mark all orders as printed\n        localStorage.setItem(\"last_print_id\", last_print_id);\n\n    }, 5000, _this);\n}\n\nexport const isPrintQREnabled = (_this) => {\n\n    // find QR template\n    let templates = _this.state.settings['templates'].filter(template => { return template.type == \"qr\" && (template.user == \"\" || template.user == _this.state.user.id); });\n\n    return templates.length > 0 ? true : false;\n}\n\nconst parsePrintError = (_this, response) => {\n\n    toast( __(response.reason) );\n\n    if(document.querySelector('.alert[data-id=\"print-api\"')){ document.querySelector('.alert[data-id=\"print-api\"').remove(); }\n\n    let messages = [{ _id: \"print-api\", color: \"danger\", msg: __html(response.reason) }];\n\n    renderNotifications(_this, messages);\n\n    try{\n        if(isMobile()) window.navigator.vibrate(200);\n    }catch{\n\n    }\n}","import { onClick, __attr, __html, html, toast, onChange, headers, spaceID } from '@kenzap/k-cloud';\nimport { printReceipt } from \"../_/_print.js\"\n\nexport const printerSettings = {\n\n  _this: null,\n  templateDefault : {\n    'auto_print': [],\n    'user_print': [],\n    'template': '',\n    'type': 'receipt',\n    'user': ''\n  },\n\n  init: (_this) => {\n\n    printerSettings._this = _this;\n    printerSettings.renderSettings(_this);\n  },\n\n  renderSettings: (_this) => {\n\n    let printers = [];\n    if(_this.state.response.settings.printers) printers = _this.state.response.settings.printers;\n\n    // render printers\n    if(Array.isArray(printers)){\n\n        // pricing row parent\n        printers.forEach((printer, i) => {\n\n          document.querySelector('.printer-table tbody').insertAdjacentHTML(\"beforeend\", printerSettings.structPrinterRow(printer, i));\n        });\n\n    }else{\n\n      printers = [];\n      document.querySelector('#printers').value = '[]';\n    }\n\n    // cache printers\n    document.querySelector('#printers').value = JSON.stringify(printers);\n\n    // set templates\n    printerSettings.renderTemplatesSettings(_this);\n\n    // init listeners\n    printerSettings.initListeners(_this);\n  },\n\n  renderTemplatesSettings: (_this) => {\n\n    if(!_this.state.response.settings['templates']) _this.state.response.settings['templates'] = [];\n    if(_this.state.response.settings['templates'].length == 0) _this.state.response.settings['templates'].push(printerSettings.templateDefault);\n\n    // render templates\n    let html = '';\n    _this.state.response.settings['templates'].forEach((template, i) => { html += printerSettings.structPrintTemplateItem(_this, i+1, true); });\n    document.querySelector('#templates-list').innerHTML = html;\n\n    // temlate listeners\n    printerSettings.templateListeners(_this);\n  },\n\n  initListeners: (_this) => {\n\n    let printers = document.querySelector('#printers').value;\n\n    if(printers){ printers = JSON.parse(printers); }else{ printers = []; }\n\n    // new template listener\n    onClick(\".btn-template-new\", e => {\n\n      _this.state.response.settings[\"templates\"].push(printerSettings.templateDefault);\n\n      document.querySelector('#templates-list').insertAdjacentHTML(\"beforeend\", printerSettings.structPrintTemplateItem(_this, _this.state.response.settings[\"templates\"].length, true));\n\n      // temlate listener\n      printerSettings.templateListeners(_this);\n    });\n    \n    // printer type select listener\n    onClick(\".printer-type .dropdown-item\", e => { printerSettings.modelSelect(e); });\n    \n    // printer paper type select listener\n    onClick(\".printer-paper-type .dropdown-item\", e => { printerSettings.paperSelect(e); });\n\n    // remove printer listener\n    onClick('.remove-printer', printerSettings.removePrinter);\n\n    // printer add listener\n    onClick(\".add-printer\", e => {\n\n        e.preventDefault();\n\n        let obj = {}\n\n        obj.idd = document.querySelector('.printer-idd').value;\n        obj.type = document.querySelector('.printer-type button').dataset.value; \n        obj.paper = document.querySelector('.printer-paper-type button').dataset.value; \n        obj.ip = document.querySelector('.printer-ip').value; \n\n        if(obj.idd.length < 1 || obj.type.length < 1){ alert( __(\"Fill in all fields first!\") ); return false; }\n\n        document.querySelector('.printer-idd').value = '';\n        document.querySelector('.printer-type button').dataset.value = '';\n        document.querySelector('.printer-ip').value = '';\n\n        let printers = document.querySelector('#printers').value;\n\n        console.log(printers);\n\n        if(printers){ printers = JSON.parse(printers); }else{ printers = []; }\n        if(Array.isArray(printers)){ printers.push(obj); }else{ printers = []; }\n        document.querySelector('#printers').value = JSON.stringify(printers);\n        document.querySelector('.printer-table tbody').insertAdjacentHTML(\"beforeend\", printerSettings.structPrinterRow(obj, printers.length-1));\n\n        // remove printer listener\n        onClick('.remove-printer', printerSettings.removePrinter);\n\n        // refresh templates\n        printerSettings.renderTemplatesSettings(_this);\n\n    });\n  },\n\n  templateListeners: (_this) => {\n\n    onClick('.remove-template', printerSettings.removeTemplateRow);\n\n    onChange('.template_auto_print_action', e => {\n\n      // console.log('change' + e.currentTarget.value);\n      if(e.currentTarget.value == '') e.currentTarget.parentElement.querySelector('.template_auto_print').classList.add('d-none');\n      if(e.currentTarget.value != '') e.currentTarget.parentElement.querySelector('.template_auto_print').classList.remove('d-none');\n    });\n\n    onClick('.test-template', e => {\n      \n      // get all printers\n      let printers = document.querySelector('#printers').value;\n      if(printers){ printers = JSON.parse(printers); }else{ printers = []; }\n\n      // selected printer index\n      let pi = parseInt(e.currentTarget.dataset.index);\n\n      // confirm user\n      if(!confirm( __(\"Send this template to %1$ printer %2$?\", printers[pi].type, (pi+1)+\"-\"+printers[pi].idd) )) return;\n\n      let template = {};\n\n      template['template'] = e.currentTarget.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.querySelector('.template').value;\n      template['type'] = \"receipt\";\n      template['user'] = \"\";\n      template['user_print'] = [];\n      printers[pi].index = pi+1;\n      template['user_print'].push(printers[pi]);\n\n      console.log(template);\n\n      // send print request\n      printReceipt(_this, \"test\", \"user\", template);\n    });\n  },\n\n  saveFile: (blob, filename) => {\n    if (window.navigator.msSaveOrOpenBlob) {\n      window.navigator.msSaveOrOpenBlob(blob, filename);\n    } else {\n      const a = document.createElement('a');\n      document.body.appendChild(a);\n      const url = window.URL.createObjectURL(blob);\n      a.href = url;\n      a.download = filename;\n      a.click();\n      setTimeout(() => {\n        window.URL.revokeObjectURL(url);\n        document.body.removeChild(a);\n      }, 0)\n    }\n  },\n\n  removeTemplateRow: (e) => {\n\n    console.log(e.currentTarget.dataset.index);\n\n    if(confirm(__('Remove this template?'))) document.querySelector('.templates-list .accordion-item[data-index=\"'+e.currentTarget.dataset.index+'\"]').remove();\n  },\n\n  modelSelect: (e) => {\n\n    e.preventDefault();\n\n    document.querySelector(\".printer-type button\").innerHTML = e.currentTarget.innerHTML;\n    document.querySelector(\".printer-type button\").dataset.value = e.currentTarget.dataset.value;\n\n    if(e.currentTarget.dataset.value==\"ethernet\"){\n\n      document.querySelector('.printer-ip-th').classList.remove(\"d-none\");\n      document.querySelector('.printer-ip-td').classList.remove(\"d-none\");\n      // document.querySelector('.printer-ip-td2').classList.remove(\"d-none\");\n    }\n\n    if(e.currentTarget.dataset.value==\"bluetooth\" || e.currentTarget.dataset.value==\"usb\"){\n\n      document.querySelector('.printer-ip-th').classList.add(\"d-none\");\n      document.querySelector('.printer-ip-td').classList.add(\"d-none\");\n      // document.querySelector('.printer-ip-td2').classList.add(\"d-none\");\n    }\n  },\n\n  paperSelect: (e) => {\n\n    e.preventDefault();\n\n    document.querySelector(\".printer-paper-type button\").innerHTML = e.currentTarget.innerHTML;\n    document.querySelector(\".printer-paper-type button\").dataset.value = e.currentTarget.dataset.value;\n  },\n\n  removePrinter: (e) => {\n\n      e.preventDefault();\n\n      let c = confirm( __('Remove this record?') );\n\n      if(!c) return;\n\n      let i = e.currentTarget.dataset.i;\n\n      let printers = JSON.parse(document.querySelector('#printers').value);\n\n      printers.splice(i, 1);\n\n      document.querySelector('#printers').value = JSON.stringify(printers);\n\n      e.currentTarget.parentElement.parentElement.remove();\n\n      // console.log(document.querySelector('#printers').value);\n\n      printerSettings.renderTemplatesSettings(printerSettings._this);\n  },\n\n  save: (_this, data) => {\n\n    data['templates'] = [];\n    if(document.querySelector(\".templates-list .accordion-item\")) for(let tl of document.querySelectorAll(\".templates-list .accordion-item\")){\n\n        let obj = {};\n\n        obj['template'] = tl.querySelector('.template').value;\n        obj['type'] = tl.querySelector('.template_type').value;\n        obj['user'] = tl.querySelector('.template_user').value;\n        obj['user_print'] = [];\n        obj['auto_print_action'] = tl.querySelector('.template_auto_print_action').value;\n        obj['auto_print'] = [];\n\n        if(tl.querySelector('input.template_auto_print:checked')) for(let tap of tl.querySelectorAll(\"input.template_auto_print:checked\")){\n\n            obj['auto_print'].push({ index: tap.dataset.index, idd: tap.dataset.idd, type: tap.dataset.type, ip: tap.dataset.ip, paper: tap.dataset.paper });\n        }\n\n        if(tl.querySelector('input.template_user_print:checked')) for(let uap of tl.querySelectorAll(\"input.template_user_print:checked\")){\n\n            obj['user_print'].push({ index: uap.dataset.index, idd: uap.dataset.idd, type: uap.dataset.type, ip: uap.dataset.ip, paper: uap.dataset.paper });\n        }\n\n        data['templates'].push(obj);\n    }\n\n    return data;\n  },\n\n  structPrinterRow: (obj, i) => {\n\n      return `\n      <tr class=\"printer-row form-text\" >\n          <td class=\"tp\">\n              <div class=\"me-1 me-sm-3 my-1 \">\n              ${ i+1 }-${ obj.idd }\n              </div>\n          </td>\n          <td>\n              <div class=\"me-1 me-sm-3 my-1\">\n                ${ obj.type == \"bluetooth\" ? '<img style=\"height:20px\" src=\"/assets/img/bluetooth.webp\" >' : '' } \n                ${ obj.type == \"ethernet\" ? '<img style=\"height:20px\" src=\"/assets/img/ethernet.png\" >' : '' } \n                ${ obj.type == \"usb\" ? '<img style=\"height:20px\" src=\"/assets/img/usb.png\" >' : '' } \n                ${ obj.type }\n              </div>\n          </td>\n          <td>\n              <div class=\"me-1 me-sm-3 my-1\">\n                ${ obj.paper == \"58\" || !obj.paper ? __html('58mm') : '' } \n                ${ obj.paper == \"80\" ? __html('80mm') : '' }\n              </div>\n          </td>\n          <td class=\"\">\n              <div class=\"me-1 me-sm-3 my-1\">\n                  ${ obj.ip }\n              </div>\n          </td>\n          <td class=\"align-middle text-center pt-2\"> \n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#ff0079\" class=\"remove-printer bi bi-x-circle po\" data-i=\"${ i }\" viewBox=\"0 0 16 16\">\n                  <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"></path>\n                  <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"></path>\n              </svg>\n          </td>\n      </tr>`;\n\n  },\n\n  structPrintTemplateItem: (_this, i, show = false) => {\n\n    let template = _this.state.response.settings[\"templates\"][i-1];\n\n    let printers = document.querySelector('#printers').value;\n    if(printers){ printers = JSON.parse(printers); }else{ printers = []; }\n    // document.querySelector('#printers').value = JSON.stringify(printers);\n\n\n    // render printers html\n    let auto_printers  = ''; printers.forEach((printer, ip) => {\n\n      let checked = \"\";\n      if(!template['auto_print']) template['auto_print'] = [];\n      template['auto_print'].filter(ap => { if(ap.idd == printer.idd && ap.index == (ip+1) ){ checked = \"checked\"; } })\n\n      auto_printers += `\n        <div class=\"form-check\">\n          <input id=\"auto_print${ ip+1 }\" class=\"form-check-input template_auto_print\" name=\"auto_print\" type=\"checkbox\" value=\"1\" data-index=\"${ ip+1 }\" data-idd=\"${ printer.idd }\" data-type=\"${ printer.type }\" data-ip=\"${ printer.ip }\" data-paper=\"${ printer.paper }\" data-value=\"\" data-type=\"checkbox\" ${checked}>\n          <label class=\"form-check-label\" for=\"auto_print${ ip+1 }\">\n            ${ ip+1 }-${ printer.idd } \n\n            ${ printer.type == \"bluetooth\" ? '<img style=\"height:20px\" src=\"/assets/img/bluetooth.webp\" >' : '' } \n            ${ printer.type == \"ethernet\" ? '<img style=\"height:20px\" src=\"/assets/img/ethernet.png\" >' : '' } \n            ${ printer.type == \"usb\" ? '<img style=\"height:20px\" src=\"/assets/img/usb.png\" >' : '' } \n\n          </label>\n        </div>\n      `;\n    });\n\n    // render users\n    let users  = ''; _this.state.response.users.forEach((user, iu) => {\n\n      users += `<option value=\"${user.id}\" ${ template.user == user.id ? \"selected\" : \"\" }>${user.name}</option>`;\n    });\n\n    // render printers html\n    let user_printers  = ''; printers.forEach((printer, ip) => {\n\n      let checked = \"\";\n      if(!template['user_print']) template['user_print'] = [];\n      template['user_print'].filter(ap => { if(ap.idd == printer.idd && ap.index == (ip+1) ){ checked = \"checked\"; } })\n\n      user_printers += `\n        <div class=\"form-check clearfix\">\n          <input id=\"user_print${ ip+1 }\" class=\"form-check-input template_user_print\" name=\"user_print\" type=\"checkbox\" value=\"1\" data-index=\"${ ip+1 }\" data-idd=\"${ printer.idd }\" data-type=\"${ printer.type }\" data-ip=\"${ printer.ip }\" data-paper=\"${ printer.paper }\" data-value=\"\" data-type=\"checkbox\" ${checked}>\n          <label class=\"form-check-label\" for=\"user_print${ ip+1 }\">\n            ${ ip+1 }-${ printer.idd }\n\n            ${ printer.type == \"bluetooth\" ? '<img style=\"height:20px\" src=\"/assets/img/bluetooth.webp\" >' : '' } \n            ${ printer.type == \"ethernet\" ? '<img style=\"height:20px\" src=\"/assets/img/ethernet.png\" >' : '' } \n            ${ printer.type == \"usb\" ? '<img style=\"height:20px\" src=\"/assets/img/usb.png\" >' : '' } \n\n          </label>\n          <div class=\"d-inline   me-1\" style=\"float:right;\" title=\"${ __attr(\"click for test print\") }\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" fill=\"currentColor\" class=\"bi bi-printer test-template ms-2 po text-primary\" viewBox=\"0 0 16 16\" data-index=\"${(ip)}\">\n                    <path d=\"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z\"></path>\n                    <path d=\"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z\"></path>\n            </svg>\n          </div>\n        </div>\n      `;\n    });\n\n    return `\n    <div class=\"accordion-item border-0 mb-3\" data-index=\"${i-1}\" >\n      <h2 class=\"accordion-header\" id=\"flush-heading-${i}\">\n        <button class=\"accordion-button ${ (i == 1 || show) ? \"\":\"collapsed\" }\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#flush-collapse-${i}\" aria-expanded=\"${ (i || show) == 1 ? \"true\":\"false\" }\" aria-controls=\"flush-collapse-${i}\">\n          ${ __html(\"Template #%1$\", i) }\n        </button>\n      </h2>\n      <div id=\"flush-collapse-${i}\" class=\"accordion-collapse collapse ${ (i == 1 || show) ? \"show\":\"\" } mt-3\" aria-labelledby=\"flush-heading-${i}\" data-bs-parent=\"#templates-list\">\n        <div class=\"accordion-body\">\n        \n          <div class=\"row inp-list\">\n\n            <div class=\"col-lg-6 \">\n              <div class=\"form-group row mb-3 mt-1\">\n                <div class=\"col-sm-12\" >\n                  <textarea class=\"form-control template inp\" name=\"template\" rows=\"20\" data-type=\"text\" style=\"font-size:13px;font-family: monospace;\">${ template.template }</textarea>\n                  <p class=\"form-text\">${__html('Template code.')}</p>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"col-lg-6\">\n              <div class=\"form-group row mb-3 mt-1 \">\n                <label class=\"col-sm-3 col-form-label\">${__html('Template type')}</label>\n                <div class=\"col-sm-9\">\n                  <select class=\"form-select template_type\" name=\"template_type\" data-type=\"select\">\n                    <option value=\"receipt\" ${ template.type == \"receipt\" ? \"selected\" : \"\" }>${__html('Receipt')}</option>\n                    <option value=\"invoice\" ${ template.type == \"invoice\" ? \"selected\" : \"\" }>${__html('Invoice')}</option>\n                    <option value=\"qr\" ${ template.type == \"qr\" ? \"selected\" : \"\" }>${__html('QR-code')}</option>\n                  </select>\n                  <p class=\"form-text\">${__html('QR-code receipt type adds extra button to the orders page.')}</p>\n                </div> \n              </div>\n              <div class=\"form-group row mb-3 mt-1 \">\n                <label class=\"col-sm-3 col-form-label\">${__html('Default for')}</label>\n                <div class=\"col-sm-9\">\n                  <select class=\"form-select template_user mb-2 mt-1\" name=\"template_user\" data-type=\"select\">\n                    <option value=\"\">${__html('All users')}</option>\n                    ${ users }\n                  </select>\n                  <div class=\"template_user_print\">\n                    ${ user_printers }\n                  </div>\n                  <p class=\"form-text\">${__html('Assign this receipt to one of the selected users and printers.')}</p>\n                </div> \n              </div>\n              <div class=\"form-group row mb-3 mt-1 \">\n                <label class=\"col-sm-3 col-form-label\">${__html('Auto print')}</label>\n                <div class=\"col-sm-9\" >\n                  <select class=\"form-select template_auto_print_action mb-2 mt-1\" name=\"template_auto_print_action\" data-type=\"select\">\n                    <option value=\"\">${__html('Never')}</option>\n                    <option value=\"new\" ${ template.auto_print_action == \"new\" ? \"selected\" : \"\" }>${__html('New order')}</option>\n                    <option value=\"completed\" ${ template.auto_print_action == \"completed\" ? \"selected\" : \"\" }>${__html('Completed order')}</option>\n                    <option value=\"canceled\" ${ template.auto_print_action == \"canceled\" ? \"selected\" : \"\" }>${__html('Canceled order')}</option>\n                    <option value=\"failed\" ${ template.auto_print_action == \"failed\" ? \"selected\" : \"\" }>${__html('Failed order')}</option>\n                  </select>\n                  <div class=\"template_auto_print ${ template.auto_print_action == \"\" ? \"d-none\" : \"\" }\" >\n                    ${ auto_printers }\n                  </div>\n                  <p class=\"form-text\">${__html('Auto print this template when selected action is triggered.')}</p>\n                </div> \n              </div>\n              <div class=\"form-group mb-3 mt-1 \">\n                <button class=\"d-none btn btn-sm btn-outline-success test-template mt-5 mb-1 mt-md-4 mb-md-0 d-flex align-items-center ms-auto bd-highlight\" type=\"button\" data-index=\"${(i-1)}\">${ __html('Test print') }</button>\n                <button class=\"btn btn-sm btn-outline-danger remove-template mt-5 mb-1 mt-md-4 mb-md-0 d-flex align-items-center ms-auto bd-highlight\" type=\"button\" data-index=\"${(i-1)}\">${ __html('Remove template') }</button>\n              </div>\n            </div>\n\n            <div class=\"col-lg-6 d-none\">\n\n            </div>\n\n            <div class=\"col-lg-6 d-none\">\n              <div class=\"form-group row mb-3 mt-1\">\n                <div class=\"col-sm-12\" >\n                  <iframe class=\"template-preview\" style=\"width:600px;min-height:400px\" srcdoc=\"${ html(template.template) }\"></iframe>\n                  <p class=\"form-text\">${__html('Template preview.')}</p>\n                </div>\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    </div>`;\n\n  }\n}","import { H, __html, showLoader, hideLoader, initHeader, initBreadcrumbs, parseApiError, getCookie, onClick, onKeyUp, toast, link } from '@kenzap/k-cloud';\nimport { getCurrencies, initFooter } from \"../_/_helpers.js\"\nimport { HTMLContent } from \"../_/_cnt_settings.js\"\nimport { printerSettings } from \"../_/_printer_settings.js\"\n\n/**\n * Settings page of the dashboard.\n * Loads HTMLContent from _cnt_settings.js file.\n * Renders settings options in tabbed view.\n * \n * @version 1.0\n */\nclass Settings {\n\n    // construct class\n    constructor(){\n        \n        this.state = {\n            firstLoad: true,\n            response: null,\n            limit: 10, // number of records to load per table\n        };\n    \n        // connect to backend\n        this.getData();\n    }\n\n    /**\n     * Get data from the cloud and authenticate the user.\n     * Load translation strings, settings and basic user info.\n     * Get any additional data by extending the query object.\n     * \n     * @version 1.0\n     * @link https://developer.kenzap.cloud/\n     */\n    getData = () => {\n\n        // show loader during first load\n        if (this.state.firstLoad) showLoader();\n\n        // search content\n        let s = document.querySelector('.search-cont input') ? document.querySelector('.search-cont input').value : '';\n\n        // do API query\n        fetch('https://api-v1.kenzap.cloud/', {\n            method: 'post',\n            headers: H(),\n            body: JSON.stringify({\n                query: {\n                    user: {\n                        type:       'authenticate',\n                        fields:     ['avatar'],\n                        token:      getCookie('kenzap_token')\n                    },\n                    users: {\n                        type:       'users',\n                        fields:     ['id', 'name'],\n                    },\n                    locale: {\n                        type:       'locale',\n                        source:      ['extension'],\n                        key:         'ecommerce',\n                    },\n                    settings: {\n                        type:       'get',\n                        key:        'ecommerce-settings',\n                        fields:     '*',\n                    }\n                }\n            })\n        })\n        .then(response => response.json())\n        .then(response => {\n\n            this.state.settings = response.settings;\n            this.state.user = response.user;\n\n            // hide UI loader\n            hideLoader();\n\n            if(response.success){\n\n                // init header\n                initHeader(response);\n                \n                // get core html content \n                this.html();  \n\n                // render table\n                this.render(response);\n\n                // bind content listeners\n                this.initListeners();\n            \n                // initiate footer\n                initFooter(this);\n\n                // first load\n                this.state.firstLoad = false;\n\n            }else{\n\n                parseApiError(response);\n            }\n        })\n        .catch(error => { parseApiError(error); });\n    }\n\n    authUser = (response) => {\n\n        if(response.user){\n            \n            if(response.user.success == true){\n\n                \n            }\n        }\n    }\n\n    html = () => {\n\n        if(!this.state.firstLoad) return;\n\n        // get core html content \n        document.querySelector('#contents').innerHTML = HTMLContent();\n    }\n\n    render = (response) => {\n\n        this.state.response = response;\n\n        if(this.state.firstLoad){\n\n            // initiate breadcrumbs\n            initBreadcrumbs(\n                [\n                    { link: link('https://dashboard.kenzap.cloud'), text: __html('Home') },\n                    { link: link('/'), text: __html('E-commerce') },\n                    { text: __html('Settings') }\n                ]\n            );\n        }\n\n        // setup currencies\n        let coptions = '<option value=\"\">'+__html('Choose currency')+'</option>';\n        for (let c of getCurrencies()){\n\n            coptions += `<option value=\"${ c.code }\">${ __html(c.name) } (${ __html(c.code) })</option>`;\n        }\n        document.querySelector(\"#currency\").innerHTML = coptions;\n\n        // populate fields\n        for (let field in response.settings){\n\n            if(typeof(response.settings[field]) === \"undefined\") continue;\n            if(response.settings[field] == \"\") continue;\n            if(document.querySelector(\"[name='\"+field+\"']\")) switch(document.querySelector(\"[name='\"+field+\"']\").dataset.type){\n        \n                case 'text':   \n                case 'email':  \n                case 'emails':  \n                case 'select':\n                case 'textarea': document.querySelector(\"#\"+field).value = response.settings[field]; break;\n                case 'checkbox': document.querySelector(\"#\"+field).checked = response.settings[field] == \"1\" ? true : false; break;\n                case 'radio': document.querySelector(\"[name='\"+field+\"'][value='\"+response.settings[field]+\"']\").checked = true; break;\n            }\n        }\n\n        // local fields\n        for(let field of document.querySelectorAll('.inp-local')){\n\n            switch(document.querySelector(\"[name='\"+field.name+\"']\").dataset.type){\n        \n                case 'text':   \n                case 'email':  \n                case 'emails':  \n                case 'select':\n                case 'textarea': field.value = localStorage.hasOwnProperty(field.name) ? localStorage.getItem(field.name) : \"\"; break;\n                case 'checkbox': console.log(localStorage.hasOwnProperty(field.name) ? localStorage.getItem(field.name) : false); field.checked = localStorage.hasOwnProperty(field.name) ? localStorage.getItem(field.name) == \"true\" ? true : false : false; break;\n            }\n        }\n\n        // printer settings\n        printerSettings.init(this);\n\n        // webhooks\n        if(response.settings.webhooks) response.settings.webhooks.forEach((hook, i) => {\n\n            document.querySelector('[name=\"webhook1_trigger\"]').value = hook['trigger'];\n            document.querySelector('[name=\"webhook1_url\"]').value = hook['url'];\n        });\n    }\n\n    initListeners = () => {\n\n        // break here if initListeners is called more than once\n        if(!this.state.firstLoad) return;\n\n        // add product modal\n        onClick('.btn-save', this.saveSettings);\n    }\n\n    listeners = {\n\n        removeProduct: (e) => {\n\n            e.preventDefault();\n\n            let c = confirm( __html('Completely remove this product?') );\n\n            if(!c) return;\n  \n            // send data\n            fetch('https://api-v1.kenzap.cloud/', {\n                method: 'post',\n                headers: H(),\n                body: JSON.stringify({\n                    query: {\n                        product: {\n                            type:       'delete',\n                            key:        'product',   \n                            id:         e.currentTarget.dataset.id, \n                        }\n                    }\n                })\n            })\n            .then(response => response.json())\n            .then(response => {\n\n                if (response.success){\n\n                    this.getData();\n\n                }else{\n\n                    parseApiError(response);\n                }\n                \n            })\n            .catch(error => { parseApiError(error); });\n        },\n \n        searchProductsActivate: (e) => {\n\n            e.preventDefault();\n\n            document.querySelector('.table-p-list thead tr th:nth-child(2) span').style.display = 'none';\n            document.querySelector('.table-p-list thead tr th:nth-child(2) .search-cont').style.display = 'flex';\n            document.querySelector('.table-p-list thead tr th:nth-child(2) .search-cont input').focus();\n\n            // search products\n            onKeyUp('.table-p-list thead tr th:nth-child(2) .search-cont input', this.listeners.searchProducts);\n        },\n \n        searchProducts: (e) => {\n\n            e.preventDefault();\n\n            this.getData();\n        },\n\n        modalSuccessBtn: (e) => {\n            \n            this.listeners.modalSuccessBtnFunc(e);\n        },\n\n        modalSuccessBtnFunc: null\n    }\n\n    saveSettings = (e) => {\n\n        e.preventDefault();\n\n        let data = {};\n\n        // iterate through all fields\n        for(let s of document.querySelectorAll('.inp')){\n\n            switch(s.dataset.type){\n          \n                case 'text':   \n                case 'email':  \n                case 'emails':  \n                case 'select':\n                case 'textarea': data[s.id] = s.value; break;\n                case 'checkbox': data[s.id] = s.checked ? s.value : \"\"; break;\n                case 'radio': data[s.name] = s.parentElement.parentElement.parentElement.parentElement.querySelector('input:checked').value; break;\n            }\n        }\n\n        // iterate through local stored fields\n        for(let field of document.querySelectorAll('.inp-local')){\n\n            switch(document.querySelector(\"[name='\"+field.name+\"']\").dataset.type){\n        \n                case 'text':\n                case 'email':\n                case 'emails':\n                case 'select':\n                case 'textarea': localStorage.setItem(field.name, field.value); break;\n                case 'checkbox': localStorage.setItem(field.name, field.checked); break;\n                // case 'radio': document.querySelector(\"[name='\"+field+\"'][value='\"+response.settings[field]+\"']\").checked = true; break;\n            }\n        }\n\n        // do not save last_order_id if it was unchanged. Avoids conflicts.\n        if(this.state.response.settings.last_order_id == data.last_order_id){\n\n            delete data.last_order_id;\n        }\n\n        // normalize price array\n        if(data['printers']) data['printers'] = JSON.parse(data['printers']);\n\n        // get templates\n        data = printerSettings.save(this, data);\n\n        // webhooks\n        data.webhooks = [];\n        for(let row of document.querySelectorAll('.webhook-list')){\n            \n            let obj = {};\n            obj.trigger = row.querySelector('.webhook_trigger').value;\n            obj.url = row.querySelector('.webhook_url').value;\n\n            data.webhooks.push(obj);\n        }\n        \n        console.log(data);\n\n        // send data\n        fetch('https://api-v1.kenzap.cloud/', {\n            method: 'post',\n            headers: H(),\n            body: JSON.stringify({\n                query: {\n                    settings: {\n                        type:       'set',\n                        key:        'ecommerce-settings',       \n                        data:       data\n                    }\n                }\n            })\n        })\n        .then(response => response.json())\n        .then(response => {\n\n            if (response.success){\n\n                toast('Changes applied');\n            }else{\n\n                parseApiError(response);\n            }\n            \n        })\n        .catch(error => { parseApiError(error); });\n    }\n\n    initFooter = () => {\n        \n        initFooter(__html('Created by %1$Kenzap%2$. ❤️ Licensed %3$GPL3%4$.', '<a class=\"text-muted\" href=\"https://kenzap.com/\" target=\"_blank\">', '</a>', '<a class=\"text-muted\" href=\"https://github.com/kenzap/ecommerce\" target=\"_blank\">', '</a>'), '');\n    }\n}\n\nnew Settings();"],"names":["__","onClick","priceFormat","_this","price","makeNumber","Math","round","parseFloat","toFixed","state","settings","currency_symb_loc","currency_symb","sel","fn","document","querySelector","_iterator2","_createForOfIteratorHelper","querySelectorAll","_step2","s","n","done","e","value","removeEventListener","addEventListener","err","f","isMobile","nav","navigator","userAgent","toLowerCase","match","playSound","max","timer","clearInterval","allowed","audio","play","window","vibrate","_unused","setInterval","renderNotifications","messages","html","forEach","msg","nids","includes","_id","push","concat","color","getData","insertAdjacentHTML","fetch","method","headers","H","body","JSON","stringify","query","updates","type","id","currentTarget","dataset","then","response","json","success","error","_iterator3","_step3","el","assigned","simulateClick","initFooter","left","__html","right","link","innerHTML","getCurrencies","HTMLContent","printReceipt","template","debug","arguments","length","undefined","o","data","date","Date","created","from","idd","items","cats","index","note","qty","sdesc","title","total","variations","kid","name","sid","spaceID","status","discount_percent","discount_total","discount_value","fee_total","grand_total","payment_method","tax_percent","tax_total","step","table","total_all","updated","orders","filter","order","console","log","templates","user","print","cols_p","indexOf","cols","parseInt","substr","replace","takeaway","phone","addr1","toLocaleString","dateStyle","timeStyle","getPrintItems","matches","matchAll","Array","x","cat","items_restricted","re","RegExp","start","end","slice","order_totals","fee_display","tax_display","printers","processStyling","toast","parsePrintError","parseApiError","printRequest","rows","split","output","_iterator","_step","_loop","row","max_char","r","l","c","countDoubledChars","spaceN","addSpaces","floor","ceil","empty","_toConsumableArray","char","rowNew","last_row_length","i","txt","start_ofst","end_ofst","max_ofst","ofst","first_row","text","cjkRegEx","wordCount","inWord","curChar","charAt","test","v","list","endsWith","substring","reason","remove","printerSettings","templateDefault","init","renderSettings","isArray","printer","structPrinterRow","renderTemplatesSettings","initListeners","structPrintTemplateItem","templateListeners","parse","modelSelect","paperSelect","removePrinter","preventDefault","obj","paper","ip","alert","removeTemplateRow","onChange","parentElement","classList","add","pi","confirm","saveFile","blob","filename","msSaveOrOpenBlob","a","createElement","appendChild","url","URL","createObjectURL","href","download","click","setTimeout","revokeObjectURL","removeChild","splice","save","tl","tap","uap","show","auto_printers","checked","ap","users","iu","user_printers","__attr","auto_print_action","Settings","_createClass","_classCallCheck","_defineProperty","firstLoad","showLoader","fields","token","getCookie","locale","source","key","hideLoader","initHeader","render","initBreadcrumbs","coptions","code","field","localStorage","hasOwnProperty","getItem","webhooks","hook","saveSettings","removeProduct","product","searchProductsActivate","style","display","focus","onKeyUp","listeners","searchProducts","modalSuccessBtn","modalSuccessBtnFunc","_iterator4","_step4","setItem","last_order_id","_iterator5","_step5","trigger","limit"],"mappings":"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"}